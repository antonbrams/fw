{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap fc68ee8d57c989e4bb27","webpack:///./src/index.js","webpack:///./src/core/Layer.js","webpack:///./src/core/Screen.js","webpack:///./src/core/gesture.js","webpack:///./src/core/model.js","webpack:///./src/fn/animation.js","webpack:///./src/fn/array.js","webpack:///./src/fn/color.js","webpack:///./src/fn/css.js","webpack:///./src/fn/dom.js","webpack:///./src/fn/etc.js","webpack:///./src/fn/event.js","webpack:///./src/fn/geometry.js","webpack:///./src/fn/math.js","webpack:///./src/fn/matrix.js","webpack:///./src/fn/text.js","webpack:///./src/fn/value.js","webpack:///./src/fn/vector.js","webpack:///./src/ui/Device.js","webpack:///./src/ui/Scroller.js","webpack:///./src/ui/Toggle.js","webpack:///./src/core/style.sass?99c7","webpack:///./src/core/style.sass","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","Device","Toggle","Scroller","gesture","model","Screen","Layer","css","text","etc","event","dom","color","math","matrix","vec","arr","geo","val","animation","undefined","_animation","_value","_geometry","_array","_vector","_matrix","_math","_color","_dom","_event","_etc","_text","_css","_Layer","_Screen","_model","_gesture","_Scroller","_Toggle","_Device","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_index","options","identifier","Date","getTime","Machine","data","_props","transformation","origin","translate","scale","fill","rotate","matrix3d","pop","templateUpdater","transformationTouchEventLink","exists","isObj","create","parent","set","isDom","isStr","parentNode","topic","fn","on","support","listener","isFn","_setAttribute","style","_setCss","option","_this","emit","setAttribute","removeAttribute","_this2","computed","params","_this3","modelKey","to","initValue","curValue","from","param","removeChild","pos","left","top","size","width","height","offset","vpo","position","offsetWidth","offsetHeight","unit","document","body","appendChild","x","y","next","end","flow","time","ease","delay","clone","cloneNode","layer","a","b","boxCollision","vecdim","query","children","querySelector","querySelectorAll","out","push","append","_this4","el","isArr","forEach","prepend","classList","toggle","contains","_this5","item","add","_this6","remove","bg","image","backgroundImage","backgroundOrigin","backgroundPosition","backgroundSize","backgroundRepeat","repeat","backgroundColor","variant","weight","family","align","lineHeight","shadow","_this7","side","radius","t","r","tl","tr","bl","br","v","project","old","match","fromString","addClass","replaceWith","_this8","string","innerHTML","template","html","bind","off","offsetLeft","offsetTop","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","margin","marginLeft","marginTop","marginRight","marginBottom","_this9","axis","applyTransformation","_this10","_this11","isNum","z","rect","center","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","getPrototypeOf","apply","arguments","window","innerWidth","innerHeight","animationPreset","wheel","transport","e","vector","w","wheelDelta","detail","_cornerInterface","type","edges","down","init","sub","pointer","angle2d","parseInt","move","rotation","constraints","rubberRange","min","max","onLimit","draw","up","animate","resize","globalConstraints","localConstraints","h","globalRange","range","drag","leftTop","rightBottom","opposite","localRange","lSide","tSide","Corner","div","createElement","types","clientX","clientY","stop","active","edge","method","isTouch","temp","assign","defaultMove","cancel","pinchToRotate","_initMultitouchGesture","pinchToZoom","_dragMouse","velocity","_dragMouseEventPattern","reset","address","transport_","_multitouch","checkToggle","flag","link","getTranslation","getRotation","getScale","touches","scale_rotate","lastState","_dragTouchEventPattern","mix","pointers","rConst","last","sConst","id","targetTouches","pinch","multiply","preventDefault","convertTouches","fingers","assets","signs","words","split","mac","windows","linux","expressions","int","opt","mode","render","Math","floor","random","count","capitalize","sentence","randomWord","signIndex","pow","sign","word","substring","source","remote","local","escape","seed","randInt","iterate","callback","destroy","make","methods","Array","splice","deleted","find","delete","filterMap","put","expression","index","shuffle","_parseExpressions","replace","result","keyframes","styleSheets","insertRule","vendor","animationName","removeRule","removeEventListener","addEventListener","thread","jobs","requestAnimationFrame","bang","transition","setTimeout","fps","job","running","loop","setInterval","keys","clearTimeout","getSinus","speed","sin","map","decay","performance","now","calculate","isEqual","len","num","stopped","debug","_splitQuery","levels","level","_level","path","array","list","output","slice","found","indexOf","updateColumn","console","log","original","hsva","hue","saturation","alpha","trn","rand","_alpha","rgb","element","transformOrigin","perspectiveOrigin","transform","toString","prop","parseFloat","defaultView","getComputedStyle","getPropertyValue","prefix","classes","tagAndId","shift","onUpdate","$1","$2","firstChild","child","insertBefore","selection","ondragstart","onselectstart","uuid","uploadFile","input","onready","onchange","files","readFile","file","compressImage","onload","quality","compressor","url","canvas","context","getContext","drawImage","toDataURL","src","scaled","urls","cookie","cookies","bundle","del","search","timeout","duration","interval","check","execute","success","clearInterval","namespace","msg","payload","timestamp","topics","undef","stopPropagation","block","supported","tap","in","scroll","change","fileDrop","over","leave","drop","read","test","reader","FileReader","readAsDataURL","dataTransfer","getBoundingClientRect","right","bottom","vp","documentElement","clientWidth","clientHeight","isVec","isDim","dimvec","dims","box","hitTest","getSide","border","getCursor","aMin","aMax","bMin","bMax","clamp","lim","tolerance","binarySearch","round","linearInterpolation","points","lValue","rValue","getValueFromDictionary","state","factor","isMax","isMin","dir","maxState","minState","buffer","sum","isFinite","Matrix","join","angle","_rotate","deg","rad","PI","cos","rotateZ","rotateX","rotateY","atan2","asin","lt","lb","rt","rb","m3x3","adjugate","basisToPoints","ellipsis","lineCount","symbol","getLineHeight","domRect","multiColumn","scrollWidth","scrollHeight","createRange","setEnd","setStart","cursorRect","deleteContents","charAt","toUpperCase","hash","charCodeAt","numberPadding","_typeof","Symbol","iterator","isBool","String","isArray","Element","Vec","norm","getNorm","dimension","sqrt","opacityOff","opacityOn","colorOff","colorOn","content","slide","float","onDrag","onChange","enable","opacity","disable","locals","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","Error","removeStyleElement","idx","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","memo","isOldIE","navigator","userAgent","toLowerCase","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAG,GAAKD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAG,GAAKD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,IAAMD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,IAAMD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAG,GAAKD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAG,GAAKD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,IAAMD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,IAAMD,EAAG,GAAGC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAE,IAAIC,EAAG,GAAKD,EAAE,IAAIC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAE,IAAIC,EAAG,GAAKD,EAAE,IAAIC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAE,IAAIC,EAAE,IAAMD,EAAE,IAAIC,EAAE,IAChDD,EAAG,GAAGC,EAAE,GAAKD,EAAG,GAAGC,EAAE,GAAKD,EAAE,IAAIC,EAAE,IAAMD,EAAE,IAAIC,EAAE,IAChDD,EAAE,IAAIC,EAAE,GAAKD,EAAE,IAAIC,EAAE,GAAKD,EAAE,IAAIC,EAAG,GAAKD,EAAE,IAAIC,EAAE,IAChDD,EAAE,IAAIC,EAAE,GAAKD,EAAE,IAAIC,EAAE,GAAKD,EAAE,IAAIC,EAAG,GAAKD,EAAE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","file":"./index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fw\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fw\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Device = exports.Toggle = exports.Scroller = exports.gesture = exports.model = exports.Screen = exports.Layer = exports.css = exports.text = exports.etc = exports.event = exports.dom = exports.color = exports.math = exports.matrix = exports.vec = exports.arr = exports.geo = exports.val = exports.animation = undefined;\n\nvar _animation = __webpack_require__(5);\n\nObject.defineProperty(exports, 'animation', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_animation).default;\n  }\n});\n\nvar _value = __webpack_require__(16);\n\nObject.defineProperty(exports, 'val', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_value).default;\n  }\n});\n\nvar _geometry = __webpack_require__(12);\n\nObject.defineProperty(exports, 'geo', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_geometry).default;\n  }\n});\n\nvar _array = __webpack_require__(6);\n\nObject.defineProperty(exports, 'arr', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_array).default;\n  }\n});\n\nvar _vector = __webpack_require__(17);\n\nObject.defineProperty(exports, 'vec', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_vector).default;\n  }\n});\n\nvar _matrix = __webpack_require__(14);\n\nObject.defineProperty(exports, 'matrix', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_matrix).default;\n  }\n});\n\nvar _math = __webpack_require__(13);\n\nObject.defineProperty(exports, 'math', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_math).default;\n  }\n});\n\nvar _color = __webpack_require__(7);\n\nObject.defineProperty(exports, 'color', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_color).default;\n  }\n});\n\nvar _dom = __webpack_require__(9);\n\nObject.defineProperty(exports, 'dom', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dom).default;\n  }\n});\n\nvar _event = __webpack_require__(11);\n\nObject.defineProperty(exports, 'event', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_event).default;\n  }\n});\n\nvar _etc = __webpack_require__(10);\n\nObject.defineProperty(exports, 'etc', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_etc).default;\n  }\n});\n\nvar _text = __webpack_require__(15);\n\nObject.defineProperty(exports, 'text', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_text).default;\n  }\n});\n\nvar _css = __webpack_require__(8);\n\nObject.defineProperty(exports, 'css', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_css).default;\n  }\n});\n\nvar _Layer = __webpack_require__(1);\n\nObject.defineProperty(exports, 'Layer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Layer).default;\n  }\n});\n\nvar _Screen = __webpack_require__(2);\n\nObject.defineProperty(exports, 'Screen', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Screen).default;\n  }\n});\n\nvar _model = __webpack_require__(4);\n\nObject.defineProperty(exports, 'model', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_model).default;\n  }\n});\n\nvar _gesture = __webpack_require__(3);\n\nObject.defineProperty(exports, 'gesture', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_gesture).default;\n  }\n});\n\nvar _Scroller = __webpack_require__(19);\n\nObject.defineProperty(exports, 'Scroller', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Scroller).default;\n  }\n});\n\nvar _Toggle = __webpack_require__(20);\n\nObject.defineProperty(exports, 'Toggle', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Toggle).default;\n  }\n});\n\nvar _Device = __webpack_require__(18);\n\nObject.defineProperty(exports, 'Device', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Device).default;\n  }\n});\n\n__webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// core\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Layer = function () {\n    function Layer(options) {\n        _classCallCheck(this, Layer);\n\n        this.identifier = new Date().getTime();\n        this.event = _index.event.Machine('Layer');\n        this.data = null;\n        this._dom = null;\n        this._props = {\n            transformation: {\n                origin: new _index.vec(),\n                translate: new _index.vec(),\n                scale: new _index.vec().fill(1),\n                rotate: 0,\n                matrix3d: new _index.matrix()\n            },\n            pop: {},\n            templateUpdater: null,\n            transformationTouchEventLink: null\n        };\n        // if no options at all\n        if (!_index.val.exists(options)) {\n            this.dom = _index.dom.create('.default');\n            this.parent = _index.Screen;\n            // if options are an tulpet\n        } else if (_index.val.isObj(options)) {\n            // apply dom element\n            if (_index.val.exists(options.dom)) {\n                this.dom = options.dom;\n                delete options.dom;\n                // if no dom, create just div with .layer\n            } else this.dom = _index.dom.create('.default');\n            // parent\n            if (_index.val.exists(options.parent)) {\n                if (options.parent === null) delete options.parent;\n            } else this.parent = _index.Screen;\n            // set other options\n            this.set(options);\n            // if options is a single parameter\n        } else if (_index.val.isDom(options) || _index.val.isStr(options)) {\n            this.dom = options;\n            // add if not added\n            if (_index.val.isDom(options) && !options.parentNode) this.parent = _index.Screen;\n        }\n    }\n\n    // external event interface\n\n\n    _createClass(Layer, [{\n        key: 'on',\n        value: function on(topic, fn, options) {\n            // gestures\n            if (topic in _index.gesture) return _index.gesture[topic](this, fn).on();\n            // dom events\n            else if (_index.event.support(this.dom, topic)) return _index.event.listener(this.dom, topic, fn, options).on();\n                // custom events\n                else if (topic in _index.event) return _index.event[topic](this, fn).on();\n                    // dom css\n                    else return this.event.on(topic, fn);\n        }\n\n        // setter getters\n\n    }, {\n        key: 'set',\n        value: function set(options) {\n            for (var key in options) {\n                var value = options[key];\n                // use methods\n                if (key in this) {\n                    if (_index.val.isFn(this[key])) this[key](value);else this[key] = value;\n                    // set attributes\n                } else if (key in this.dom) this._setAttribute(key, value);\n                // set css parameters\n                else if (key in this.dom.style) this._setCss(key, value);\n            }\n            return this;\n        }\n    }, {\n        key: '_setAttribute',\n        value: function _setAttribute(option, value) {\n            var _this = this;\n\n            var set = function set(key, value) {\n                _this.event.emit(key, value);\n                if (_index.val.exists(value)) _this.dom.setAttribute(key, value);else _this.dom.removeAttribute(key);\n            };\n            if (_index.val.isStr(option)) set(option, value);else if (_index.val.isObj(option)) for (var key in option) {\n                set(key, option[key]);\n            }\n        }\n    }, {\n        key: '_setCss',\n        value: function _setCss(options, value) {\n            var _this2 = this;\n\n            var set = function set(key, value) {\n                _this2.event.emit(key, value);\n                _this2.dom.style[key] = value;\n            };\n            if (_index.val.isStr(options)) set(options, value);else if (_index.val.isObj(options)) for (var key in options) {\n                set(key, options[key]);\n            }\n        }\n    }, {\n        key: 'getCss',\n        value: function getCss(key) {\n            return _index.css.computed(this.dom, key);\n        }\n    }, {\n        key: 'bind',\n\n\n        /*\n            model.forEach(function (item) {\n                var layerA = new fw.Layer({\n                    margin : 10\n                }).bind(item, {\n                    image : {\n                        to   : 'title',\n                        from : 'backgroundImage',\n                        set (value, layer) {\n                            layer.set({content: 'test ' + value})\n                        },\n                        get (value, layer) {\n                            return value\n                        }\n                    }\n                })\n            })\n        */\n\n        value: function bind(model, params) {\n            var _this3 = this;\n\n            for (var key in params) {\n                var options = params[key];\n                var modelKey = options.to || options;\n                var initValue = model[modelKey];\n                var curValue = null;\n                this.on(options.from || key, function (value) {\n                    return curValue = value;\n                });\n                Object.defineProperty(model, modelKey, {\n                    set: function (options, key) {\n                        return function (value) {\n                            if (options.set) options.set(value, _this3);else {\n                                var param = {};\n                                param[key] = value;\n                                _this3.set(param);\n                            }\n                        };\n                    }(options, key),\n                    get: function (options) {\n                        return function () {\n                            if (options.get) return options.get(_this3);else return curValue;\n                        };\n                    }(options)\n                });\n                model[modelKey] = initValue;\n            }\n            return this;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.dom.parentNode.removeChild(this.dom);\n            delete this;\n        }\n    }, {\n        key: 'pop',\n        value: function pop() {\n            this.event.emit('pop', this._props.pop);\n            this._props.pop = {\n                parent: this.dom.parentNode,\n                pos: new _index.vec(this.dom.style.left, this.dom.style.top),\n                size: new _index.vec(this.dom.style.width, this.dom.style.height),\n                offset: _index.geo.vpo(this.dom)\n            };\n            this.set({\n                position: 'fixed',\n                pos: new _index.vec(),\n                size: new _index.vec(this.dom.offsetWidth + .5, this.dom.offsetHeight + .5).unit('px'),\n                translate: this._props.pop.offset.position.unit('px')\n            });\n            document.body.appendChild(this.dom);\n            return this;\n        }\n    }, {\n        key: 'push',\n        value: function push() {\n            this.event.emit('push', this._props.pop);\n            this._props.pop.parent.appendChild(this.dom);\n            this.set({\n                position: null,\n                pos: this._props.pop.pos,\n                size: this._props.pop.size,\n                translate: new _index.vec(),\n                scale: new _index.vec(1, 1, 1),\n                origin: { x: 'center', y: 'center' }\n            });\n            this._props.pop = null;\n            return this;\n        }\n    }, {\n        key: 'animate',\n        value: function animate(options, next, end) {\n            this.event.emit('animate', options);\n            _index.animation.flow(this, options.time || .5, options.ease || 'ease-in-out', options.delay || 0, next, end);\n            return this;\n        }\n    }, {\n        key: 'clone',\n        value: function clone(options) {\n            var clone = this.dom.cloneNode(true);\n            this.dom.parentNode.appendChild(clone);\n            return new Layer({\n                dom: clone\n            }).set(options);\n        }\n    }, {\n        key: 'collision',\n        value: function collision(layer) {\n            var a = _index.geo.vpo(this.dom);\n            var b = _index.geo.vpo(layer.dom);\n            return _index.geo.boxCollision(_index.geo.vecdim(a.position, a.size), _index.geo.vecdim(b.position, b.size));\n        }\n\n        // dom structure\n\n    }, {\n        key: 'child',\n        value: function child(query) {\n            var children = this.dom.querySelector(query);\n            return children.layer || new Layer(children);\n        }\n    }, {\n        key: 'childs',\n        value: function childs(query) {\n            var children = this.dom.querySelectorAll(query);\n            var out = [];\n            for (var i = 0; i < children.length; i++) {\n                out.push(children[i].layer || new Layer(children[i]));\n            }return out;\n        }\n    }, {\n        key: 'append',\n        value: function append(value) {\n            var _this4 = this;\n\n            this.event.emit('append', value);\n            var append = function append(el) {\n                _this4.dom.appendChild(el instanceof Layer ? el.dom : el);\n            };\n            if (_index.val.isArr(value)) value.forEach(append);else append(value);\n        }\n    }, {\n        key: 'prepend',\n        value: function prepend(value) {\n            this.event.emit('prepend', value);\n            _index.dom.prepend(this.dom, value instanceof Layer ? value.dom : value);\n        }\n    }, {\n        key: 'detach',\n        value: function detach(value) {\n            this.event.emit('detach', value);\n            this.dom.removeChild(value instanceof Layer ? value.dom : value);\n        }\n    }, {\n        key: 'toggleClass',\n\n\n        // classes\n        value: function toggleClass(value) {\n            this.event.emit('toggleClass', value);\n            return this.dom.classList.toggle(value);\n        }\n    }, {\n        key: 'hasClass',\n        value: function hasClass(value) {\n            return this.dom.classList.contains(value);\n        }\n    }, {\n        key: 'addClass',\n        value: function addClass(value) {\n            var _this5 = this;\n\n            this.event.emit('addClass', value);\n            if (_index.val.isArr(value)) value.forEach(function (item) {\n                return _this5.dom.classList.add(item);\n            });else this.dom.classList.add(value);\n        }\n    }, {\n        key: 'removeClass',\n        value: function removeClass(value) {\n            var _this6 = this;\n\n            this.event.emit('deleteClass', value);\n            if (_index.val.isArr(value)) value.forEach(function (item) {\n                return _this6.dom.classList.remove(item);\n            });else this.dom.classList.remove(value);\n        }\n\n        // css\n\n    }, {\n        key: 'image',\n        value: function image(value) {\n            this.bg({ image: value });\n        }\n    }, {\n        key: 'bg',\n        value: function bg(value) {\n            if (_index.val.isStr(value)) this._setCss('background', value);else if (_index.val.isObj(value)) {\n                var params = {};\n                if ('image' in value) params.backgroundImage = 'url(' + value.image + ')';\n                if ('origin' in value) params.backgroundOrigin = _index.val.isObj(value.origin) ? value.origin.x + ' ' + value.origin.y : value.origin;\n                if ('position' in value) params.backgroundPosition = _index.val.isObj(value.position) ? value.position.x + ' ' + value.position.y : value.position;\n                if ('size' in value) params.backgroundSize = _index.val.isObj(value.size) ? value.size.x + ' ' + value.size.y : value.size;\n                if ('repeat' in value) params.backgroundRepeat = value.repeat == 'x' ? 'repeat-x' : value.repeat == 'y' ? 'repeat-y' : value.repeat == 'no' ? 'no-repeat' : value.repeat == 'yes' ? 'repeat' : value.repeat;\n                if ('color' in value) params.backgroundColor = value.color;\n                this._setCss(params);\n            }\n        }\n    }, {\n        key: 'text',\n        value: function text(value) {\n            if (_index.val.isStr(value)) this._setCss('font', value);else if (_index.val.isObj(value)) {\n                var props = {\n                    style: 'fontStyle',\n                    variant: 'fontVariant',\n                    weight: 'fontWeight',\n                    size: 'fontSize',\n                    height: 'fontHeight',\n                    family: 'fontFamily',\n                    color: 'color',\n                    align: 'textAlign',\n                    lineHeight: 'lineHeight',\n                    shadow: 'textShadow'\n                };\n                for (var key in props) {\n                    if (key in value) this._setCss(props[key], value[key]);\n                }\n            }\n        }\n    }, {\n        key: 'border',\n        value: function border(value) {\n            var _this7 = this;\n\n            if (_index.val.isStr(value)) this._setCss('border', value);else if (_index.val.isObj(value)) {\n                var set = function set(value, side) {\n                    var props = {\n                        color: 'Color',\n                        radius: 'Radius',\n                        width: 'Width',\n                        style: 'Style'\n                    };\n                    for (var key in props) {\n                        if (key in value) _this7._setCss('border' + side + props[key], value[key]);\n                    }\n                };\n                set(value, '');\n                var props = {\n                    l: 'Left',\n                    t: 'Top',\n                    r: 'Right',\n                    b: 'Bottom',\n                    tl: 'TopLeft',\n                    tr: 'TopRight',\n                    bl: 'BottomLeft',\n                    br: 'BottomRight'\n                };\n                for (var key in props) {\n                    if (key in value) set(value[key], props[key]);\n                }\n            }\n        }\n\n        // transformation\n\n    }, {\n        key: 'project',\n        value: function project(v) {\n            this.origin = new _index.vec();\n            this.matrix = new _index.matrix().project(this.size, v[0], v[1], v[2], v[3]);\n        }\n    }, {\n        key: 'dom',\n        set: function set(value) {\n            var old = this.dom && this.dom.parentNode ? this.dom : null;\n            // if dom\n            if (_index.val.isDom(value)) this._dom = value;\n            // string a string\n            else if (_index.val.isStr(value)) {\n                    // template\n                    if (value.match(/<.*>.*<\\/.*>/)) this._dom = _index.dom.fromString(value);\n                    // create new element\n                    else this._dom = _index.dom.create(value);\n                }\n            // link dom with layer\n            this._dom.layer = this;\n            this.addClass('layer');\n            // replace old dom\n            if (old) old.replaceWith(this.dom);\n        },\n        get: function get() {\n            return this._dom;\n        }\n    }, {\n        key: 'parent',\n        get: function get() {\n            if (this.dom.parentNode && this.dom.parentNode.layer) {\n                return this.dom.parentNode.layer instanceof Layer ? this.dom.parentNode.layer : new Layer(this.dom.parentNode);\n            }\n        },\n        set: function set(value) {\n            this.event.emit('parent', value);\n            if (value instanceof Layer) value.append(this);else value.appendChild(this.dom);\n        }\n    }, {\n        key: 'content',\n        set: function set(value) {\n            var _this8 = this;\n\n            var set = function set(string) {\n                _this8.event.emit('content', string);\n                _this8.dom.innerHTML = string;\n            };\n            if (_index.val.isObj(value)) this._props.templateUpdater = _index.dom.template(value.html, value.bind, set);else {\n                set(value);\n                if (this._props.templateUpdater) this._props.templateUpdater.off();\n            }\n        },\n        get: function get() {\n            return this.dom.innerHTML;\n        }\n    }, {\n        key: 'move',\n        set: function set(value) {\n            if ('x' in value) this._setCss('left', value.x);\n            if ('y' in value) this._setCss('top', value.y);\n        },\n        get: function get() {\n            return new _index.vec(this.dom.offsetLeft, this.dom.offsetTop);\n        }\n    }, {\n        key: 'size',\n        set: function set(value) {\n            if ('x' in value) this._setCss('width', value.x);\n            if ('y' in value) this._setCss('height', value.y);\n        },\n        get: function get() {\n            return new _index.vec(this.dom.offsetWidth, this.dom.offsetHeight);\n        }\n    }, {\n        key: 'padding',\n        set: function set(value) {\n            if (_index.val.isObj(value)) {\n                if ('x' in value && 'y' in value) {\n                    this._setCss('padding', value.y + ' ' + value.x);\n                } else {\n                    var params = {};\n                    if ('x' in value) params.padding = '0 ' + value.x;\n                    if ('y' in value) params.padding = value.y + ' 0';\n                    if ('l' in value) params.paddingLeft = value.l;\n                    if ('t' in value) params.paddingTop = value.t;\n                    if ('r' in value) params.paddingRight = value.r;\n                    if ('b' in value) params.paddingBottom = value.b;\n                    this._setCss(params);\n                }\n            } else this._setCss('padding', value);\n        },\n        get: function get() {\n            return {\n                l: _index.css.computed(this.dom, 'padding-left'),\n                t: _index.css.computed(this.dom, 'padding-top'),\n                r: _index.css.computed(this.dom, 'padding-right'),\n                b: _index.css.computed(this.dom, 'padding-bottom')\n            };\n        }\n    }, {\n        key: 'margin',\n        set: function set(value) {\n            if (_index.val.isObj(value)) {\n                if ('x' in value && 'y' in value) {\n                    this._setCss('margin', value.y + ' ' + value.x);\n                } else {\n                    var params = {};\n                    if ('x' in value) params.margin = '0 ' + value.x;\n                    if ('y' in value) params.margin = value.y + ' 0';\n                    if ('l' in value) params.marginLeft = value.l;\n                    if ('t' in value) params.marginTop = value.t;\n                    if ('r' in value) params.marginRight = value.r;\n                    if ('b' in value) params.marginBottom = value.b;\n                    this._setCss(params);\n                }\n            } else this._setCss('margin', value);\n        },\n        get: function get() {\n            return {\n                l: _index.css.computed(this.dom, 'margin-left'),\n                t: _index.css.computed(this.dom, 'margin-top'),\n                r: _index.css.computed(this.dom, 'margin-right'),\n                b: _index.css.computed(this.dom, 'margin-bottom')\n            };\n        }\n    }, {\n        key: 'origin',\n        set: function set(value) {\n            var _this9 = this;\n\n            this.event.emit('origin', value);\n            ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this9._props.transformation.origin[axis] = value[axis];\n            });\n            _index.css.applyTransformation(this.dom, this._props.transformation, 'origin');\n        },\n        get: function get() {\n            return this._props.transformation.origin;\n        }\n    }, {\n        key: 'translate',\n        set: function set(value) {\n            var _this10 = this;\n\n            this.event.emit('translate', value);\n            ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this10._props.transformation.translate[axis] = value[axis];\n            });\n            _index.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.translate;\n        }\n    }, {\n        key: 'scale',\n        set: function set(value) {\n            var _this11 = this;\n\n            this.event.emit('scale', value);\n            if (_index.val.isNum(value)) {\n                this._props.transformation.scale.x = this._props.transformation.scale.y = this._props.transformation.scale.z = value;\n            } else ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this11._props.transformation.scale[axis] = value[axis];\n            });\n            _index.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.scale;\n        }\n    }, {\n        key: 'rotate',\n        set: function set(value) {\n            this.event.emit('rotate', value);\n            this._props.transformation.rotate = '' + value + (_index.val.isNum(value) ? 'deg' : '');\n            _index.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.rotate;\n        }\n    }, {\n        key: 'matrix',\n        set: function set(matrix) {\n            this.event.emit('matrix', matrix.value);\n            this._props.transformation.matrix3d = matrix;\n            _index.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.matrix3d;\n        }\n\n        // center\n\n    }, {\n        key: 'center',\n        set: function set(value) {\n            if (_index.val.exists(value.x)) {\n                this._setCss('left', value.x - this.dom.parentNode.rect.position.x + 'px');\n                this.align = { x: 'c' };\n            }\n            if (_index.val.exists(value.y)) {\n                this._setCss('top', value.y - this.dom.parentNode.position.y + 'px');\n                this.align = { y: 'c' };\n            }\n        },\n        get: function get() {\n            return _index.geo.center(this.rect);\n        }\n\n        // offset\n\n    }, {\n        key: 'rect',\n        get: function get() {\n            return _index.geo.vpo(this.dom);\n        }\n    }, {\n        key: 'align',\n        set: function set(options) {\n            if (options.x) this.translate = { x: (options.x == 'c' ? -50 : options.x == 'r' ? -100 : 0) + '%' };\n            if (options.y) this.translate = { y: (options.y == 'c' ? -50 : options.y == 'b' ? -100 : 0) + '%' };\n        }\n    }]);\n\n    return Layer;\n}();\n\nexports.default = Layer;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Screen = function (_Layer) {\n    _inherits(Screen, _Layer);\n\n    function Screen() {\n        _classCallCheck(this, Screen);\n\n        return _possibleConstructorReturn(this, (Screen.__proto__ || Object.getPrototypeOf(Screen)).apply(this, arguments));\n    }\n\n    _createClass(Screen, [{\n        key: 'on',\n\n\n        // external event interface\n        value: function on(topic, fn, options) {\n            // gestures\n            if (topic in _index.event) return _index.gesture[topic](this, fn).on();\n            // dom events\n            else if (_index.event.support(document, topic)) return _index.event.listener(document, topic, fn, options).on();\n                // dom css\n                else return this.event.on(topic, fn);\n        }\n    }, {\n        key: 'size',\n        get: function get() {\n            return new _index.vec(window.innerWidth, window.innerHeight);\n        }\n    }, {\n        key: 'center',\n        get: function get() {\n            return this.size.scale(.5);\n        }\n    }]);\n\n    return Screen;\n}(_index.Layer);\n\nexports.default = new Screen(document.body);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nvar animationPreset = {\n    time: .3,\n    ease: 'cubic-bezier(.1, .5, .1, 1.2)'\n};\n\nexports.default = {\n    wheel: function wheel(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return layer.on('mousewheel', function (e) {\n            var vector = 0;\n            var w = e.wheelDelta;\n            var d = e.detail;\n            if (d) {\n                // Opera\n                if (w) vector = w / d / 40 * d > 0 ? 1 : -1;\n                // Firefox\n                else vector = -d / 3;\n                // IE / Safari / Chrome\n            } else vector = w / 120;\n            transport({ e: e, vector: vector });\n        });\n    },\n    rotate: function rotate(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var t = {};\n        var out = {};\n        return this._cornerInterface(layer, {\n            type: 'rotate',\n            edges: transport.edges,\n            down: function down(a) {\n                t.center = layer.center;\n                t.init = layer.rotate;\n                t.down = t.center.sub(a.pointer).angle2d() + parseInt(t.init);\n            },\n            move: function move(a) {\n                var rotation = t.down - t.center.sub(a.pointer).angle2d();\n                if (out.constraints) rotation = _index.math.rubberRange(rotation, out.constraints.min, out.constraints.max, out.constraints.length || 10, out.constraints.onLimit);\n                // move and resize\n                if (transport.move && transport.move(out) !== false || !transport.move) _index.animation.draw(layer.identifier + ': resize.move', function () {\n                    return layer.rotate = rotation;\n                });\n            },\n            up: function up(a) {\n                if (transport.up && transport.up(t) !== false || !transport.up) _index.animation.draw(layer.identifier + ': resize.up', function () {\n                    return layer.animate(animationPreset, { rotate: t.init });\n                });\n            }\n        });\n    },\n    resize: function resize(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var t = {};\n        var out = {};\n        var globalConstraints = function globalConstraints(c) {\n            return c.min && (c.min.l || c.min.t || c.min.r || c.min.b) || c.max && (c.max.l || c.max.t || c.max.r || c.max.b);\n        };\n        var localConstraints = function localConstraints(c) {\n            return c.min && (c.min.w || c.min.h) || c.max && (c.max.w || c.max.h);\n        };\n        var globalRange = function globalRange(range, drag, side) {\n            var leftTop = drag.add(t.rect.position).range({\n                l: range.max.l, t: range.max.t,\n                r: range.min.l, b: range.min.t,\n                length: range.length || 20\n            }).sub(t.rect.position);\n            var rightBottom = drag.add(t.rect.opposite).range({\n                l: range.min.r, t: range.min.b,\n                r: range.max.r, b: range.max.b,\n                length: range.length || 20\n            }).sub(t.rect.opposite);\n            return new _index.vec((side.match('l') ? leftTop : rightBottom).x, (side.match('t') ? leftTop : rightBottom).y);\n        };\n        var localRange = function localRange(range, size) {\n            size = size.add(t.rect.size).range({\n                l: range.min.w, t: range.min.h,\n                r: range.max.w, b: range.max.h,\n                length: range.length || 20\n            }).sub(t.rect.size);\n            return size;\n        };\n        return this._cornerInterface(layer, {\n            type: 'resize',\n            edges: transport.edges,\n            down: function down(a) {\n                t.down = a.pointer;\n                t.rect = layer.rect;\n            },\n            move: function move(a) {\n                var lSide = a.side == 'lt' || a.side == 'l' || a.side == 'lb';\n                var tSide = a.side == 'lt' || a.side == 't' || a.side == 'rt';\n                var drag = a.pointer.sub(t.down);\n                // create size and set global constraints (absolute: l | t | r | b)\n                var size = out.constraints && globalConstraints(out.constraints) ? globalRange(out.constraints, drag, a.side) : drag;\n                // resizing on the left/top side? invert motion\n                if (lSide) size.x *= -1;\n                if (tSide) size.y *= -1;\n                // edit size and set local constraints (min max: width | height)\n                size = out.constraints && localConstraints(out.constraints) ? localRange(out.constraints, size) : size;\n                // movement on middle handles? set perpendicular axis to 0 \n                if (a.side == 't' || a.side == 'b') size.x = 0;\n                if (a.side == 'l' || a.side == 'r') size.y = 0;\n                // resizing on the left/top side? shift layer in opposite direction\n                var move = new _index.vec();\n                if (lSide) move.x = -size.x;\n                if (tSide) move.y = -size.y;\n                // export values\n                out.move = move;\n                out.size = size;\n                // move and resize\n                if (transport.move && transport.move(out) !== false || !transport.move) _index.animation.draw(layer.identifier + ': resize.move', function () {\n                    return layer.set({\n                        size: t.rect.size.add(size).unit('px'),\n                        move: t.rect.position.add(move).unit('px')\n                    });\n                });\n            },\n            up: function up(a) {\n                if (transport.up && transport.up(t) !== false || !transport.up) _index.animation.draw(layer.identifier + ': resize.up', function () {\n                    return layer.animate(animationPreset, {\n                        move: t.rect.position.unit('px'),\n                        size: t.rect.size.unit('px')\n                    });\n                });\n            }\n        });\n    },\n    _cornerInterface: function _cornerInterface(layer, transport) {\n        var edges = transport.edges || ['lt', 't', 'rt', 'l', 'r', 'lb', 'b', 'rb'];\n        var Corner = function Corner(side) {\n            var div = document.createElement('div');\n            div.classList.add('edge', transport.type || 'resize', side);\n            var down = _index.event.listener(div, _index.event.types.down, function (e) {\n                transport.down({\n                    event: e,\n                    pointer: new _index.vec(e.clientX, e.clientY),\n                    side: side\n                });\n                move.on();up.on();e.stop();\n            });\n            var move = _index.event.listener(document, _index.event.types.move, function (e) {\n                transport.move({\n                    event: e,\n                    pointer: new _index.vec(e.clientX, e.clientY),\n                    side: side\n                });\n                e.stop();\n            });\n            var up = _index.event.listener(document, _index.event.types.up, function (e) {\n                transport.up({ event: e, side: side });\n                move.off();up.off();e.stop();\n            });\n            return {\n                on: function on() {\n                    layer.dom.appendChild(div);down.on();\n                },\n                off: function off() {\n                    layer.dom.removeChild(div);down.off();\n                },\n\n                get active() {\n                    return down.active;\n                }\n            };\n        };\n        return {\n            on: function on() {\n                for (var i = 0; i < edges.length; i++) {\n                    if (_index.val.isStr(edges[i])) edges[i] = Corner(edges[i]);\n                    edges[i].on();\n                }\n                return this;\n            },\n            off: function off() {\n                edges.forEach(function (edge) {\n                    return edge.off();\n                });return this;\n            },\n\n            get active() {\n                return edges[0].down.active;\n            }\n        };\n    },\n    drag: function drag(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var translate = new _index.vec();\n        var method = _index.event.types.isTouch ? '_initMultitouchGesture' : '_dragMouse';\n        var temp = {};\n        var out = {};\n        var globalRange = function globalRange(c, translate) {\n            var size = temp.rect.size.scale(.5);\n            if (c.l) c.l += size.x;\n            if (c.r) c.r -= size.x;\n            if (c.t) c.t += size.y;\n            if (c.b) c.b -= size.y;\n            return translate.add(temp.center).range(c).sub(temp.center);\n        };\n        return this[method](layer, _index.etc.clone(transport, {\n            down: function down(t) {\n                Object.assign(out, t);\n                temp.rect = layer.rect;\n                temp.center = layer.center;\n            },\n            move: function move(t) {\n                Object.assign(out, t);\n                out.translate = out.constraints ? globalRange(out.constraints, out.translate) : out.translate;\n                var defaultMove = transport.move && transport.move(out) === true || !transport.move;\n                // constraints\n                if (defaultMove) _index.animation.draw(layer.identifier + ': translate.move', function () {\n                    return layer.matrix = new _index.matrix().translate(out.translate);\n                });\n            },\n            cancel: function cancel(t) {\n                Object.assign(out, t);\n                if (transport.cancel && transport.cancel(out) === true || !transport.cancel) _index.animation.draw(layer.identifier + ': translate.cancel', function () {\n                    return layer.animate(animationPreset, { matrix: new _index.matrix() });\n                });\n                out = {};\n            }\n        }), 'translate');\n    },\n    pinchToRotate: function pinchToRotate(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return this._initMultitouchGesture(layer, _index.etc.clone(transport, {\n            move: function move(t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) _index.animation.draw(layer.identifier + ': rotate.move', function () {\n                    return layer.rotate = t.rotate;\n                });\n            },\n            cancel: function cancel(t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel) _index.animation.draw(layer.identifier + ': rotate.cancel', function () {\n                    return layer.animate(animationPreset, { rotate: 0 });\n                });\n            }\n        }), 'rotate');\n    },\n    pinchToZoom: function pinchToZoom(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return this._initMultitouchGesture(layer, _index.etc.clone(transport, {\n            move: function move(t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) _index.animation.draw(layer.identifier + ': scale.move', function () {\n                    layer.scale = t.scale;\n                });\n            },\n            cancel: function cancel(t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel) _index.animation.draw(layer.identifier + ': scale.cancel', function () {\n                    layer.animate(animationPreset, {\n                        scale: 1\n                    });\n                });\n            }\n        }), 'scale');\n    },\n\n\n    /*\n        this is the second layer of interaction\n        for mouse are separate functions for dragging\n        for touch is one single that splits translation, rotation and scale\n    */\n\n    _dragMouse: function _dragMouse(layer, transport) {\n        var _down = new _index.vec();\n        var velocity = new _index.vec();\n        return this._dragMouseEventPattern(layer, _index.etc.clone(transport, {\n            down: function down(t) {\n                velocity;\n                _down = velocity = t.pointer;\n                transport.down && transport.down({\n                    event: t.event,\n                    down: _down\n                });\n            },\n            move: function move(t) {\n                var translate = t.pointer.sub(_down);\n                transport.move && transport.move({\n                    event: t.event,\n                    translate: translate,\n                    velocity: translate.sub(velocity)\n                });\n                velocity = translate;\n            },\n            cancel: function cancel(t) {\n                transport.cancel(t);\n                _down.reset();\n                velocity.reset();\n            }\n        }));\n    },\n    _initMultitouchGesture: function _initMultitouchGesture(layer, transport, type) {\n        var address = 'transformationTouchEventLink';\n        if (!layer._props[address]) {\n            var listener = new _index.event.Machine('transformationTouchEventLink');\n            var transport_ = { constraints: {} };['init', 'down', 'move', 'up', 'cancel'].forEach(function (key) {\n                return transport_[key] = function (t) {\n                    return listener.emit(key, t);\n                };\n            });\n            var toggle = this._multitouch(layer, transport_);\n            layer._props[address] = {\n                listener: listener,\n                transport: transport_,\n                cancel: toggle.cancel,\n                checkToggle: function checkToggle() {\n                    var flag = 'off';\n                    var property = ['translate', 'rotate', 'scale'];\n                    for (var i = 0; i < property.length; i++) {\n                        if (transport_[property[i]]) {\n                            flag = 'on';break;\n                        }\n                    }toggle[flag]();\n                }\n            };\n        }\n        var link = layer._props[address];\n        for (var key in transport) {\n            link.listener.on(key, function (method, key) {\n                return key == 'move' ? function (t) {\n                    // adapt output for every type\n                    if (type == 'translate') t.translate = t.transformation.getTranslation();\n                    if (type == 'rotate') t.rotate = t.transformation.getRotation().z;\n                    if (type == 'scale') t.scale = t.transformation.getScale().z;\n                    // execute event function\n                    method(t);\n                    // apply new transport to the whole\n                    // transformation multitouch event\n                    link.transport.constraints[type] = t.constraints;\n                    delete t.constraints;\n                } : method;\n            }(transport[key], key));\n        }return {\n            get active() {\n                return link.transport[type];\n            },\n            on: function on() {\n                link.transport[type] = true;\n                link.checkToggle();\n                return this;\n            },\n            off: function off() {\n                link.transport[type] = false;\n                link.checkToggle();\n                return this;\n            },\n\n            cancel: link.cancel\n        };\n    },\n    _multitouch: function _multitouch(layer, transport) {\n        // some shared values\n        var touches = {};\n        var scale_rotate = new _index.matrix();\n        var lastState = new _index.matrix();\n        var origin = new _index.vec();\n        var center = new _index.vec();\n        var translate = new _index.vec();\n        // export control interface for gesture events\n        return this._dragTouchEventPattern(layer, {\n            init: function init(t) {\n                // get at start of a session \n                // a center of a layer\n                center = layer.center;\n            },\n            down: function down(t) {\n                // fire interface function\n                transport.down && transport.down(t);\n                // calculate average vector aka origin and\n                // bring this origin on rotated and scaled object back\n                origin = _index.vec.prototype.mix(t.pointers).sub(center).sub(translate);\n            },\n            move: function move(t) {\n                // define max and min movement for rotation and scale\n                // translation constraints happens later on touch and mouse together\n                var rotate = t.event.rotation || 0;\n                var rConst = transport.constraints.rotate;\n                if (rConst) {\n                    var last = lastState.getRotation().z;\n                    rotate = _index.math.rubberRange(rotate + last, rConst.min, rConst.max, rConst.length || 10, rConst.onLimit) - last;\n                }\n                var scale = t.event.scale || 1;\n                var sConst = transport.constraints.scale;\n                if (sConst) {\n                    var last = lastState.getScale().z;\n                    scale = _index.math.rubberRange(scale + last, sConst.min + 1, sConst.max + 1, sConst.length || .2, sConst.onLimit) - last;\n                }\n                // calculate drag difference\n                var velocity = new _index.vec();\n                for (var id in t.pointers) {\n                    // if a touch is not initialized, \n                    // save its vector to the list\n                    if (!touches[id]) touches[id] = t.pointers[id];\n                    // calculate difference between frames\n                    velocity.add(t.pointers[id], true).sub(touches[id], true);\n                    // save value for the next time\n                    touches[id] = t.pointers[id];\n                }\n                // calculate average difference between every dragged touch\n                velocity.div(new _index.vec().fill(t.event.targetTouches.length), true);\n                // apply difference to persistent translation vector\n                translate.add(velocity, true);\n                // modify scale and rotation matrix\n                var drag = new _index.matrix();\n                var pinch = new _index.matrix().translate(origin.scale(-1));\n                if (transport.translate) drag.translate(translate, true);\n                if (transport.rotate) pinch.rotate(rotate, true);\n                if (transport.scale) pinch.scale(scale, true);\n                scale_rotate = lastState.multiply(pinch.translate(origin));\n                // get final transformation\n                var transformation = scale_rotate.multiply(drag);\n                // export values\n                transport.move && transport.move({\n                    event: t.event,\n                    transformation: transformation,\n                    velocity: velocity\n                });\n            },\n            up: function up(t) {\n                // apply matrix for the next drag action\n                if (t.event.targetTouches.length > 0) lastState = scale_rotate;\n                transport.up && transport.up(t);\n            },\n            cancel: function cancel(t) {\n                // export up event\n                transport.cancel && transport.cancel(t);\n                center.reset();\n                lastState.reset();\n                translate.reset();\n                scale_rotate.reset();\n                origin.reset();\n                touches = {};\n            }\n        });\n    },\n\n\n    /*\n        this is the lowest level of mouse and touch interaction principles\n        support of four main methods: down, move, up and cancel\n    */\n\n    _dragMouseEventPattern: function _dragMouseEventPattern(layer, transport) {\n        var down = _index.event.listener(layer.dom, 'mousedown', function (e) {\n            if (!move.active) {\n                move.on();\n                up.on();\n            }\n            transport.down && transport.down({\n                event: e,\n                pointer: new _index.vec(e.clientX, e.clientY)\n            });\n            e.preventDefault();\n        });\n        var move = _index.event.listener(document, 'mousemove', function (e) {\n            transport.move && transport.move({\n                event: e,\n                pointer: new _index.vec(e.clientX, e.clientY)\n            });\n            e.preventDefault();\n        });\n        var up = _index.event.listener(document, 'mouseup', function (e) {\n            var t = {\n                event: e,\n                pointer: new _index.vec(e.clientX, e.clientY)\n            };\n            transport.up && transport.up(t);\n            cancel(t);\n            e.preventDefault();\n        });\n        var cancel = function cancel() {\n            var t = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n            move.off();\n            up.off();\n            transport.cancel && transport.cancel(t);\n        };\n        return {\n            get active() {\n                return down.active;\n            },\n            on: function on() {\n                down.on();\n                return this;\n            },\n            off: function off() {\n                cancel();\n                down.off();\n                return this;\n            },\n\n            cancel: cancel\n        };\n    },\n    _dragTouchEventPattern: function _dragTouchEventPattern(layer, transport) {\n        var convertTouches = function convertTouches(fingers) {\n            var out = {};\n            for (var i = 0; i < fingers.length; i++) {\n                out[fingers[i].identifier] = new _index.vec(fingers[i].clientX, fingers[i].clientY);\n            }return out;\n        };\n        var down = _index.event.listener(layer.dom, 'touchstart', function (e) {\n            if (!move.active) {\n                move.on();\n                up.on();\n                transport.init({ event: e });\n            }\n            transport.down && transport.down({\n                event: e,\n                pointers: convertTouches(e.targetTouches)\n            });\n            e.preventDefault();\n        });\n        var move = _index.event.listener(layer.dom, 'touchmove', function (e) {\n            transport.move && transport.move({\n                event: e,\n                pointers: convertTouches(e.targetTouches)\n            });\n            e.preventDefault();\n        });\n        var up = _index.event.listener(layer.dom, 'touchend', function (e) {\n            var t = { event: e };\n            transport.up && transport.up(t);\n            if (e.targetTouches.length == 0) cancel(t);\n            e.preventDefault();\n        });\n        var cancel = function cancel() {\n            var t = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n            move.off();\n            up.off();\n            transport.cancel && transport.cancel(t);\n        };\n        return {\n            get active() {\n                return down.active;\n            },\n            on: function on() {\n                down.on();\n                return this;\n            },\n            off: function off() {\n                cancel();\n                down.off();\n                return this;\n            },\n\n            cancel: cancel\n        };\n    }\n};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nvar assets = {\n    signs: ['', ',', '.', '?', '!'],\n    words: 'accusam aliquyam amet at clita consetetur diam dolor dolore dolores duo ea eirmod elitr eos erat est et gubergren invidunt ipsum justo kasd labore lorem magna no nonumy rebum sad sanctus sea sed sit stet takimata tempor ut vero voluptua'.split(' '),\n    image: {\n        mac: ['Abstract', 'Antelope Canyon', 'Bahamas Aerial', 'Beach', 'Blue Pond', 'Bristle Grass', 'Brushes', 'Circles', 'Death Valley', 'Desert', 'Ducks on a Misty Pond', 'Eagle & Waterfall', 'Earth and Moon', 'Earth Horizon', 'El Capitan 2', 'El Capitan', 'Elephant', 'Flamingos', 'Floating Ice', 'Floating Leaves', 'Foggy Forest', 'Forest in Mist', 'Foxtail Barley', 'Frog', 'Galaxy', 'Grass Blades', 'Hawaiian Print', 'Isles', 'Lake', 'Lion', 'Milky Way', 'Moon', 'Mountain Range', 'Mt. Fuji', 'Pink Forest', 'Pink Lotus Flower', 'Poppies', 'Red Bells', 'Rice Paddy', 'Rolling Waves', 'Shapes', 'Sierra 2', 'Sierra', 'Sky', 'Snow', 'Underwater', 'Wave', 'Yosemite 2', 'Yosemite 3', 'Yosemite 4', 'Yosemite 5', 'Yosemite', 'Zebras'],\n        windows: ['...'],\n        linux: ['...']\n    }\n};\n\nvar expressions = {\n\n    // {type: int, mode: cycle, from: 1}\n    // {type: int, mode: forward, from: 1}\n    // {type: int, mode: random, min: 1, max: 10}\n    int: function int(opt) {\n        return { i: 0, method: 'int', mode: opt.mode, render: function render() {\n                return opt.mode == 'forward' || opt.mode == 'loop' ? opt.from + this.i++ : opt.mode == 'random' ? Math.floor(_index.math.to(Math.random(), opt.min, opt.max)) : this.i;\n            }\n        };\n    },\n\n\n    // {type: string, mode: text, count: 20}\n    // {type: string, mode: text, min: 20, max 100}\n    string: function string(opt) {\n        return {\n            render: function render() {\n                var count = opt.count ? opt.count : Math.floor(_index.math.to(Math.random(), opt.min, opt.max));\n                var capitalize = true;\n                var sentence = '';\n                for (var i = 0; i < count; i++) {\n                    var randomWord = assets.words[Math.floor(Math.random() * assets.words.length)];\n                    var signIndex = Math.floor(Math.pow(Math.random(), 20) * assets.signs.length);\n                    var sign = assets.signs[_index.math.min(signIndex, i < count - 1 ? 0 : 2)] + ' ';\n                    var word = capitalize ? _index.text.capitalize(randomWord) : randomWord;\n                    sentence += word + sign;\n                    capitalize = signIndex > 1;\n                }\n                return sentence.substring(0, sentence.length - 1);\n            }\n        };\n    },\n\n\n    // {type: image, source: local}\n    image: function image(opt) {\n        var source = {\n            remote: function remote(i) {\n                return 'https://unsplash.it/500?image=' + i;\n            },\n            local: function local(i) {\n                return 'file:///Library/Desktop%20Pictures/' + escape(assets.image.mac[i % assets.image.mac.length]) + '.jpg';\n            }\n        };\n        var seed = _index.math.randInt(0, 1000);\n        return { i: 0, render: function render() {\n                return source[opt.source || 'local'](seed + this.i++);\n            }\n        };\n    },\n\n\n    // get(i => {return custom[i]})\n    iterate: function iterate(callback) {\n        return { type: 'expression', i: 0, render: function render() {\n                return callback(this.i++);\n            }\n        };\n    }\n};\n\nexports.default = {\n\n    /*\n        model.on('make', item => {\n            return new fw.Layer({\n                parent : scroller,\n                size   : new fw.vec(100, 100),\n                margin : 10\n            })\n        })\n        \n        model.on('destroy', item => {\n            item.layer.animate({}, {\n                margin : {x: -item.layer.size.x / 2},\n                scale  : {x: 0}\n            },{\n                destroy : true\n            })\n        })\n    */\n\n    init: function init() {\n        var model = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n        var destroy = function destroy(layer) {\n            layer.destroy();\n        };\n        var make = function make(item) {/* no initial value */};\n        var methods = {\n            on: function on(topic, callback) {\n                if (topic == 'make') {\n                    make = function make(item) {\n                        var layer = callback(item);\n                        layer.data = item;\n                        Object.defineProperty(item, 'layer', {\n                            value: layer,\n                            enumerable: false\n                        });\n                    };\n                    model.forEach(make);\n                } else if (topic == 'destroy') destroy = callback;\n                return model;\n            },\n            push: function push() {\n                make(arguments[0]);\n                Array.prototype.push.apply(this, arguments);\n            },\n            splice: function splice() {\n                var deleted = Array.prototype.splice.apply(this, arguments);\n                deleted.forEach(function (a) {\n                    return destroy(a.layer);\n                });\n                return deleted;\n            },\n            find: function find(query) {\n                return _index.arr.find(model, query);\n            },\n            delete: function _delete(query) {\n                return _index.arr.delete(model, query);\n            },\n            filterMap: function filterMap(query) {\n                return _index.arr.filterMap(model, query);\n            },\n            reset: function reset() {\n                return model.splice(0, model.length);\n            }\n        };\n        for (var key in methods) {\n            Object.defineProperty(model, key, { enumerable: false, value: methods[key] });\n        }return model;\n    },\n\n\n    /*\n        var boxes = fw.model.put({\n            count : 10,\n            model : {\n                album  : fw.model.iterate(i => {return custom[i].album}),\n                id     : '{type: int, mode: forward, from: 1}',\n            },\n            shuffle : [{\n                someParam : 'testest'\n            },{\n                others : '{type: int, mode: random, min: 1, max: 10}',\n                image  : '{type: image, source: local}' \n            }]\n        })\n    */\n\n    put: function put(opt) {\n        // modify values\n        for (var key in opt.model) {\n            var value = opt.model[key];\n            // reset integer with count type\n            if (value.type == 'expression' && value.expressions) value.expressions.forEach(function (expression) {\n                // reset int expression if loop\n                if (expression.method == 'int' && expression.mode == 'loop') expression.i = 0;\n            });\n        }\n        // render content\n        var model = [];\n        for (var i = 0; i < (opt.count || 1); i++) {\n            // copy raw model\n            var property = this.render(opt.model);\n            // make shuffle on model\n            if ('shuffle' in opt) {\n                var index = _index.math.randInt(0, opt.shuffle.length);\n                Object.assign(property, this.render(opt.shuffle[index]));\n            }\n            // add rendered version of model to the output list\n            model.push(property);\n        }\n        // make watchable\n        return this.init(model);\n    },\n    render: function render(model) {\n        var out = {};\n        for (var key in model) {\n            // init expression\n            if (_index.val.isStr(model[key]) && model[key].match(/{.*?}/)) model[key] = this._parseExpressions(model[key]);\n            // render value if expression\n            if (model[key].type == 'expression') out[key] = model[key].render();\n            // transfer value\n            else out[key] = model[key];\n        }\n        return out;\n    },\n    _parseExpressions: function _parseExpressions(string) {\n        var out = { type: 'expression', expressions: [] };\n        // find all the queries and replace them with functions\n        var string = string.replace(/{.*?}/g, function (match) {\n            var query = {};\n            // parse match\n            match.replace(/{| |}/g, '').split(',').forEach(function (p) {\n                p = p.split(':');\n                query[p[0]] = parseInt(p[1]) || p[1];\n            });\n            // find method of this and push generated expression\n            out.expressions.push(expressions[query.type](query));\n            // save index of array {1}\n            return '{' + (out.expressions.length - 1) + '}';\n        });\n        out.render = function () {\n            var _this = this;\n\n            // replace all {1} with expression result\n            var result = string.replace(/{.*?}/g, function (i) {\n                // bundle.expressions[{1}]\n                return _this.expressions[i.match(/\\d+/)[0]].render();\n            });\n            // convert to int if no characters\n            return result.match(/[^\\d+]/) ? result : parseInt(result);\n        };\n        return out;\n    }\n};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n\tanimate: function animate(dom) {\n\t\tvar name = '_' + new Date().getTime();\n\t\tvar keyframes = '@keyframes ' + name + ' {\\n            to   {transform : translate(100%)}\\n        }';\n\t\t// from {transform : rotate(0.0deg)}\n\t\tdocument.styleSheets[0].insertRule(keyframes, 0);\n\t\tdom.style[_index.css.vendor.animation] = name + ' 1s';\n\t\tvar end = function end(e) {\n\t\t\tif (e.animationName == name) {\n\t\t\t\tdocument.styleSheets[0].removeRule(name);\n\t\t\t\tdom.style[_index.css.vendor.animation] = null;\n\t\t\t\tdom.removeEventListener('animationend', end);\n\t\t\t}\n\t\t};\n\t\tdom.addEventListener('animationend', end);\n\t},\n\n\n\t/*\n \tfw.animation.request.on('move', () => {\n \t\tscroller.translate = pointer\n \t})\n \tfw.animation.request.draw()\n */\n\n\tdraw: function () {\n\t\tvar thread = true;\n\t\tvar jobs = {};\n\t\treturn function (key, fn) {\n\t\t\tjobs[key] = fn;\n\t\t\tif (thread) {\n\t\t\t\tthread = false;\n\t\t\t\twindow.requestAnimationFrame(function () {\n\t\t\t\t\tthread = true;\n\t\t\t\t\tfor (var i in jobs) {\n\t\t\t\t\t\tjobs[i]();delete jobs[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}(),\n\n\t/*\n \tdom.set({\n \t\ttranslate  : new fw.vec(0, -100),\n \t}).flow(1.5, 'ease', 1, {\n \t\ttranslate  : new fw.vec(0, 53.5),\n \t}, function () {\n \t\tconsole.log('done')\n \t})\n */\n\n\tflow: function flow(layer, time, ease, delay, next, end) {\n\t\t// will be deprecated\n\t\tvar bang = function bang() {\n\t\t\tlayer.dom.removeEventListener('transitionend', bang);\n\t\t\tlayer.dom.style[_index.css.vendor.transition] = null;\n\t\t\tif (end) {\n\t\t\t\tif (_index.val.isFn(end)) end();else if (_index.val.isObj(end)) layer.set(end);\n\t\t\t\tend = null;\n\t\t\t}\n\t\t};\n\t\tlayer.dom.addEventListener('transitionend', bang);\n\t\tlayer.dom.style[_index.css.vendor.transition] = time + 's ' + ease + ' ' + delay + 's';\n\t\tsetTimeout(function () {\n\t\t\tif (_index.val.isFn(next)) next();else if (_index.val.isObj(next)) layer.set(next);\n\t\t}, 0);\n\t},\n\n\n\tjobs: function () {\n\t\tvar fps = 60;\n\t\tvar active = false;\n\t\tvar jobs = {};\n\t\treturn function (id, job) {\n\t\t\tvar running = id in jobs;\n\t\t\tjobs[id] = job;\n\t\t\tif (!active) {\n\t\t\t\tactive = true;\n\t\t\t\tvar loop = setInterval(function () {\n\t\t\t\t\tfor (var i in jobs) {\n\t\t\t\t\t\tif (jobs[i]()) delete jobs[i];\n\t\t\t\t\t}if (Object.keys(jobs).length == 0) {\n\t\t\t\t\t\tactive = false;\n\t\t\t\t\t\tclearTimeout(loop);\n\t\t\t\t\t}\n\t\t\t\t}, 1000 / fps);\n\t\t\t}\n\t\t\treturn running;\n\t\t};\n\t}(),\n\n\t// Other Functions\n\tgetSinus: function getSinus(from, to, speed) {\n\t\tvar time = new Date().getTime() * 0.001;\n\t\tvar sin = Math.sin(time * (speed || 1));\n\t\treturn _index.math.map(sin, -1, 1, from, to);\n\t},\n\n\n\t/*\n \tvar tilt = fw.animation.decay(velocity => {\n         fw.animation.draw(`${layer2.identifier}: velocity`, () => {\n             layer2.tilt = velocity.scale(5)\n         })\n     }).on('end', e => {\n         console.log('test')\n     })\n */\n\n\tdecay: function decay(options, callback) {\n\t\tvar _this = this;\n\n\t\tvar id = window.performance.now();\n\t\tvar e = new _index.event.Machine('Decay', false);\n\t\tvar types = {\n\t\t\tvec: {\n\t\t\t\tcalculate: function calculate(a, b, c) {\n\t\t\t\t\treturn a.value.add(b.sub(a.value).scale(c), 1);\n\t\t\t\t},\n\t\t\t\tisEqual: function isEqual(a, b, c) {\n\t\t\t\t\treturn _index.math.isEqual(b.sub(a.value).len(), c);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnum: {\n\t\t\t\tcalculate: function calculate(a, b, c) {\n\t\t\t\t\treturn a.value += (b - a.value) * c;\n\t\t\t\t},\n\t\t\t\tisEqual: function isEqual(a, b, c) {\n\t\t\t\t\treturn _index.math.isEqual(a.value, b, c);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar value = options.value || 0;\n\t\tvar job = { value: value, type: types[value instanceof _index.vec ? 'vec' : 'num'] };\n\t\tvar _stop = false;\n\t\tcallback(value);\n\t\tvar out = {\n\t\t\tto: function to(value) {\n\t\t\t\t_this.jobs(id, function () {\n\t\t\t\t\tif (!_stop) {\n\t\t\t\t\t\tjob.type.calculate(job, value, options.speed || .1);\n\t\t\t\t\t\tcallback(job.value);\n\t\t\t\t\t\tif (job.type.isEqual(job, value, options.float || 1)) {\n\t\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\t\te.emit('end');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar stopped = _stop;\n\t\t\t\t\t_stop = false;\n\t\t\t\t\treturn stopped;\n\t\t\t\t});\n\t\t\t},\n\t\t\tset value(value) {\n\t\t\t\tjob.value = value;\n\t\t\t\tcallback(value);\n\t\t\t},\n\t\t\tget value() {\n\t\t\t\treturn job.value;\n\t\t\t},\n\t\t\tstop: function stop() {\n\t\t\t\t_stop = true;\n\t\t\t\te.emit('stop');\n\t\t\t\treturn out;\n\t\t\t},\n\t\t\ton: function on(topic, fn) {\n\t\t\t\te.on(topic, fn);\n\t\t\t\treturn out;\n\t\t\t},\n\n\t\t\tset debug(value) {\n\t\t\t\te.debug = value;\n\t\t\t}\n\t\t};\n\t\treturn out;\n\t}\n};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n\n    // _splitQuery('parent.child.element')\n    _splitQuery: function _splitQuery(query) {\n        var levels = query.split('.');\n        return {\n            level: levels,\n            last: levels.length - 1\n        };\n    },\n\n\n    // level({id: [10, 15]}, _splitQuery('id.0'), 20); -> {id: [20, 15]}\n    _level: function _level(object, query, value) {\n        var path = object;\n        for (var n = 0; n < query.last; n++) {\n            path = path[query.level[n]];\n        }if (value) path[query.level[query.last]] = value;else return path[query.level[query.last]];\n    },\n\n\n    // map(workspaces, 'workspace.items.1')\n    map: function map(array, query) {\n        var _this = this;\n\n        var levels = this._splitQuery(query);\n        return array.map(function (list) {\n            return _this._level(list, levels);\n        });\n    },\n\n\n    // var bundle = find(workspaces, {id: id});\n    find: function find(array, query) {\n        var output = array.slice();\n        for (var i in query) {\n            var temp = [];\n            var map = this.map(output, i);\n            for (var n = 0; n < map.length; n++) {\n                if (map[n] == query[i]) temp.push(output[n]);\n            }output = temp.slice();\n        }\n        return output;\n    },\n\n\n    // var deleted = del(workspaces, {'title.color': color});\n    delete: function _delete(array, query) {\n        var deleted;\n        if (_index.val.isObj(query)) {\n            deleted = this.find(array, query);\n            deleted.forEach(function (found) {\n                return array.splice(array.indexOf(found), 1);\n            });\n        } else {\n            var i = array.indexOf(query);\n            deleted = array.splice(i, 1);\n        }\n        return deleted;\n    },\n\n\n    // updateColumn([{id: 15}, {id: 30}], {id: [20, 15]}); -> [{id: 20}, {id: 15}]\n    updateColumn: function updateColumn(array, query) {\n        var _this2 = this;\n\n        for (var i in query) {\n            if (array.length == query[i].length) {\n                var levels = this._splitQuery(i);\n                array.forEach(function (object, index) {\n                    return _this2._level(object, levels, query[i][index]);\n                });\n            } else console.log('different lenghtes');\n        }\n    },\n\n\n    //filterMap(workspaces, {_id, 'id', alias: 'name'});\n    filterMap: function filterMap(array, keys) {\n        var output = [];\n        array.forEach(function (original) {\n            var object = {};\n            for (var key in keys) {\n                object[keys[key]] = original[key];\n            }output.push(object);\n        });\n        return output;\n    }\n};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.default = {\n\n\thsva: function () {\n\t\tfunction hsva(hue, saturation, value, alpha) {\n\t\t\t_classCallCheck(this, hsva);\n\n\t\t\tthis.hue = hue;\n\t\t\tthis.saturation = saturation;\n\t\t\tthis.value = value;\n\t\t\tthis.alpha = alpha;\n\t\t}\n\n\t\t_createClass(hsva, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get() {\n\t\t\t\tvar trn = 100 - 50 * this.saturation;\n\t\t\t\treturn 'hsla(' + 360 * this.hue + ', ' + 100 * this.saturation + '%, ' + trn * this.value + '%, ' + this.alpha + ')';\n\t\t\t}\n\t\t}]);\n\n\t\treturn hsva;\n\t}(),\n\n\trand: function rand(_alpha) {\n\t\tvar rgb = function rgb() {\n\t\t\treturn parseInt(Math.random() * 200 + 55);\n\t\t};\n\t\treturn 'rgba(' + rgb() + ', ' + rgb() + ', ' + rgb() + ', ' + (_alpha ? _alpha : 0.3) + ')';\n\t}\n};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n    applyTransformation: function applyTransformation(element, p, type) {\n        if (type == 'origin') {\n            element.style[this.vendor.transformOrigin] = p.origin.x + ' ' + p.origin.y;\n            element.style[this.vendor.perspectiveOrigin] = '' + p.origin.z;\n        } else element.style[this.vendor.transform] = 'matrix3d(' + p.matrix3d.toString() + ')\\n                translate(' + p.translate.x + ', ' + p.translate.y + ')\\n                rotate(' + p.rotate + ')\\n                scale(' + p.scale.x + ', ' + p.scale.y + ')';\n    },\n    computed: function computed(element, prop) {\n        return parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(prop));\n    },\n\n\n    vendor: function (props) {\n        var out = {};\n        if (!_index.val.exists(document)) return out;\n        var prefix = [null, 'ms', 'webkit', 'moz', 'o'];\n        var div = document.createElement('div');\n        props.forEach(function (prop) {\n            for (var i = 0; i < prefix.length; i++) {\n                var p = prefix[i] + prefix[i] ? _index.text.capitalize(prop) : prop;\n                if (_index.val.exists(div.style[p])) {\n                    out[prop] = p;break;\n                }\n            }\n        });\n        return out;\n    }(['transform', 'transformOrigin', 'perspectiveOrigin', 'columnCount', 'transition', 'animation'])\n\n};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n\n    // create ('div#id .class .class')\n    create: function create() {\n        var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n        var classes = query.replace(/ /g, '').split('.');\n        var tagAndId = [];\n        if (classes[0].length == 0) tagAndId = classes[0].split('#');\n        classes.shift();\n        var element = document.createElement(tagAndId[0] || 'div');\n        if (tagAndId.length > 1) element.id = tagAndId[1];\n        classes.forEach(function (style) {\n            return element.classList.add(style);\n        });\n        return element;\n    },\n    template: function template(_template, model, onUpdate) {\n        var init = true;\n        var active = true;\n        var render = function render() {\n            var result = _template.replace(/{([A-z 0-9]+)}/g, function ($1, $2) {\n                if (init) {\n                    var val = model[$2];\n                    Object.defineProperty(model, $2, {\n                        set: function set(value) {\n                            val = value;\n                            if (active) render();\n                        },\n\n                        get: function get() {\n                            return val;\n                        }\n                    });\n                }\n                return model[$2];\n            });\n            onUpdate(result);\n            init = false;\n        };\n        render();\n        return {\n            on: function on() {\n                active = true;\n                return this;\n            },\n            off: function off() {\n                active = false;\n                return this;\n            },\n\n            get active() {\n                return active;\n            }\n        };\n    },\n    fromString: function fromString(html) {\n        var parent = document.createElement('div');\n        parent.innerHTML = html;\n        return parent.firstChild;\n    },\n    prepend: function prepend(parent, child) {\n        if (parent.firstChild) parent.insertBefore(child, parent.firstChild);else parent.appendChild(child);\n    },\n    clone: function clone(dom) {\n        var _this = this;\n\n        var clone = dom.cloneNode(true);\n        clone.remove = function () {\n            return _this.parentNode.removeChild(_this);\n        };\n        dom.parentNode.appendChild(clone);\n        return clone;\n    },\n    selection: function selection(mode) {\n        document.ondragstart = document.onselectstart = mode ? null : function () {\n            return false;\n        };\n    }\n};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n\tclone: function clone(object, methods) {\n\t\treturn Object.assign(Object.assign({}, object), methods);\n\t\t//return JSON.parse(JSON.stringify(_object))\n\t},\n\tuuid: function uuid() {\n\t\treturn 'dd-d-d-d-ddd'.replace(/d/g, function () {\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t\t});\n\t},\n\tuploadFile: function uploadFile(input, onready) {\n\t\tvar _this = this;\n\n\t\tinput.onchange = function () {\n\t\t\tvar event = window.event;\n\t\t\tvar files = event.target.files;\n\t\t\tvar output = [];\n\t\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\t\t_this.readFile(files[i], function (file) {\n\t\t\t\t\toutput.push(file);\n\t\t\t\t\tif (output.length == files.length) onready(output);\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this);\n\t},\n\tcompressImage: function compressImage(list, scale, onload, quality) {\n\t\tvar compressor = function compressor(url, render) {\n\t\t\tvar image = document.createElement('img');\n\t\t\timage.onload = function () {\n\t\t\t\tvar canvas = document.createElement('canvas');\n\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\tvar width = this.width * scale;\n\t\t\t\tvar height = this.height * scale;\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\t\t\t\tcontext.drawImage(this, 0, 0, width, height);\n\t\t\t\trender(canvas.toDataURL('image/jpeg', quality || 1));\n\t\t\t};\n\t\t\timage.src = url;\n\t\t};\n\t\tif (_index.val.isArr(list)) list.forEach(function (url, i) {\n\t\t\tcompressor(url, function (scaled) {\n\t\t\t\tlist[i] = scaled;\n\t\t\t\tif (i == list.length - 1) onload(urls);\n\t\t\t});\n\t\t});else compressor(list, onload);\n\t},\n\n\n\t/*\n \tdecodeBase64 (dataString) {\n \t\tif (typeof Buffer !== undefined) {\n \t\t\tvar matches = dataString.match(/^data:([A-Za-z-+\\/]+);base64,(.+)$/)\n \t\t\tif (matches.length !== 3) return new Error('invalid input string')\n \t\t\treturn {\n \t\t\t\ttype : matches[1],\n \t\t\t\tdata : new Buffer(matches[2], 'base64')\n \t\t\t}\n \t\t}\n \t},\n */\n\n\tcookie: {\n\t\tget: function get(cookies) {\n\t\t\tvar object = {};\n\t\t\tif (cookies) {\n\t\t\t\tvar params = cookies.split('; ');\n\t\t\t\tparams.forEach(function (param) {\n\t\t\t\t\tvar bundle = param.split('=');\n\t\t\t\t\tobject[bundle[0]] = bundle[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn object;\n\t\t},\n\t\tset: function set(cookies) {\n\t\t\tvar string = '';\n\t\t\tfor (var key in cookies) {\n\t\t\t\tstring += key + '=' + cookies[key] + '; ';\n\t\t\t}return string;\n\t\t},\n\t\tdel: function del(cookies, key) {\n\t\t\tcookies[key] = '; expires=Thu, 01 Jan 1970 00:00:01 GMT';\n\t\t}\n\t},\n\n\tsearch: {\n\t\tget: function get(address) {\n\t\t\tvar object = {};\n\t\t\tvar query = address.split('?')[1];\n\t\t\tif (query && query.length > 0) {\n\t\t\t\tvar params = query.split('&');\n\t\t\t\tparams.forEach(function (param) {\n\t\t\t\t\tvar bundle = param.split('=');\n\t\t\t\t\tobject[bundle[0]] = bundle[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn object;\n\t\t},\n\t\tset: function set(query) {\n\t\t\tvar string = '';\n\t\t\tfor (var key in query) {\n\t\t\t\tstring += key + '=' + query[key] + (Object.keys(query).length > 1 ? '&' : '');\n\t\t\t}return string;\n\t\t}\n\t},\n\n\ttimeout: function timeout(duration, interval, check, execute, _timeout) {\n\t\tvar count = duration / interval;\n\t\tvar loop = setInterval(function () {\n\t\t\tcheck(function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\texecute();\n\t\t\t\t\tclearInterval(loop);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (count == 0) {\n\t\t\t\t_timeout && _timeout();\n\t\t\t\tclearInterval(loop);\n\t\t\t}\n\t\t\tcount--;\n\t\t}, interval * 1000);\n\t}\n};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n    Machine: function Machine() {\n        var namespace = arguments.length <= 0 || arguments[0] === undefined ? 'event' : arguments[0];\n        var debug = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var log = function log(msg, topic, payload) {\n            if (out.debug) {\n                var obj = {\n                    topic: topic,\n                    timestamp: new Date().getTime()\n                };\n                if (_index.val.exists(payload)) Object.assign(obj, { payload: payload });\n                console.log('[' + namespace + '] ' + msg, obj);\n            }\n        };\n        var topics = {};\n        var out = {\n            debug: debug,\n            on: function on(topic, callback) {\n                if (!topics[topic]) topics[topic] = [];\n                return {\n                    get active() {\n                        return topics[topic] && topics[topic].indexOf(callback) > -1;\n                    },\n                    on: function on() {\n                        if (!this.active) {\n                            log('subscribed to', topic);\n                            topics[topic].push(callback);\n                        }\n                        return this;\n                    },\n                    off: function off() {\n                        if (this.active) {\n                            log('unsubscribed from', topic);\n                            _index.array.delete(topics[topic], callback);\n                        }\n                        return this;\n                    }\n                }.on();\n            },\n            emit: function emit(topic, payload) {\n                log('fired', topic, payload);\n                if (topics[topic]) topics[topic].forEach(function (callback) {\n                    return callback(payload);\n                });\n                return this;\n            }\n        };\n        return out;\n    },\n    listener: function listener(dom, type, callback, flag) {\n        var fn = function fn(e) {\n            e.undef = function () {\n                e.preventDefault();return e;\n            };\n            e.stop = function () {\n                e.stopPropagation();return e;\n            };\n            e.block = function () {\n                return e.undef().stop();\n            };\n            return callback(e);\n        };\n        return {\n            active: false,\n            on: function on() {\n                if (!this.active) {\n                    this.active = true;\n                    dom.addEventListener(type, fn, flag);\n                }\n                return this;\n            },\n            off: function off() {\n                if (this.active) {\n                    this.active = false;\n                    dom.removeEventListener(type, fn, flag);\n                }\n                return this;\n            }\n        };\n    },\n    support: function support(element, type) {\n        var supported = 'on' + type in element;\n        if (!supported) {\n            element.setAttribute(type, null);\n            supported = typeof element[type] === 'function';\n        }\n        return supported;\n    },\n\n\n    types: function () {\n        if (_index.val.exists(window)) {\n            var isTouch = 'ontouchstart' in window; // window.PointerEvent\n            return {\n                isTouch: isTouch,\n                tap: 'click',\n                down: isTouch ? 'touchstart' : 'mousedown',\n                move: isTouch ? 'touchmove' : 'mousemove',\n                up: isTouch ? 'touchend' : 'mouseup',\n                in: isTouch ? null : 'mouseenter',\n                out: isTouch ? null : 'mouseleave',\n                cancel: isTouch ? 'touchcancel' : null,\n                scroll: 'scroll',\n                change: 'change'\n            };\n        }\n    }(),\n\n    /*\n        var dropZone = layer.on('file', {\n            in () {\n                layer.bg({color: 'red'})\n            },\n            out () {\n                layer.bg({color: null})\n            },\n            drop (data) {\n                console.log(data)\n            }\n        }).on()    \n    */\n\n    fileDrop: function fileDrop(layer) {\n        var t = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var over = this.listener(layer.dom, 'dragover', function (e) {\n            t.in && t.in({ e: e });\n            leave.on();\n            drop.on();\n            e.preventDefault();\n        });\n        var leave = this.listener(layer.dom, 'dragleave', function (e) {\n            t.out && t.out({ e: e });\n            leave.off();\n            drop.off();\n            e.preventDefault();\n        });\n        var drop = this.listener(layer.dom, 'drop', function (e) {\n            t.out && t.out({ e: e });\n            var read = function read(file, callback) {\n                if (/\\.(jpe?g|png|gif)$/i.test(file.name)) {\n                    var reader = new FileReader();\n                    reader.onload = function (e) {\n                        callback({\n                            name: file.name,\n                            data: this.result\n                        });\n                    };\n                    reader.readAsDataURL(file);\n                }\n            };\n            var files = e.dataTransfer.files;\n            var out = [];\n            for (var i = 0; i < files.length; i++) {\n                read(files[i], function (data) {\n                    out.push(data);\n                    if (out.length == files.length && t.drop) t.drop(out);\n                });\n            }e.preventDefault();\n        });\n        return {\n            get active() {\n                return over.active;\n            },\n            on: function on() {\n                over.on();\n                return this;\n            },\n            off: function off() {\n                over.off();\n                return this;\n            }\n        };\n    }\n};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n\n\t// viewport offset\n\tvpo: function vpo(dom) {\n\t\tvar rect = dom.getBoundingClientRect();\n\t\treturn {\n\t\t\tposition: new _index.vec(rect.left, rect.top),\n\t\t\topposite: new _index.vec(rect.right, rect.bottom),\n\t\t\tsize: new _index.vec(rect.width, rect.height)\n\t\t};\n\t},\n\tvp: function vp() {\n\t\treturn new _index.vec(document.documentElement.clientWidth, document.documentElement.clientHeight);\n\t},\n\tcenter: function center(params) {\n\t\t// for regular vector system\n\t\tif (_index.val.isVec(params)) return params.position.add(params.size.scale(.5));\n\t\t// for dimension system\n\t\telse if (_index.val.isDim(params)) {\n\t\t\t\tvar rect = this.dimvec(params);\n\t\t\t\treturn rect.position.add(rect.size.scale(.5));\n\t\t\t}\n\t},\n\tdimvec: function dimvec(dims) {\n\t\tvar size = dims.w ? new _index.vec(dims.w, dims.h) : dims.r ? new _index.vec(dims.r - dims.l, dims.b - dims.t) : null;\n\t\treturn { size: size, position: new _index.vec(dims.l, dims.t) };\n\t},\n\tvecdim: function vecdim(position, size) {\n\t\tvar box = {\n\t\t\tl: position.x, w: size.x,\n\t\t\tt: position.y, h: size.y\n\t\t};\n\t\tbox.r = box.l + box.w;\n\t\tbox.b = box.t + box.h;\n\t\treturn box;\n\t},\n\tboxCollision: function boxCollision(a, b) {\n\t\treturn a.l < b.l + b.w && a.t < b.t + b.h && b.l < a.l + a.w && b.t < a.t + a.h;\n\t},\n\thitTest: function hitTest(a, pointer) {\n\t\treturn a.l < pointer.x && pointer.x < a.l + a.w && a.t < pointer.y && pointer.y < a.t + a.h;\n\t},\n\tgetSide: function getSide(pointer, size, border) {\n\t\tvar border = .5 * border;\n\t\treturn {\n\t\t\tx: pointer.x < border ? 'l' : size.x - pointer.x < border ? 'r' : 'c',\n\t\t\ty: pointer.y < border ? 't' : size.y - pointer.y < border ? 'b' : 'c'\n\t\t};\n\t},\n\n\n\t// {x: 'l|c|r', y: 't|m|b'}\n\tgetCursor: function getCursor(side) {\n\t\treturn side ? {\n\t\t\tt: { l: 'nw-resize', c: 'n-resize', r: 'ne-resize' },\n\t\t\tc: { l: 'w-resize', c: 'move', r: 'e-resize' },\n\t\t\tb: { l: 'sw-resize', c: 's-resize', r: 'se-resize' }\n\t\t}[side.y][side.x] : null;\n\t}\n};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.default = {\n\tto: function to(t, a, b) {\n\t\treturn this.map(t, 0, 1, a, b, true);\n\t},\n\tmap: function map(value, aMin, aMax, bMin, bMax, clamp) {\n\t\tvar x = clamp == true ? value < aMin ? aMin : value > aMax ? aMax : value : value;\n\t\treturn (x - aMin) / (aMax - aMin) * (bMax - bMin) + bMin;\n\t},\n\tmin: function min(x, lim) {\n\t\treturn x > lim ? x : lim;\n\t},\n\tmax: function max(x, lim) {\n\t\treturn x < lim ? x : lim;\n\t},\n\trange: function range(min, val, max) {\n\t\treturn this.max(this.min(val, min), max);\n\t},\n\trandInt: function randInt(min, max) {\n\t\treturn Math.floor(this.to(Math.random(), min, max));\n\t},\n\tisEqual: function isEqual(a, b) {\n\t\tvar tolerance = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n\t\tvar range = Math.pow(10, -tolerance);\n\t\treturn a - range < b && b < a + range;\n\t},\n\tbinarySearch: function binarySearch(length, check) {\n\t\tvar i = Math.floor(.5 * length); // result\n\t\tvar h = i; // pointer\n\t\twhile (h > 1) {\n\t\t\th = Math.round(.5 * h);\n\t\t\ti += (check(i) ? 1 : -1) * h;\n\t\t}\n\t\tcheck(i, true);\n\t\treturn i;\n\t},\n\tlinearInterpolation: function linearInterpolation(t, points) {\n\t\t// Init\n\t\tvar params = [];\n\t\tvar x = 0;\n\t\t// Find Sector\n\t\tfor (var i = 0; i < points.length - 1; i++) {\n\t\t\tif (t >= points[i][0]) x = i;else break;\n\t\t} // Find Left and Right Side\n\t\tvar lValue = points[x];\n\t\tvar rValue = points[x + 1];\n\t\t// Interpolate Parameters\n\t\tfor (var i = 1; i < lValue.length; i++) {\n\t\t\tparams.push(this.map(t, lValue[0], rValue[0], lValue[i], rValue[i]));\n\t\t} // Return\n\t\treturn params;\n\t},\n\tgetValueFromDictionary: function getValueFromDictionary(value, list) {\n\t\tvar out;\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tif (value >= list[i][0]) out = list[i][1];\n\t\t}return out;\n\t},\n\trubberRange: function rubberRange(value, min, max, range, state) {\n\t\t// https://www.desmos.com/calculator\n\t\t// Based on 1-pow(1+x,-1)\n\t\tvar factor = 1.3;\n\t\tvar isMax = _index.val.exists(min);\n\t\tvar isMin = _index.val.exists(max);\n\t\tif (isMax || isMin) {\n\t\t\tvar dir = value < min;\n\t\t\tvar range = (dir ? 1 : -1) * range;\n\t\t\tvar len = dir ? min : max;\n\t\t\tvar x = (len - value) / range;\n\t\t\tvar y = len - range * (1 - Math.pow(1 + x, -factor));\n\t\t}\n\t\tvar maxState = isMax && value < min;\n\t\tvar minState = isMin && value > max;\n\t\tif (state) state(maxState ? 'max' : minState ? 'min' : null);\n\t\treturn maxState || minState ? y : value;\n\t},\n\n\n\t// var buffer = new Buffer(10) then var value = buffer.get(23.445) \n\tbuffer: function () {\n\t\tfunction buffer(size) {\n\t\t\t_classCallCheck(this, buffer);\n\n\t\t\tthis.array = [];\n\t\t\tthis.size = size;\n\t\t}\n\n\t\t_createClass(buffer, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get(value) {\n\t\t\t\tvar sum = 0;\n\t\t\t\tvar length = this.array.length;\n\t\t\t\tif (length > this.size) this.array.shift();\n\t\t\t\tthis.array.push(value);\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (isFinite(this.array[i])) sum += parseFloat(this.array[i]);\n\t\t\t\t}return sum / length;\n\t\t\t}\n\t\t}]);\n\n\t\treturn buffer;\n\t}()\n};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n    sources\n    http://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n    http://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/\n    https://github.com/infamous/boxer/blob/master/src/math/Quaternion.js\n    http://jsfiddle.net/dFrHS/1/\n    http://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/\n*/\n\nvar init = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nvar Matrix = function () {\n    function Matrix(value) {\n        _classCallCheck(this, Matrix);\n\n        this.value = !_index.val.exists(value) ? init : _index.val.isStr(value) ? this.fromString(value) : value;\n    }\n\n    _createClass(Matrix, [{\n        key: 'multiply',\n        value: function multiply(matrix, set) {\n            var a = this.value;\n            var b = matrix instanceof Matrix ? matrix.value : matrix;\n            // 4x4 Matrix Multiplication\n            var result = [a[0] * b[0] + a[1] * b[4] + a[2] * b[8] + a[3] * b[12], a[0] * b[1] + a[1] * b[5] + a[2] * b[9] + a[3] * b[13], a[0] * b[2] + a[1] * b[6] + a[2] * b[10] + a[3] * b[14], a[0] * b[3] + a[1] * b[7] + a[2] * b[11] + a[3] * b[15], a[4] * b[0] + a[5] * b[4] + a[6] * b[8] + a[7] * b[12], a[4] * b[1] + a[5] * b[5] + a[6] * b[9] + a[7] * b[13], a[4] * b[2] + a[5] * b[6] + a[6] * b[10] + a[7] * b[14], a[4] * b[3] + a[5] * b[7] + a[6] * b[11] + a[7] * b[15], a[8] * b[0] + a[9] * b[4] + a[10] * b[8] + a[11] * b[12], a[8] * b[1] + a[9] * b[5] + a[10] * b[9] + a[11] * b[13], a[8] * b[2] + a[9] * b[6] + a[10] * b[10] + a[11] * b[14], a[8] * b[3] + a[9] * b[7] + a[10] * b[11] + a[11] * b[15], a[12] * b[0] + a[13] * b[4] + a[14] * b[8] + a[15] * b[12], a[12] * b[1] + a[13] * b[5] + a[14] * b[9] + a[15] * b[13], a[12] * b[2] + a[13] * b[6] + a[14] * b[10] + a[15] * b[14], a[12] * b[3] + a[13] * b[7] + a[14] * b[11] + a[15] * b[15]];\n            if (set) {\n                this.value = result;\n                return this;\n            } else return new Matrix(result);\n        }\n\n        /* \n            extract floats \n            from 'matrix3d(0, -1, 0.182, -0.465)'\n            to [0, -1, 0.182, -0.46]\n        */\n\n    }, {\n        key: 'fromCss',\n        value: function fromCss(string) {\n            return string.match(/-?(\\d+(.\\d+)?)(?=,|\\))/g).map(parseFloat);\n        }\n    }, {\n        key: 'toCss',\n        value: function toCss() {\n            return 'matrix3d(' + this.toString() + ')';\n        }\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return this.value.join(',');\n        }\n    }, {\n        key: 'translate',\n        value: function translate(v, set) {\n            var x = v.x;\n            var y = v.y;\n            var z = v.z;\n\n            return this.multiply([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1], set);\n        }\n    }, {\n        key: 'getTranslation',\n        value: function getTranslation() {\n            return new _index.vec(this.value[12], this.value[13], this.value[14]);\n        }\n    }, {\n        key: 'scale',\n        value: function scale(v, set) {\n            if (_index.val.isNum(v)) return this.scale(new _index.vec().fill(v), set);else {\n                var x = v.x;\n                var y = v.y;\n                var z = v.z;\n\n                return this.multiply([x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1], set);\n            }\n        }\n    }, {\n        key: 'getScale',\n        value: function getScale() {\n            return new _index.vec(this.value[0], this.value[5], this.value[10]);\n        }\n    }, {\n        key: 'rotateX',\n        value: function rotateX(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: 'rotateY',\n        value: function rotateY(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: 'rotateZ',\n        value: function rotateZ(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: '_rotate',\n        value: function _rotate(deg, template, set) {\n            var rad = -deg * Math.PI / 180;\n            return this.multiply(template(Math.cos(rad), Math.sin(rad)), set);\n        }\n    }, {\n        key: 'rotate',\n        value: function rotate(v, set) {\n            if (_index.val.isNum(v)) return this.rotateZ(v, set);else {\n                return this.rotateX(v.x, set).rotateY(v.y, set).rotateZ(v.z, set);\n            }\n        }\n    }, {\n        key: 'getRotation',\n        value: function getRotation() {\n            return new _index.vec(Math.atan2(this.value[9], this.value[10]), Math.asin(-this.value[8]), Math.atan2(this.value[4], this.value[0])).apply(function (axis) {\n                return -axis.value * 180 / Math.PI;\n            });\n        }\n    }, {\n        key: 'resetRotation',\n        value: function resetRotation() {\n            var _this = this;\n\n            [0, 1, 2, 4, 5, 6, 8, 9, 10].forEach(function (i) {\n                return _this.value[i] = init[i];\n            });\n            return this;\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this.value = init;\n            return this;\n        }\n    }, {\n        key: 'project',\n        value: function project(size, lt, lb, rt, rb, set) {\n            var m3x3 = function m3x3(a, b) {\n                return [a[0] * b[0] + a[1] * b[3] + a[2] * b[6], a[0] * b[1] + a[1] * b[4] + a[2] * b[7], a[0] * b[2] + a[1] * b[5] + a[2] * b[8], a[3] * b[0] + a[4] * b[3] + a[5] * b[6], a[3] * b[1] + a[4] * b[4] + a[5] * b[7], a[3] * b[2] + a[4] * b[5] + a[5] * b[8], a[6] * b[0] + a[7] * b[3] + a[8] * b[6], a[6] * b[1] + a[7] * b[4] + a[8] * b[7], a[6] * b[2] + a[7] * b[5] + a[8] * b[8]];\n            };\n            var adjugate = function adjugate(m) {\n                return [m[4] * m[8] - m[5] * m[7], m[2] * m[7] - m[1] * m[8], m[1] * m[5] - m[2] * m[4], m[5] * m[6] - m[3] * m[8], m[0] * m[8] - m[2] * m[6], m[2] * m[3] - m[0] * m[5], m[3] * m[7] - m[4] * m[6], m[1] * m[6] - m[0] * m[7], m[0] * m[4] - m[1] * m[3]];\n            };\n            var basisToPoints = function basisToPoints(a, b, c, d) {\n                var m = [a.x, b.x, c.x, a.y, b.y, c.y, 1, 1, 1];\n                var a = adjugate(m);\n                return m3x3(m, [a[0] * d.x + a[1] * d.y + a[2], 0, 0, 0, a[3] * d.x + a[4] * d.y + a[5], 0, 0, 0, a[6] * d.x + a[7] * d.y + a[8]]);\n            };\n            var t = m3x3(basisToPoints(lt, rt, lb, rb), adjugate(basisToPoints(new _index.vec(), new _index.vec(size.x), new _index.vec(0, size.y), size)));\n            for (var i = 0; i < 9; i++) {\n                t[i] /= t[8];\n            }return this.multiply([t[0], t[3], 0, t[6], t[1], t[4], 0, t[7], 0, 0, 1, 0, t[2], t[5], 0, t[8]], set);\n        }\n    }]);\n\n    return Matrix;\n}();\n\nexports.default = Matrix;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nexports.default = {\n    ellipsis: function ellipsis(dom, lineCount, symbol) {\n        // set target height\n        dom.style.height = this.getLineHeight(dom) * lineCount + 'px';\n        var domRect = dom.getBoundingClientRect();\n        var multiColumn = _index.css.computed(dom, 'column-count') > 1;\n        // check if iteration is necessary\n        if (multiColumn && dom.scrollWidth > domRect.width + 1 || dom.scrollHeight > domRect.height + 1) {\n            // init range selection\n            var string = dom.firstChild;\n            var length = dom.innerHTML.length;\n            var range = document.createRange();\n            range.setEnd(string, length);\n            // search for position\n            _index.math.binarySearch(length, function (i, end) {\n                // make selection\n                range.setStart(string, end ? i - 3 : i);\n                // return check\n                var cursorRect = range.getBoundingClientRect();\n                return multiColumn ? cursorRect.left < domRect.right : cursorRect.top < domRect.bottom - 1;\n            });\n            // delete rest and add ellipsis\n            range.deleteContents();\n            dom.innerHTML += symbol || '&hellip;';\n        }\n        // restore height\n        dom.style.height = null;\n    },\n    lineCount: function lineCount(dom) {\n        return Math.floor(dom.offsetHeight / this.getLineHeight(dom));\n    },\n    getLineHeight: function getLineHeight(dom) {\n        var string = dom.firstChild;\n        var range = document.createRange();\n        range.setStart(string, 0);\n        range.setEnd(string, 1);\n        return range.getBoundingClientRect().height;\n    },\n    capitalize: function capitalize(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n    hash: function hash(string) {\n        var hash = 0;\n        for (i = 0; i < string.length; i++) {\n            hash += string.charCodeAt(i);\n        }return hash;\n    },\n    numberPadding: function numberPadding(num, symbol, length) {\n        var num = num + '';\n        while (num.length < length) {\n            num = symbol + num;\n        }return num;\n    }\n};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n    exists: function exists(val) {\n        return typeof val !== 'undefined';\n    },\n    isBool: function isBool(val) {\n        return typeof val === \"boolean\";\n    },\n    isNum: function isNum(val) {\n        return typeof val === 'number';\n    },\n    isStr: function isStr(val) {\n        return typeof val === 'string' || val instanceof String;\n    },\n    isArr: function isArr(val) {\n        return Array.isArray(val);\n    },\n    isDom: function isDom(val) {\n        return val instanceof Element;\n    },\n    isObj: function isObj(val) {\n        return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) == 'object' && val.constructor == Object;\n    },\n    isFn: function isFn(val) {\n        return typeof val === 'function';\n    },\n    isVec: function isVec(val) {\n        return val.position || val.opposite;\n    },\n    isDim: function isDim(val) {\n        return val.l || val.r;\n    }\n};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vec = function () {\n    function Vec() {\n        var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n        var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        var z = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n        _classCallCheck(this, Vec);\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    _createClass(Vec, [{\n        key: 'copy',\n        value: function copy() {\n            return new Vec(this.x, this.y);\n        }\n    }, {\n        key: 'add',\n        value: function add(vec, set) {\n            if (set) {\n                this.x += vec.x || 0;\n                this.y += vec.y || 0;\n                this.z += vec.z || 0;\n                return this;\n            } else return new Vec(this.x + (vec.x || 0), this.y + (vec.y || 0), this.z + (vec.z || 0));\n        }\n    }, {\n        key: 'sub',\n        value: function sub(vec, set) {\n            if (set) {\n                this.x -= vec.x || 0;\n                this.y -= vec.y || 0;\n                this.z -= vec.z || 0;\n                return this;\n            } else return new Vec(this.x - (vec.x || 0), this.y - (vec.y || 0), this.z - (vec.z || 0));\n        }\n    }, {\n        key: 'div',\n        value: function div(vec, set) {\n            if (set) {\n                this.x /= vec.x || 1;\n                this.y /= vec.y || 1;\n                this.z /= vec.z || 1;\n                return this;\n            } else return new Vec(this.x / (vec.x || 1), this.y / (vec.y || 1), this.z / (vec.z || 1));\n        }\n    }, {\n        key: 'mult',\n        value: function mult(vec, set) {\n            if (set) {\n                this.x *= vec.x || 1;\n                this.y *= vec.y || 1;\n                this.z *= vec.z || 1;\n                return this;\n            } else return new Vec(this.x * (vec.x || 1), this.y * (vec.y || 1), this.z * (vec.z || 1));\n        }\n    }, {\n        key: 'scale',\n        value: function scale(len, set) {\n            if (set) {\n                this.x *= len;\n                this.y *= len;\n                this.z *= len;\n                return this;\n            } else return new Vec(this.x * len, this.y * len, this.z * len);\n        }\n    }, {\n        key: 'norm',\n        value: function norm(set) {\n            if (set) {\n                var len = 1 / this.len();\n                this.x *= len;\n                this.y *= len;\n                this.z *= len;\n                return this;\n            } else {\n                var len = 1 / this.len();\n                return new Vec(this.x * len, this.y * len, this.z * len);\n            }\n        }\n    }, {\n        key: 'resize',\n        value: function resize(len) {\n            var norm = this.getNorm();\n            return new Vec(norm.x * len, norm.y * len, norm.z * len);\n        }\n    }, {\n        key: 'to',\n        value: function to(vec, i) {\n            return new Vec(i * ((vec.x || 0) - this.x) + this.x, i * ((vec.y || 0) - this.y) + this.y, i * ((vec.z || 0) - this.z) + this.z);\n        }\n    }, {\n        key: 'rotate',\n        value: function rotate(angle, set) {\n            var rad = Math.PI / 180 * angle;\n            var cos = Math.cos(rad);\n            var sin = Math.sin(rad);\n            var x = cos * this.x + sin * this.y;\n            var y = cos * this.y - sin * this.x;\n            if (set) {\n                this.x = x;\n                this.y = y;\n                return this;\n            } else {\n                return new Vec(x, y);\n            }\n        }\n    }, {\n        key: 'angle2d',\n        value: function angle2d() {\n            return Math.atan2(this.x, this.y) * 180 / Math.PI;\n        }\n    }, {\n        key: 'unit',\n        value: function unit(_unit) {\n            var data = {};\n            if (_index.val.exists(this.x)) data.x = this.x + _unit;\n            if (_index.val.exists(this.y)) data.y = this.y + _unit;\n            if (_index.val.exists(this.z)) data.z = this.z + _unit;\n            return data;\n        }\n    }, {\n        key: 'ununit',\n        value: function ununit() {\n            if (_index.val.exists(this.x)) this.x = parseFloat(this.x);\n            if (_index.val.exists(this.y)) this.y = parseFloat(this.y);\n            if (_index.val.exists(this.z)) this.z = parseFloat(this.z);\n            return this;\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            if (_index.val.exists(this.x)) this.x = 0;\n            if (_index.val.exists(this.y)) this.y = 0;\n            if (_index.val.exists(this.z)) this.z = 0;\n            return this;\n        }\n    }, {\n        key: 'log',\n        value: function log(name) {\n            var data = { x: this.x };\n            if (_index.val.exists(this.y)) data.y = this.y;\n            if (_index.val.exists(this.z)) data.z = this.z;\n            if (typeof name === 'undefined') console.log(data);else console.log(name, data);\n        }\n    }, {\n        key: 'set',\n        value: function set(params) {\n            for (var i in params) {\n                this[i](params[i]);\n            }\n        }\n    }, {\n        key: 'apply',\n        value: function apply(fn) {\n            return new Vec(fn({ dimension: 'x', value: this.x }), fn({ dimension: 'y', value: this.y }), fn({ dimension: 'z', value: this.z }));\n        }\n    }, {\n        key: 'fill',\n        value: function fill(value) {\n            this.x = value;\n            this.y = value;\n            this.z = value;\n            return this;\n        }\n    }, {\n        key: 'mix',\n        value: function mix(list) {\n            var sum = new Vec();\n            var len = 1;\n            if (_index.val.isArr(list)) {\n                len = list.length;\n                for (var i = 0; i < len; i++) {\n                    sum.add(list[i], true);\n                }\n            } else if (_index.val.isObj(list)) {\n                len = Object.keys(list).length;\n                for (var v in list) {\n                    sum.add(list[v], true);\n                }\n            }\n            return sum.div(new Vec().fill(len));\n        }\n    }, {\n        key: 'range',\n        value: function range(rect, set) {\n            var range = _index.val.exists(rect.length) ? _index.val.isNum(rect.length) ? { x: rect.length, y: rect.length } : rect.length : { x: 100, y: 100 };\n            rect.onLimit = rect.onLimit || {};\n            var vec = new Vec(_index.math.rubberRange(this.x, rect.l, rect.r, range.x, rect.onLimit.x), _index.math.rubberRange(this.y, rect.t, rect.b, range.y, rect.onLimit.y));\n            if (set) {\n                this.x = vec.x;\n                this.y = vec.y;\n            } else return vec;\n        }\n    }, {\n        key: 'len',\n        get: function get() {\n            return Math.sqrt(Math.pow(this.x || 0, 2) + Math.pow(this.y || 0, 2) + Math.pow(this.z || 0, 2));\n        }\n    }]);\n\n    return Vec;\n}();\n\nexports.default = Vec;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Device = function Device() {\n    _classCallCheck(this, Device);\n};\n\nexports.default = Device;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scroller = function (_Layer) {\n    _inherits(Scroller, _Layer);\n\n    function Scroller(options) {\n        _classCallCheck(this, Scroller);\n\n        // this.dom[this.dom.tagName === 'A'? 'href': 'src'] = value\n        options.dom = '.scroller';\n        return _possibleConstructorReturn(this, (Scroller.__proto__ || Object.getPrototypeOf(Scroller)).call(this, options));\n    }\n\n    _createClass(Scroller, [{\n        key: 'flow',\n        value: function flow(value) {\n            this.dom.classList.add(value || 'y');\n        }\n    }]);\n\n    return Scroller;\n}(_index.Layer);\n\nexports.default = Scroller;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    var transport = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var state = false;\n    var params = {\n        left: 0,\n        opacityOff: 0,\n        opacityOn: 0\n    };\n    var c = transport.color;\n    var colorOff = c && c.off ? c.off : '#BECADD';\n    var colorOn = c && c.on ? c.on : '#00aaff';\n    var template = '<defs>\\n            <mask id=\"masterMask\">\\n                <circle fill=\"white\" cx=\"33.33\" cy=\"33.33\" r=\"33.33\" />\\n                <circle fill=\"white\" cx=\"66.66\" cy=\"33.33\" r=\"33.33\" />\\n                  <rect fill=\"white\"  x=\"33.33\" width=\"33.33\" height=\"66.66\" />\\n                <circle fill=\"black\" cx=\"{left}\" cy=\"33.33\" r=\"30.33\" />\\n            </mask>\\n        </defs>\\n        <g mask=\"url(#masterMask)\">\\n            <rect fill=\"' + colorOff + '\" width=\"100\" height=\"66.66\" opacity=\"{opacityOff}\" />\\n            <rect fill=\"' + colorOn + '\" width=\"100\" height=\"66.66\" opacity=\"{opacityOn}\" />\\n        </g>';\n\n    var toggle = new _index.Layer({\n        position: 'relative',\n        dom: '<svg viewBox=\"0 0 100 66.66\" width=\"45\" height=\"30\"></svg>',\n        content: { html: template, bind: params }\n    });\n\n    var slide = _index.animation.decay({ speed: .3, float: 2, value: 0 }, function (value) {\n        params.left = _index.math.to(value, 33.33, 66.66);\n        params.opacityOff = _index.math.to(value, .3, .0);\n        params.opacityOn = _index.math.to(value, .0, 1);\n    });\n\n    var onDrag = toggle.on('drag', {\n        move: function move(t) {\n            slide.value = t.translate.x / 16.66 + (state ? 1 : 0);\n            transport.onDrag && transport.onDrag(slide.value);\n        },\n        cancel: function cancel(t) {\n            state = t.translate && t.translate.len > 2 ? slide.value > .5 : !state;\n            slide.to(state ? 1 : 0);\n            transport.onChange && transport.onChange(state);\n        }\n    });\n\n    return {\n        toggle: toggle,\n        enable: function enable() {\n            onDrag.on();\n            toggle.set({ opacity: 1 });\n            return this;\n        },\n        disable: function disable() {\n            onDrag.off();\n            toggle.set({ opacity: .3 });\n            return this;\n        },\n        on: function on() {\n            slide.to(state = true);\n            return this;\n        },\n        off: function off() {\n            slide.to(state = false);\n            return this;\n        }\n    };\n};\n\nvar _index = __webpack_require__(0);\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(22);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(24)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js?sourceMap!./style.sass\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(23)();\n// imports\n\n\n// module\nexports.push([module.i, \"* {\\n  margin: 0;\\n  box-sizing: border-box; }\\n\\nhtml {\\n  width: 100%;\\n  height: 100%; }\\n  html body {\\n    background-color: #1f2428;\\n    perspective: 500px;\\n    width: 100%;\\n    height: 100%; }\\n\\n.layer {\\n  font-family: 'arial';\\n  font-size: 13;\\n  transition: box-shadow .2s; }\\n  .layer.default {\\n    position: relative;\\n    display: inline-block;\\n    width: 100px;\\n    height: 100px;\\n    background-color: rgba(255, 255, 255, 0.7);\\n    background-size: cover;\\n    background-position: center; }\\n  .layer.drag {\\n    box-shadow: 0 0 100px 0 rgba(0, 0, 0, 0.5) !important; }\\n  .layer.resize {\\n    background: red; }\\n  .layer .edge {\\n    position: absolute; }\\n    .layer .edge.lt, .layer .edge.l, .layer .edge.lb {\\n      left: 0%; }\\n    .layer .edge.t, .layer .edge.b {\\n      left: 50%; }\\n    .layer .edge.rt, .layer .edge.r, .layer .edge.rb {\\n      left: 100%; }\\n    .layer .edge.lt, .layer .edge.t, .layer .edge.rt {\\n      top: 0%; }\\n    .layer .edge.l, .layer .edge.r {\\n      top: 50%; }\\n    .layer .edge.lb, .layer .edge.b, .layer .edge.rb {\\n      top: 100%; }\\n    .layer .edge.resize {\\n      z-index: 1;\\n      width: 12px;\\n      height: 12px;\\n      margin-left: -6px;\\n      margin-top: -6px;\\n      border-radius: 6px;\\n      background: #00aaff; }\\n      .layer .edge.resize.l {\\n        cursor: w-resize; }\\n      .layer .edge.resize.lt {\\n        cursor: nw-resize; }\\n      .layer .edge.resize.t {\\n        cursor: n-resize; }\\n      .layer .edge.resize.rt {\\n        cursor: ne-resize; }\\n      .layer .edge.resize.r {\\n        cursor: e-resize; }\\n      .layer .edge.resize.rb {\\n        cursor: se-resize; }\\n      .layer .edge.resize.b {\\n        cursor: s-resize; }\\n      .layer .edge.resize.lb {\\n        cursor: sw-resize; }\\n    .layer .edge.rotate {\\n      z-index: 0;\\n      width: 24px;\\n      height: 24px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.l, .layer .edge.rotate.lb {\\n        margin-left: -18px; }\\n      .layer .edge.rotate.t, .layer .edge.rotate.b {\\n        margin-left: -6px;\\n        width: 12px;\\n        cursor: ew-resize; }\\n      .layer .edge.rotate.rt, .layer .edge.rotate.r, .layer .edge.rotate.rb {\\n        margin-left: -6px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.t, .layer .edge.rotate.rt {\\n        margin-top: -18px; }\\n      .layer .edge.rotate.l, .layer .edge.rotate.r {\\n        margin-top: -6px;\\n        height: 12px;\\n        cursor: ns-resize; }\\n      .layer .edge.rotate.lb, .layer .edge.rotate.b, .layer .edge.rotate.rb {\\n        margin-top: -6px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.rb {\\n        cursor: nesw-resize; }\\n      .layer .edge.rotate.rt, .layer .edge.rotate.lb {\\n        cursor: nwse-resize; }\\n\\n.scroller {\\n  width: 100%;\\n  height: 100%;\\n  -webkit-scroll-snap-type: mandatory;\\n  -webkit-scroll-snap-destination: 50% 50%; }\\n  .scroller > .layer {\\n    width: 100%;\\n    height: 100%;\\n    -webkit-scroll-snap-coordinate: 50% 50%; }\\n  .scroller.x {\\n    overflow-y: hidden;\\n    white-space: nowrap; }\\n    .scroller.x > .layer {\\n      display: inline-block;\\n      white-space: normal; }\\n  .scroller.y {\\n    overflow-x: hidden; }\\n\", \"\"]);\n\n// exports\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc68ee8d57c989e4bb27","\n\n\n// functions\nexport {default as animation} from './fn/animation'\nexport {default as val}       from './fn/value'\nexport {default as geo}       from './fn/geometry'\nexport {default as arr}       from './fn/array'\nexport {default as vec}       from './fn/vector'\nexport {default as matrix}    from './fn/matrix'\nexport {default as math}      from './fn/math'\nexport {default as color}     from './fn/color'\nexport {default as dom}       from './fn/dom'\nexport {default as event}     from './fn/event'\nexport {default as etc}       from './fn/etc'\nexport {default as text}      from './fn/text'\nexport {default as css}       from './fn/css'\n\n// core\nimport './core/style.sass'\nexport {default as Layer}     from './core/Layer'\nexport {default as Screen}    from './core/Screen'\nexport {default as model}     from './core/model'\nexport {default as gesture}   from './core/gesture'\n\n// elements\nexport {default as Scroller}  from './ui/Scroller'\nexport {default as Toggle}    from './ui/Toggle'\nexport {default as Device}    from './ui/Device'\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\n\n\nimport {\n    dom, css, val, geo, vec, matrix,\n    animation, event, text, gesture,\n    Screen\n} from '../index'\n\nexport default class Layer {\n    \n    constructor (options) {\n        this.identifier = new Date().getTime()\n        this.event      = event.Machine('Layer')\n        this.data       = null\n        this._dom       = null\n        this._props     = {\n            transformation : {\n                origin    : new vec(),\n                translate : new vec(),\n                scale     : new vec().fill(1),\n                rotate    : 0,\n                matrix3d  : new matrix()\n            },\n            pop : {},\n            templateUpdater              : null,\n            transformationTouchEventLink : null,\n        }\n        // if no options at all\n        if (!val.exists(options)) {\n            this.dom    = dom.create('.default')\n            this.parent = Screen\n        // if options are an tulpet\n        } else if (val.isObj(options)) {\n            // apply dom element\n            if (val.exists(options.dom)) {\n                this.dom = options.dom\n                delete options.dom\n            // if no dom, create just div with .layer\n            } else this.dom = dom.create('.default')\n            // parent\n            if (val.exists(options.parent)) {\n                if (options.parent === null)\n                    delete options.parent\n            } else this.parent = Screen\n            // set other options\n            this.set(options)\n        // if options is a single parameter\n        } else if (val.isDom(options) || val.isStr(options)) {\n            this.dom = options\n            // add if not added\n            if (val.isDom(options) && !options.parentNode)\n                this.parent = Screen\n        }\n    }\n    \n    // external event interface\n    on (topic, fn, options) {\n        // gestures\n        if (topic in gesture)\n            return gesture[topic](this, fn).on()\n        // dom events\n        else if (event.support(this.dom, topic))\n            return event.listener(this.dom, topic, fn, options).on()\n        // custom events\n        else if (topic in event)\n            return event[topic](this, fn).on()\n        // dom css\n        else\n            return this.event.on(topic, fn)\n    }\n    \n    // setter getters\n    set (options) {\n        for (var key in options) {\n            var value = options[key]\n            // use methods\n            if (key in this) {\n                if (val.isFn(this[key]))\n                    this[key](value)\n                else\n                    this[key] = value\n            // set attributes\n            } else if (key in this.dom) this._setAttribute(key, value)\n            // set css parameters\n            else if (key in this.dom.style) this._setCss(key, value)\n        }\n        return this\n    }\n    \n    _setAttribute (option, value) {\n        var set = (key, value) => {\n            this.event.emit(key, value)\n            if (val.exists(value))\n                this.dom.setAttribute(key, value)\n            else\n                this.dom.removeAttribute(key)\n        }\n        if (val.isStr(option))\n            set(option, value)\n        else if (val.isObj(option))\n            for (var key in option)\n                set(key, option[key])\n    }\n    \n    _setCss (options, value) {\n        var set = (key, value) => {\n            this.event.emit(key, value)\n            this.dom.style[key] = value\n        }\n        if (val.isStr(options))\n            set(options, value)\n        else if (val.isObj(options))\n            for (var key in options)\n                set(key, options[key])\n    }\n    \n    getCss (key) {\n        return css.computed(this.dom, key)\n    }\n    \n    set dom (value) {\n        var old = this.dom && this.dom.parentNode? this.dom: null\n        // if dom\n        if (val.isDom(value))\n            this._dom = value\n        // string a string\n        else if (val.isStr(value)) {\n            // template\n            if (value.match(/<.*>.*<\\/.*>/))\n                this._dom = dom.fromString(value)\n            // create new element\n            else this._dom = dom.create(value)\n        }\n        // link dom with layer\n        this._dom.layer = this\n        this.addClass('layer')\n        // replace old dom\n        if (old) old.replaceWith(this.dom) \n    }\n    \n    get dom () {\n        return this._dom\n    }\n    \n    /*\n        model.forEach(function (item) {\n            var layerA = new fw.Layer({\n                margin : 10\n            }).bind(item, {\n                image : {\n                    to   : 'title',\n                    from : 'backgroundImage',\n                    set (value, layer) {\n                        layer.set({content: 'test ' + value})\n                    },\n                    get (value, layer) {\n                        return value\n                    }\n                }\n            })\n        })\n    */\n    \n    bind (model, params) {\n        for (var key in params) {\n            var options   = params[key]\n            var modelKey  = options.to || options\n            var initValue = model[modelKey]\n            var curValue  = null\n            this.on(options.from || key, value => curValue = value)\n            Object.defineProperty(model, modelKey, {\n                set : ((options, key) => {\n                    return value => {\n                        if (options.set)\n                            options.set(value, this)\n                        else {\n                            var param  = {}\n                            param[key] = value\n                            this.set(param)\n                        }\n                    }\n                })(options, key),\n                get : (options => {\n                    return () => {\n                        if (options.get)\n                            return options.get(this)\n                        else \n                            return curValue\n                    }\n                })(options)\n            })\n            model[modelKey] = initValue\n        }\n        return this\n    }\n    \n    destroy () {\n        this.dom.parentNode.removeChild(this.dom)\n        delete this\n    }\n    \n    pop () {\n        this.event.emit('pop', this._props.pop)\n        this._props.pop = {\n            parent : this.dom.parentNode,\n            pos    : new vec(this.dom.style.left, this.dom.style.top),\n            size   : new vec(this.dom.style.width, this.dom.style.height),\n            offset : geo.vpo(this.dom)\n        }\n        this.set({\n            position  : 'fixed',\n            pos       : new vec(),\n            size      : new vec(this.dom.offsetWidth +.5, this.dom.offsetHeight +.5).unit('px'),\n            translate : this._props.pop.offset.position.unit('px')\n        })\n        document.body.appendChild(this.dom)\n        return this\n    }\n    \n    push () {\n        this.event.emit('push', this._props.pop)\n        this._props.pop.parent.appendChild(this.dom)\n        this.set({\n            position  : null,\n            pos       : this._props.pop.pos,\n            size      : this._props.pop.size,\n            translate : new vec(),\n            scale     : new vec(1, 1, 1),\n            origin    : {x: 'center', y: 'center'}\n        })\n        this._props.pop = null\n        return this\n    }\n    \n    animate (options, next, end) {\n        this.event.emit('animate', options)\n        animation.flow(this,\n            options.time  || .5,\n            options.ease  || 'ease-in-out',\n            options.delay || 0,\n            next, end\n        )\n        return this\n    }\n    \n    clone (options) {\n        var clone = this.dom.cloneNode(true)\n\t\tthis.dom.parentNode.appendChild(clone)\n        return new Layer({\n            dom : clone\n        }).set(options)\n    }\n    \n    collision (layer) {\n        var a = geo.vpo(this.dom)\n        var b = geo.vpo(layer.dom)\n        return geo.boxCollision(\n            geo.vecdim(a.position, a.size), \n            geo.vecdim(b.position, b.size)\n        )\n    }\n    \n    // dom structure\n    child (query) {\n        var children = this.dom.querySelector(query)\n        return children.layer || new Layer(children)\n    }\n    \n    childs (query) {\n        var children = this.dom.querySelectorAll(query)\n        var out = []\n        for (var i = 0; i < children.length; i ++)\n            out.push(children[i].layer || new Layer(children[i]))\n        return out \n    }\n    \n    get parent () {\n        if (this.dom.parentNode && this.dom.parentNode.layer) {\n            return this.dom.parentNode.layer instanceof Layer? \n                this.dom.parentNode.layer :\n                new Layer(this.dom.parentNode)\n        }\n    }\n    \n    set parent (value) {\n        this.event.emit('parent', value)\n        if (value instanceof Layer)\n            value.append(this)\n        else\n            value.appendChild(this.dom)\n    }\n    \n    append (value) {\n        this.event.emit('append', value)\n        var append = el => {this.dom.appendChild(el instanceof Layer? el.dom: el)}\n        if (val.isArr(value))\n            value.forEach(append)\n        else\n            append(value)\n    }\n    \n    prepend (value) {\n        this.event.emit('prepend', value)\n        dom.prepend(this.dom, value instanceof Layer? value.dom: value)\n    }\n    \n    detach (value) {\n        this.event.emit('detach', value)\n        this.dom.removeChild(value instanceof Layer? value.dom: value)\n    }\n    \n    set content (value) {\n        var set = string => {\n            this.event.emit('content', string)\n            this.dom.innerHTML = string\n        }\n        if (val.isObj(value))\n            this._props.templateUpdater = \n                dom.template(value.html, value.bind, set)\n        else {\n            set(value)\n            if (this._props.templateUpdater)\n                this._props.templateUpdater.off()\n        }\n    }\n    \n    get content () {\n        return this.dom.innerHTML\n    }\n    \n    // classes\n    toggleClass (value) {\n        this.event.emit('toggleClass', value)\n        return this.dom.classList.toggle(value)\n    }\n    \n    hasClass (value) {\n        return this.dom.classList.contains(value)\n    }\n    \n    addClass (value) {\n        this.event.emit('addClass', value)\n        if (val.isArr(value)) \n            value.forEach(item => this.dom.classList.add(item))\n        else this.dom.classList.add(value)\n    }\n    \n    removeClass (value) {\n        this.event.emit('deleteClass', value)\n        if (val.isArr(value)) \n            value.forEach(item => this.dom.classList.remove(item))\n        else this.dom.classList.remove(value)\n    }\n    \n    // css\n    set move (value) {\n        if ('x' in value) this._setCss('left', value.x)\n        if ('y' in value) this._setCss('top', value.y)\n    }\n    \n    get move () {\n        return new vec(this.dom.offsetLeft, this.dom.offsetTop)\n    }\n    \n    set size (value) {\n        if ('x' in value) this._setCss('width', value.x)\n        if ('y' in value) this._setCss('height', value.y)\n    }\n    \n    get size () {\n        return new vec(this.dom.offsetWidth, this.dom.offsetHeight)\n    }\n    \n    image (value) {\n        this.bg({image: value})\n    }\n    \n    set padding (value) {\n        if (val.isObj(value)) {\n            if ('x' in value && 'y' in value) {\n                this._setCss('padding', `${value.y} ${value.x}`)\n            } else {\n                var params = {}\n                if ('x' in value) params.padding       = `0 ${value.x}`\n                if ('y' in value) params.padding       = `${value.y} 0`\n                if ('l' in value) params.paddingLeft   = value.l\n                if ('t' in value) params.paddingTop    = value.t\n                if ('r' in value) params.paddingRight  = value.r\n                if ('b' in value) params.paddingBottom = value.b\n                this._setCss(params)\n            }\n        } else\n            this._setCss('padding', value)\n    }\n    \n    get padding () {\n        return {\n            l: css.computed(this.dom, 'padding-left'),\n            t: css.computed(this.dom, 'padding-top'),\n            r: css.computed(this.dom, 'padding-right'),\n            b: css.computed(this.dom, 'padding-bottom')\n        }\n    }\n    \n    set margin (value) {\n        if (val.isObj(value)) {\n            if ('x' in value && 'y' in value) {\n                this._setCss('margin', `${value.y} ${value.x}`)\n            } else {\n                var params = {}\n                if ('x' in value) params.margin       = `0 ${value.x}`\n                if ('y' in value) params.margin       = `${value.y} 0`\n                if ('l' in value) params.marginLeft   = value.l\n                if ('t' in value) params.marginTop    = value.t\n                if ('r' in value) params.marginRight  = value.r\n                if ('b' in value) params.marginBottom = value.b\n                this._setCss(params)\n            }\n        } else\n            this._setCss('margin', value)\n    }\n    \n    get margin () {\n        return {\n            l: css.computed(this.dom, 'margin-left'),\n            t: css.computed(this.dom, 'margin-top'),\n            r: css.computed(this.dom, 'margin-right'),\n            b: css.computed(this.dom, 'margin-bottom')\n        }\n    }\n    \n    bg (value) {\n        if (val.isStr(value))\n            this._setCss('background', value)\n        else if (val.isObj(value)) {\n            var params = {}\n            if ('image' in value)\n                params.backgroundImage = \n                    `url(${value.image})`\n            if ('origin' in value)\n                params.backgroundOrigin = val.isObj(value.origin)?\n                    `${value.origin.x} ${value.origin.y}`: value.origin\n            if ('position' in value)\n                params.backgroundPosition = val.isObj(value.position)?\n                    `${value.position.x} ${value.position.y}`: value.position\n            if ('size' in value)\n                params.backgroundSize = val.isObj(value.size)? \n                    `${value.size.x} ${value.size.y}`: value.size\n            if ('repeat' in value)\n                params.backgroundRepeat =\n                    value.repeat == 'x'? 'repeat-x':\n                    value.repeat == 'y'? 'repeat-y':\n                    value.repeat == 'no'? 'no-repeat':\n                    value.repeat == 'yes'? 'repeat': value.repeat\n            if ('color' in value)\n                params.backgroundColor = value.color\n            this._setCss(params)\n        }\n    }\n    \n    text (value) {\n        if (val.isStr(value))\n            this._setCss('font', value)\n        else if (val.isObj(value)) {\n            var props = {\n                style      : 'fontStyle', \n                variant    : 'fontVariant', \n                weight     : 'fontWeight', \n                size       : 'fontSize', \n                height     : 'fontHeight', \n                family     : 'fontFamily',\n                color      : 'color',\n                align      : 'textAlign', \n                lineHeight : 'lineHeight',\n                shadow     : 'textShadow'\n            }\n            for (var key in props) \n                if (key in value) this._setCss(props[key], value[key])\n        }\n    }\n    \n    border (value) {\n        if (val.isStr(value))\n            this._setCss('border', value)\n        else if (val.isObj(value)) {\n            var set = (value, side) => {\n                var props = {\n                    color  : 'Color',\n                    radius : 'Radius',\n                    width  : 'Width',\n                    style  : 'Style'\n                }\n                for (var key in props)\n                    if (key in value)\n                        this._setCss(`border${side}${props[key]}`, value[key])\n            }\n            set(value, '')\n            var props = {\n                l : 'Left', \n                t : 'Top', \n                r : 'Right', \n                b : 'Bottom', \n                tl: 'TopLeft', \n                tr: 'TopRight',\n                bl: 'BottomLeft',\n                br: 'BottomRight'\n            }\n            for (var key in props)\n                if (key in value) \n                    set(value[key], props[key])\n        }\n    }\n    \n    // transformation\n    set origin (value) {\n        this.event.emit('origin', value);\n        ['x', 'y'].forEach(axis => {\n            if (axis in value) \n                this._props.transformation.origin[axis] = value[axis]\n        })\n        css.applyTransformation(this.dom, this._props.transformation, 'origin')\n    }\n    \n    get origin () {\n        return this._props.transformation.origin\n    }\n    \n    set translate (value) {\n        this.event.emit('translate', value);\n        ['x', 'y'].forEach(axis => {\n            if (axis in value) \n                this._props.transformation.translate[axis] = value[axis]\n        })\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get translate () {\n        return this._props.transformation.translate\n    }\n    \n    set scale (value) {\n        this.event.emit('scale', value)\n        if (val.isNum(value)) {\n            this._props.transformation.scale.x =\n            this._props.transformation.scale.y =\n            this._props.transformation.scale.z = value\n        } else\n            ['x', 'y'].forEach(axis => {\n                if (axis in value) \n                    this._props.transformation.scale[axis] = value[axis]\n            })\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get scale () {\n        return this._props.transformation.scale\n    }\n    \n    set rotate (value) {\n        this.event.emit('rotate', value)\n        this._props.transformation.rotate = `${value}${val.isNum(value)?'deg':''}`\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get rotate () {\n        return this._props.transformation.rotate\n    }\n    \n    set matrix (matrix) {\n        this.event.emit('matrix', matrix.value)\n        this._props.transformation.matrix3d = matrix\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get matrix() {\n        return this._props.transformation.matrix3d\n    }\n    \n    // center\n    set center (value) {\n        if (val.exists(value.x)) {\n            this._setCss('left', `${value.x - this.dom.parentNode.rect.position.x}px`)\n            this.align = {x: 'c'}\n        }\n        if (val.exists(value.y)) {\n            this._setCss('top', `${value.y - this.dom.parentNode.position.y}px`)\n            this.align = {y: 'c'}\n        }\n    }\n    \n    get center () {\n        return geo.center(this.rect) \n    }\n    \n    // offset\n    get rect () {\n        return geo.vpo(this.dom)\n    }\n    \n    set align (options) {\n        if (options.x) this.translate = {x: `${\n            options.x == 'c'? -50:\n            options.x == 'r'? -100: 0}%`}\n        if (options.y) this.translate = {y: `${\n            options.y == 'c'? -50:\n            options.y == 'b'? -100: 0}%`}\n    }\n    \n    project (v) {\n        this.origin = new vec()\n        this.matrix = new matrix()\n            .project(this.size, v[0], v[1], v[2], v[3])\n    }\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Layer.js","\n\n\nimport {vec, event, gesture, Layer} from '../index'\n\nclass Screen extends Layer {\n    \n    // external event interface\n    on (topic, fn, options) {\n        // gestures\n        if (topic in event)\n           return gesture[topic](this, fn).on()\n        // dom events\n        else if (event.support(document, topic))\n            return event.listener(document, topic, fn, options).on()\n        // dom css\n        else\n            return this.event.on(topic, fn)\n    }\n    \n    get size () {\n        return new vec(window.innerWidth, window.innerHeight)\n    }\n    \n    get center () {\n        return this.size.scale(.5)\n    }\n    \n}\n\nexport default new Screen(document.body)\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Screen.js","\n\n\nimport {\n    animation, vec, event, math, \n    Screen, matrix, Layer, val,\n    geo, etc\n} from '../index'\n\nvar animationPreset = {\n    time : .3, \n    ease : 'cubic-bezier(.1, .5, .1, 1.2)',\n}\n\nexport default {\n    \n    wheel (layer, transport = {}) {\n        return layer.on('mousewheel', e => {\n            var vector = 0\n            var w = e.wheelDelta\n            var d = e.detail\n            if (d) {\n                // Opera\n                if (w) vector = w / d / 40 * d > 0? 1: -1\n                // Firefox\n                else vector = -d / 3\n            // IE / Safari / Chrome\n            } else vector = w / 120\n            transport({e, vector})\n        })\n    },\n    \n    rotate (layer, transport = {}) {\n        var t     = {}\n        var out   = {}\n        return this._cornerInterface(layer, {\n            type  : 'rotate',\n            edges : transport.edges,\n            down (a) {\n                t.center = layer.center\n                t.init   = layer.rotate\n                t.down   = t.center.sub(a.pointer).angle2d() + parseInt(t.init)\n            },\n            move (a) {\n                var rotation = t.down - t.center.sub(a.pointer).angle2d()\n                if (out.constraints)\n                    rotation = math.rubberRange(\n                        rotation,\n                        out.constraints.min,\n                        out.constraints.max,\n                        out.constraints.length || 10, \n                        out.constraints.onLimit\n                    )\n                // move and resize\n                if (transport.move && transport.move(out) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: resize.move`, \n                        () => layer.rotate = rotation)\n            },\n            up (a) {\n                if (transport.up && transport.up(t) !== false || !transport.up)\n                    animation.draw(`${layer.identifier}: resize.up`, () => \n                        layer.animate(animationPreset, {rotate : t.init}))\n            }\n        })\n    },\n    \n    resize (layer, transport = {}) {\n        var t   = {}\n        var out = {}\n        var globalConstraints = c => (\n                c.min && (c.min.l || c.min.t || c.min.r || c.min.b)  \n            ||  c.max && (c.max.l || c.max.t || c.max.r || c.max.b))\n        var localConstraints = c => (\n                c.min && (c.min.w || c.min.h)  \n            ||  c.max && (c.max.w || c.max.h))\n        var globalRange = (range, drag, side) => {\n            var leftTop = drag\n                .add(t.rect.position)\n                .range({\n                    l: range.max.l, t: range.max.t, \n                    r: range.min.l, b: range.min.t, \n                    length: range.length || 20\n                })\n                .sub(t.rect.position)\n            var rightBottom = drag\n                .add(t.rect.opposite)\n                .range({\n                    l: range.min.r, t: range.min.b, \n                    r: range.max.r, b: range.max.b, \n                    length: range.length || 20\n                })\n                .sub(t.rect.opposite)\n            return new vec(\n                (side.match('l')? leftTop: rightBottom).x, \n                (side.match('t')? leftTop: rightBottom).y\n            )\n        }\n        var localRange = (range, size) => {\n            size = size\n                .add(t.rect.size)\n                .range({\n                    l: range.min.w, t: range.min.h, \n                    r: range.max.w, b: range.max.h, \n                    length: range.length || 20\n                })\n                .sub(t.rect.size)\n            return size\n        }\n        return this._cornerInterface(layer, {\n            type  : 'resize',\n            edges : transport.edges,\n            down (a) {\n                t.down = a.pointer\n                t.rect = layer.rect\n            },\n            move (a) {\n                var lSide = a.side == 'lt' || a.side == 'l' || a.side == 'lb'\n                var tSide = a.side == 'lt' || a.side == 't' || a.side == 'rt'\n                var drag  = a.pointer.sub(t.down)\n                // create size and set global constraints (absolute: l | t | r | b)\n                var size  = out.constraints && globalConstraints(out.constraints)? \n                    globalRange(out.constraints, drag, a.side): drag\n                // resizing on the left/top side? invert motion\n                if (lSide) size.x *= -1\n                if (tSide) size.y *= -1\n                // edit size and set local constraints (min max: width | height)\n                size = out.constraints && localConstraints(out.constraints)? \n                    localRange(out.constraints, size): size\n                // movement on middle handles? set perpendicular axis to 0 \n                if (a.side == 't' || a.side == 'b') size.x = 0\n                if (a.side == 'l' || a.side == 'r') size.y = 0\n                // resizing on the left/top side? shift layer in opposite direction\n                var move = new vec()\n                if (lSide) move.x = -size.x\n                if (tSide) move.y = -size.y\n                // export values\n                out.move = move\n                out.size = size\n                // move and resize\n                if (transport.move && transport.move(out) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: resize.move`, () => \n                        layer.set({\n                            size : t.rect.size.add(size).unit('px'),\n                            move : t.rect.position.add(move).unit('px')\n                        }))\n            },\n            up (a) {\n                if (transport.up && transport.up(t) !== false || !transport.up)\n                    animation.draw(`${layer.identifier}: resize.up`, () => \n                        layer.animate(animationPreset, {\n                            move : t.rect.position.unit('px'),\n                            size : t.rect.size.unit('px')\n                        }))\n            }\n        })\n    },\n    \n    _cornerInterface (layer, transport) {\n        var edges = transport.edges || ['lt', 't', 'rt', 'l', 'r', 'lb', 'b', 'rb']\n        var Corner = side => {\n            var div = document.createElement('div')\n            div.classList.add('edge', transport.type || 'resize', side)\n            var down = event.listener(div, event.types.down, e => {\n                transport.down({\n                    event   : e,\n                    pointer : new vec(e.clientX, e.clientY),\n                    side\n                })\n                move.on(); up.on(); e.stop()\n            })\n            var move = event.listener(document, event.types.move, e => {\n                transport.move({\n                    event   : e,\n                    pointer : new vec(e.clientX, e.clientY),\n                    side\n                })\n                e.stop()\n            })\n            var up = event.listener(document, event.types.up, e => {\n                transport.up({event : e, side})\n                move.off(); up.off(); e.stop()\n            })\n            return {\n                on  () {layer.dom.appendChild(div); down.on()},\n                off () {layer.dom.removeChild(div); down.off()},\n                get active () {return down.active}\n            }\n        }\n        return {\n            on () {\n                for (var i = 0; i < edges.length; i ++) {\n                    if (val.isStr(edges[i])) edges[i] = Corner(edges[i])\n                    edges[i].on()\n                }\n                return this\n            },\n            off () {edges.forEach(edge => edge.off()); return this},\n            get active () {return edges[0].down.active}\n        }\n    },\n    \n    drag (layer, transport = {}) {\n        var translate   = new vec()\n        var method      = event.types.isTouch? '_initMultitouchGesture': '_dragMouse'\n        var temp        = {}\n        var out         = {}\n        var globalRange = (c, translate) => {\n            var size = temp.rect.size.scale(.5)\n            if (c.l) c.l += size.x\n            if (c.r) c.r -= size.x\n            if (c.t) c.t += size.y\n            if (c.b) c.b -= size.y\n            return translate\n                .add(temp.center)\n                .range(c)\n                .sub(temp.center)\n        }\n        return this[method](layer, etc.clone(transport, {\n            down (t) {\n                Object.assign(out, t)\n                temp.rect   = layer.rect\n                temp.center = layer.center\n            },\n            move (t) {\n                Object.assign(out, t)\n                out.translate = out.constraints?\n                    globalRange(out.constraints, out.translate): out.translate\n                var defaultMove = transport.move && transport.move(out) === true || !transport.move\n                // constraints\n                if (defaultMove) animation.draw(`${layer.identifier}: translate.move`, () => \n                    layer.matrix = new matrix().translate(out.translate))\n            },\n            cancel (t) {\n                Object.assign(out, t)\n                if (transport.cancel && transport.cancel(out) === true || !transport.cancel)\n                    animation.draw(`${layer.identifier}: translate.cancel`,\n                        () => layer.animate(animationPreset, {matrix : new matrix()}))\n                out = {}\n            }\n        }), 'translate')\n    },\n    \n    pinchToRotate (layer, transport = {}) {\n        return this._initMultitouchGesture(layer, etc.clone(transport, {\n            move (t) {\n                if (transport.move && transport.move(t) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: rotate.move`,\n                        () => layer.rotate = t.rotate)\n            },\n            cancel (t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel)\n                    animation.draw(`${layer.identifier}: rotate.cancel`, \n                        () => layer.animate(animationPreset, {rotate : 0}))\n            }\n        }), 'rotate')\n    },\n    \n    pinchToZoom (layer, transport = {}) {\n        return this._initMultitouchGesture(layer, etc.clone(transport, {\n            move (t) {\n                if (transport.move && transport.move(t) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: scale.move`, () => {\n                        layer.scale = t.scale\n                    })\n            },\n            cancel (t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel)\n                    animation.draw(`${layer.identifier}: scale.cancel`, () => {\n                        layer.animate(animationPreset, {\n                            scale : 1\n                        })\n                    })\n            }\n        }), 'scale')\n    },\n    \n    /*\n        this is the second layer of interaction\n        for mouse are separate functions for dragging\n        for touch is one single that splits translation, rotation and scale\n    */\n    \n    _dragMouse (layer, transport) {\n        var down     = new vec()\n        var velocity = new vec()\n        return this._dragMouseEventPattern(layer, etc.clone(transport, {\n            down (t) {\n                velocity\n                down = velocity = t.pointer\n                transport.down && transport.down({\n                    event : t.event, \n                    down\n                })\n            },\n            move (t) {\n                var translate = t.pointer.sub(down)\n                transport.move && transport.move({\n                    event     : t.event, \n                    translate,\n                    velocity  : translate.sub(velocity)\n                })\n                velocity = translate\n            },\n            cancel (t) {\n                transport.cancel(t)\n                down.reset()\n                velocity.reset()\n            },\n        }))\n    },\n    \n    _initMultitouchGesture (layer, transport, type) {\n        var address = 'transformationTouchEventLink'\n        if (!layer._props[address]) {\n            var listener   = new event.Machine('transformationTouchEventLink')\n            var transport_ = {constraints: {}}\n            ;['init', 'down', 'move', 'up', 'cancel'].forEach(key => \n                transport_[key] = t => listener.emit(key, t))\n            var toggle = this._multitouch(layer, transport_)\n            layer._props[address] = {\n                listener,\n                transport : transport_,\n                cancel    : toggle.cancel,\n                checkToggle () {\n                    var flag = 'off'\n                    var property = ['translate', 'rotate', 'scale']\n                    for (var i = 0; i < property.length; i ++)\n                        if (transport_[property[i]]) {flag = 'on'; break}\n                    toggle[flag]()\n                }\n            }\n        }\n        var link = layer._props[address]\n        for (var key in transport)\n            link.listener.on(key, ((method, key) => {\n                return key == 'move'? t => {\n                    // adapt output for every type\n                    if (type == 'translate') t.translate = t.transformation.getTranslation()\n                    if (type == 'rotate') t.rotate = t.transformation.getRotation().z\n                    if (type == 'scale') t.scale = t.transformation.getScale().z\n                    // execute event function\n                    method(t)\n                    // apply new transport to the whole\n                    // transformation multitouch event\n                    link.transport.constraints[type] = t.constraints\n                    delete t.constraints\n                }: method\n            })(transport[key], key))\n        return {\n            get active () {\n                return link.transport[type]\n            },\n            on () {\n                link.transport[type] = true\n                link.checkToggle()\n                return this\n            },\n            off () {\n                link.transport[type] = false\n                link.checkToggle()\n                return this\n            },\n            cancel : link.cancel,\n        }\n    },\n    \n    _multitouch (layer, transport) {\n        // some shared values\n        var touches      = {}\n        var scale_rotate = new matrix()\n        var lastState    = new matrix()\n        var origin       = new vec()\n        var center       = new vec()\n        var translate    = new vec()\n        // export control interface for gesture events\n        return this._dragTouchEventPattern(layer, {\n            init (t) {\n                // get at start of a session \n                // a center of a layer\n                center = layer.center\n            },\n            down (t) {\n                // fire interface function\n                transport.down && transport.down(t)\n                // calculate average vector aka origin and\n                // bring this origin on rotated and scaled object back\n                origin = vec.prototype.mix(t.pointers)\n                    .sub(center)\n                    .sub(translate)\n            },\n            move (t) {\n                // define max and min movement for rotation and scale\n                // translation constraints happens later on touch and mouse together\n                var rotate = t.event.rotation || 0\n                var rConst = transport.constraints.rotate\n                if (rConst) {\n                    var last = lastState.getRotation().z\n                    rotate = math.rubberRange(\n                    rotate + last, rConst.min, rConst.max,\n                    rConst.length || 10, rConst.onLimit) - last\n                }\n                var scale  = t.event.scale || 1\n                var sConst = transport.constraints.scale\n                if (sConst) {\n                    var last = lastState.getScale().z\n                    scale = math.rubberRange(\n                    scale + last, sConst.min + 1, sConst.max + 1,\n                    sConst.length || .2, sConst.onLimit) - last\n                }\n                // calculate drag difference\n                var velocity = new vec()\n                for (var id in t.pointers) {\n                    // if a touch is not initialized, \n                    // save its vector to the list\n                    if (!touches[id]) touches[id] = t.pointers[id]\n                    // calculate difference between frames\n                    velocity\n                        .add(t.pointers[id], true)\n                        .sub(touches[id], true)\n                    // save value for the next time\n                    touches[id] = t.pointers[id]\n                }\n                // calculate average difference between every dragged touch\n                velocity.div(new vec().fill(t.event.targetTouches.length), true)\n                // apply difference to persistent translation vector\n                translate.add(velocity, true)\n                // modify scale and rotation matrix\n                var drag  = new matrix()\n                var pinch = new matrix().translate(origin.scale(-1))\n                if (transport.translate) drag.translate(translate, true)\n                if (transport.rotate) pinch.rotate(rotate, true)\n                if (transport.scale) pinch.scale(scale, true)\n                scale_rotate = lastState.multiply(pinch.translate(origin))\n                // get final transformation\n                var transformation = scale_rotate.multiply(drag)\n                // export values\n                transport.move && transport.move({\n                    event : t.event,\n                    transformation,\n                    velocity\n                })\n            },\n            up (t) {\n                // apply matrix for the next drag action\n                if (t.event.targetTouches.length > 0) lastState = scale_rotate\n                transport.up && transport.up(t)\n            },\n            cancel (t) {\n                // export up event\n                transport.cancel && transport.cancel(t)\n                center.reset()\n                lastState.reset()\n                translate.reset()\n                scale_rotate.reset()\n                origin.reset()\n                touches = {}\n            },\n        })\n    },\n    \n    /*\n        this is the lowest level of mouse and touch interaction principles\n        support of four main methods: down, move, up and cancel\n    */\n    \n    _dragMouseEventPattern (layer, transport) {\n        var down = event.listener(layer.dom, 'mousedown', e => {\n            if (!move.active) {\n                move.on()\n                up.on()\n            }\n            transport.down && transport.down({\n                event   : e, \n                pointer : new vec(e.clientX, e.clientY)\n            })\n            e.preventDefault()\n        })\n        var move = event.listener(document, 'mousemove', e => {\n            transport.move && transport.move({\n                event   : e,\n                pointer : new vec(e.clientX, e.clientY)\n            })\n            e.preventDefault()\n        })\n        var up = event.listener(document, 'mouseup', e => {\n            var t = {\n                event   : e,\n                pointer : new vec(e.clientX, e.clientY)\n            }\n            transport.up && transport.up(t)\n            cancel(t)\n            e.preventDefault()\n        })\n        var cancel = (t = {}) => {\n            move.off()\n            up.off()\n            transport.cancel && transport.cancel(t)\n        }\n        return {\n            get active () {\n                return down.active\n            },\n            on () {\n                down.on()\n                return this\n            },\n            off () {\n                cancel()\n                down.off()\n                return this\n            },\n            cancel,\n        }\n    },\n    \n    _dragTouchEventPattern (layer, transport) {\n        var convertTouches = fingers => {\n            var out = {}\n            for (var i = 0; i < fingers.length; i ++) \n                out[fingers[i].identifier] = new vec(\n                    fingers[i].clientX,\n                    fingers[i].clientY\n                )\n            return out\n        }\n        var down = event.listener(layer.dom, 'touchstart', e => {\n            if (!move.active) {\n                move.on()\n                up.on()\n                transport.init({event: e})\n            }\n            transport.down && transport.down({\n                event    : e,\n                pointers : convertTouches(e.targetTouches)\n            })\n            e.preventDefault()\n        })\n        var move = event.listener(layer.dom, 'touchmove', e => {\n            transport.move && transport.move({\n                event    : e,\n                pointers : convertTouches(e.targetTouches)\n            })\n            e.preventDefault()\n        })\n        var up = event.listener(layer.dom, 'touchend', e => {\n            var t = {event: e}\n            transport.up && transport.up(t)\n            if (e.targetTouches.length == 0) cancel(t)\n            e.preventDefault()\n        })\n        var cancel = (t = {}) => {\n            move.off()\n            up.off()\n            transport.cancel && transport.cancel(t)\n        }\n        return {\n            get active () {\n                return down.active\n            },\n            on () {\n                down.on()\n                return this\n            },\n            off () {\n                cancel()\n                down.off()\n                return this\n            },\n            cancel,\n        }\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/gesture.js","\n\n\nimport {val, text, math, etc, arr} from '../index'\n\nvar assets = {\n    signs : ['', ',', '.', '?', '!'],\n    words : 'accusam aliquyam amet at clita consetetur diam dolor dolore dolores duo ea eirmod elitr eos erat est et gubergren invidunt ipsum justo kasd labore lorem magna no nonumy rebum sad sanctus sea sed sit stet takimata tempor ut vero voluptua'.split(' '),\n    image : {\n        mac : ['Abstract', 'Antelope Canyon', 'Bahamas Aerial', 'Beach', 'Blue Pond', 'Bristle Grass', 'Brushes', 'Circles', 'Death Valley', 'Desert', 'Ducks on a Misty Pond', 'Eagle & Waterfall', 'Earth and Moon', 'Earth Horizon', 'El Capitan 2', 'El Capitan', 'Elephant', 'Flamingos', 'Floating Ice', 'Floating Leaves', 'Foggy Forest', 'Forest in Mist', 'Foxtail Barley', 'Frog', 'Galaxy', 'Grass Blades', 'Hawaiian Print', 'Isles', 'Lake', 'Lion', 'Milky Way', 'Moon', 'Mountain Range', 'Mt. Fuji', 'Pink Forest', 'Pink Lotus Flower', 'Poppies', 'Red Bells', 'Rice Paddy', 'Rolling Waves', 'Shapes', 'Sierra 2', 'Sierra', 'Sky', 'Snow', 'Underwater', 'Wave', 'Yosemite 2', 'Yosemite 3', 'Yosemite 4', 'Yosemite 5', 'Yosemite', 'Zebras'],\n        windows : [\n            '...'\n        ],\n        linux : [\n            '...'\n        ]\n    }\n}\n\nvar expressions = {\n    \n    // {type: int, mode: cycle, from: 1}\n    // {type: int, mode: forward, from: 1}\n    // {type: int, mode: random, min: 1, max: 10}\n    int (opt) {\n        return {i: 0, method: 'int', mode: opt.mode, render () {\n            return opt.mode == 'forward' || opt.mode == 'loop'?\n                opt.from + this.i ++:\n            opt.mode == 'random'?\n                Math.floor(math.to(Math.random(), opt.min, opt.max)):\n                this.i\n        }}\n    },\n    \n    // {type: string, mode: text, count: 20}\n    // {type: string, mode: text, min: 20, max 100}\n    string (opt) {\n        return {render () {\n            var count = \n                opt.count? opt.count:\n                Math.floor(math.to(Math.random(), opt.min, opt.max))\n            var capitalize = true\n            var sentence   = ''\n            for (var i = 0; i < count; i ++) {\n                var randomWord = assets.words[Math.floor(Math.random() * assets.words.length)]\n                var signIndex  = Math.floor(Math.pow(Math.random(), 20) * assets.signs.length)\n                var sign       = assets.signs[math.min(signIndex, i < count - 1? 0: 2)] + ' '\n                var word       = capitalize? text.capitalize(randomWord): randomWord\n                sentence += word + sign\n                capitalize = signIndex > 1\n            }\n            return sentence.substring(0, sentence.length - 1)\n        }}\n    },\n    \n    // {type: image, source: local}\n    image (opt) {\n        var source = {\n            remote (i) {return `https://unsplash.it/500?image=${i}`},\n            local  (i) {return `file:///Library/Desktop%20Pictures/${\n                escape(assets.image.mac[i % assets.image.mac.length])}.jpg`}\n        }\n        var seed = math.randInt(0, 1000)\n        return {i: 0, render () {\n            return source[opt.source || 'local'](seed + this.i ++)\n        }}\n    },\n    \n    // get(i => {return custom[i]})\n    iterate (callback) {\n        return {type: 'expression', i: 0, render () {\n            return callback(this.i ++)\n        }}\n    },\n}\n\nexport default {\n    \n    /*\n        model.on('make', item => {\n            return new fw.Layer({\n                parent : scroller,\n                size   : new fw.vec(100, 100),\n                margin : 10\n            })\n        })\n        \n        model.on('destroy', item => {\n            item.layer.animate({}, {\n                margin : {x: -item.layer.size.x / 2},\n                scale  : {x: 0}\n            },{\n                destroy : true\n            })\n        })\n    */\n    \n    init (model = []) {\n        var destroy = layer => {layer.destroy()}\n        var make    = item  => {/* no initial value */}\n        var methods = {\n            on (topic, callback) {\n                if (topic == 'make') {\n                    make = item => {\n                        var layer  = callback(item)\n                        layer.data = item\n                        Object.defineProperty(item, 'layer', {\n                            value      : layer, \n                            enumerable : false\n                        })\n                    }\n                    model.forEach(make)\n                } else if (topic == 'destroy')\n                    destroy = callback\n                return model\n            },\n            push () {\n                make(arguments[0])\n                Array.prototype.push.apply(this, arguments)\n            },\n            splice () {\n                var deleted = Array.prototype.splice.apply(this, arguments)\n                deleted.forEach(a => destroy(a.layer))\n                return deleted\n            },\n            find      (query) {return arr.find(model, query)},\n            delete    (query) {return arr.delete(model, query)},\n            filterMap (query) {return arr.filterMap(model, query)},\n            reset     () {return model.splice(0, model.length)},\n        }\n        for (var key in methods)\n            Object.defineProperty(model, key,\n                {enumerable: false, value: methods[key]})\n        return model\n    },\n    \n    /*\n        var boxes = fw.model.put({\n            count : 10,\n            model : {\n                album  : fw.model.iterate(i => {return custom[i].album}),\n                id     : '{type: int, mode: forward, from: 1}',\n            },\n            shuffle : [{\n                someParam : 'testest'\n            },{\n                others : '{type: int, mode: random, min: 1, max: 10}',\n                image  : '{type: image, source: local}' \n            }]\n        })\n    */\n    \n    put (opt) {\n        // modify values\n        for (var key in opt.model) {\n            var value = opt.model[key]\n            // reset integer with count type\n            if (value.type == 'expression' && value.expressions)\n                value.expressions.forEach(expression => {\n                    // reset int expression if loop\n                    if (expression.method == 'int' && expression.mode == 'loop')\n                        expression.i = 0\n                })\n        }\n        // render content\n        var model = []\n        for (var i = 0; i < (opt.count || 1); i ++) {\n            // copy raw model\n            var property = this.render(opt.model)\n            // make shuffle on model\n            if ('shuffle' in opt) {\n                var index = math.randInt(0, opt.shuffle.length)\n                Object.assign(property, this.render(opt.shuffle[index]))\n            }\n            // add rendered version of model to the output list\n            model.push(property)\n        }\n        // make watchable\n        return this.init(model)\n    },\n    \n    render (model) {\n        var out = {}\n        for (var key in model) {\n            // init expression\n            if (val.isStr(model[key]) && model[key].match(/{.*?}/))\n                model[key] = this._parseExpressions(model[key])\n            // render value if expression\n            if (model[key].type == 'expression')\n                out[key] = model[key].render()\n            // transfer value\n            else\n                out[key] = model[key]\n        }\n        return out\n    },\n    \n    _parseExpressions (string) {\n        var out = {type: 'expression', expressions: []}\n        // find all the queries and replace them with functions\n        var string = string.replace(/{.*?}/g, match => {\n            var query = {}\n            // parse match\n            match.replace(/{| |}/g, '').split(',').forEach(p => {\n                p = p.split(':')\n                query[p[0]] = parseInt(p[1]) || p[1]\n            })\n            // find method of this and push generated expression\n            out.expressions.push(expressions[query.type](query))\n            // save index of array {1}\n            return `{${out.expressions.length - 1}}`\n        })\n        out.render = function () {\n            // replace all {1} with expression result\n            var result = string.replace(/{.*?}/g, i => {\n                // bundle.expressions[{1}]\n                return this.expressions[i.match(/\\d+/)[0]].render()\n            })\n            // convert to int if no characters\n            return result.match(/[^\\d+]/)? result: parseInt(result)\n        }\n        return out\n    },\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/model.js","\n\n\nimport {css, vec, math, val, event} from '../index'\n\n\nexport default {\n\t\n\tanimate (dom) {\n\t\tvar name = `_${new Date().getTime()}`\n\t\tvar keyframes = `@keyframes ${name} {\n            to   {transform : translate(100%)}\n        }`\n\t\t// from {transform : rotate(0.0deg)}\n        document.styleSheets[0].insertRule(keyframes, 0)\n        dom.style[css.vendor.animation] = `${name} 1s`\n\t\tvar end = e => {\n\t\t\tif (e.animationName == name) {\n\t\t\t\tdocument.styleSheets[0].removeRule(name)\n\t\t\t\tdom.style[css.vendor.animation] = null\n\t\t\t\tdom.removeEventListener('animationend', end)\n\t\t\t}\n\t\t}\n\t\tdom.addEventListener('animationend', end)\n\t},\n\t\n\t/*\n\t\tfw.animation.request.on('move', () => {\n\t\t\tscroller.translate = pointer\n\t\t})\n\t\tfw.animation.request.draw()\n\t*/\n\t\n\tdraw : (() => {\n\t\tvar thread = true\n\t\tvar jobs   = {}\n\t\treturn (key, fn) => {\n\t\t\tjobs[key] = fn\n\t\t\tif (thread) {\n\t\t\t\tthread = false\n\t\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\t\tthread = true\n\t\t\t\t\tfor (var i in jobs) {jobs[i](); delete jobs[i]}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})(),\n\t\n\t/*\n\t\tdom.set({\n\t\t\ttranslate  : new fw.vec(0, -100),\n\t\t}).flow(1.5, 'ease', 1, {\n\t\t\ttranslate  : new fw.vec(0, 53.5),\n\t\t}, function () {\n\t\t\tconsole.log('done')\n\t\t})\n\t*/\n\t\n\tflow (layer, time, ease, delay, next, end) {\n\t\t// will be deprecated\n\t\tvar bang = () => {\n\t\t\tlayer.dom.removeEventListener('transitionend', bang)\n\t\t\tlayer.dom.style[css.vendor.transition] = null\n\t\t\tif (end) {\n\t\t\t\tif (val.isFn(end))\n\t\t\t\t\tend()\n\t\t\t\telse if (val.isObj(end))\n\t\t\t\t\tlayer.set(end)\n\t\t\t\tend = null\n\t\t\t}\n\t\t}\n\t\tlayer.dom.addEventListener('transitionend', bang)\n\t\tlayer.dom.style[css.vendor.transition] = `${time}s ${ease} ${delay}s`\n\t\tsetTimeout(() => {\n\t\t\tif (val.isFn(next))\n\t\t\t\tnext()\n\t\t\telse if (val.isObj(next))\n\t\t\t\tlayer.set(next)\n\t\t}, 0)\n\t},\n\t\n\tjobs : (() => {\n\t\tvar fps    = 60\n\t\tvar active = false\n\t\tvar jobs   = {}\n\t\treturn (id, job) => {\n\t\t\tvar running = id in jobs\n\t\t\tjobs[id] = job\n\t\t\tif (!active) {\n\t\t\t\tactive = true\n\t\t\t\tvar loop = setInterval(() => {\n\t\t\t\t\tfor (var i in jobs) if (jobs[i]()) delete jobs[i]\n\t\t\t\t\tif (Object.keys(jobs).length == 0) {\n\t\t\t\t\t\tactive = false\n\t\t\t\t\t\tclearTimeout(loop)\n\t\t\t\t\t}\n\t\t\t\t}, 1000 / fps)\n\t\t\t}\n\t\t\treturn running\n\t\t}\n\t})(),\n\t\n\t// Other Functions\n\tgetSinus (from, to, speed) {\n\t\tvar time = new Date().getTime() * 0.001;\n\t\tvar sin  = Math.sin(time * (speed || 1))\n\t\treturn math.map(sin, -1, 1, from, to)\n\t},\n\t\n\t/*\n\t\tvar tilt = fw.animation.decay(velocity => {\n\t        fw.animation.draw(`${layer2.identifier}: velocity`, () => {\n\t            layer2.tilt = velocity.scale(5)\n\t        })\n\t    }).on('end', e => {\n\t        console.log('test')\n\t    })\n\t*/\n\t\n\tdecay (options, callback) {\n\t\tvar id    = window.performance.now()\n\t\tvar e     = new event.Machine('Decay', false)\n\t\tvar types = {\n\t\t\tvec : {\n\t\t\t\tcalculate : (a, b, c) => a.value.add(b.sub(a.value).scale(c), 1),\n\t\t\t\tisEqual   : (a, b, c) => math.isEqual(b.sub(a.value).len(), c)\n\t\t\t},\n\t\t\tnum : {\n\t\t\t\tcalculate : (a, b, c) => a.value += (b - a.value) * c,\n\t\t\t\tisEqual   : (a, b, c) => math.isEqual(a.value, b, c)\n\t\t\t}\n\t\t}\n\t\tvar value = options.value || 0\n\t\tvar job   = {value, type: types[value instanceof vec? 'vec': 'num']}\n\t\tvar stop  = false\n\t\tcallback(value)\n\t\tvar out   = {\n\t\t\tto : value => {\n\t\t\t\tthis.jobs(id, () => {\n\t\t\t\t\tif (!stop) {\n\t\t\t\t\t\tjob.type.calculate(job, value, options.speed || .1)\n\t\t\t\t\t\tcallback(job.value)\n\t\t\t\t\t\tif (job.type.isEqual(job, value, options.float || 1)) {\n\t\t\t\t\t\t\tstop = true\n\t\t\t\t\t\t\te.emit('end')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar stopped = stop\n\t\t\t\t\tstop = false\n\t\t\t\t\treturn stopped\n\t\t\t\t})\n\t\t\t},\n\t\t\tset value (value) {\n\t\t\t\tjob.value = value\n\t\t\t\tcallback(value)\n\t\t\t},\n\t\t\tget value () {\n\t\t\t\treturn job.value\n\t\t\t},\n\t\t\tstop () {\n\t\t\t\tstop = true\n\t\t\t\te.emit('stop')\n\t\t\t\treturn out\n\t\t\t},\n\t\t\ton (topic, fn) {\n\t\t\t\te.on(topic, fn)\n\t\t\t\treturn out\n\t\t\t},\n\t\t\tset debug (value) {e.debug = value}\n\t\t}\n\t\treturn out\n\t},\n\t\n\t// easing : {\n\t// \n\t// \tlinear (t) {\n\t// \t\treturn t\n\t// \t},\n\t// \n\t//     easeOutExpo (t) { \n\t// \t   return 1 - Math.pow(2, -10 * t)\n\t// \t},\n\t// \t\n\t// \teaseInQuad (t) { \n\t// \t\treturn Math.sin(t * (Math.PI/2))\n\t// \t},\n\t// \t\n\t// \teaseOutQuad (t) { \n\t// \t\treturn t*(2-t)\n\t// \t},\n\t// \t\t\n\t// \teaseInOutQuint (t) {\n\t// \t\treturn (\n\t// \t\t\tt < 0.5 ? \n\t// \t\t\t16 * Math.pow(t, 5) : (--t) * \n\t// \t\t\t16 * Math.pow(t, 4) + 1\n\t// \t\t)\n\t// \t},\n\t// \t\n\t// \teaseOutElastic (t) {\n\t// \t\tvar p = 0.8\n\t// \t\treturn (\n\t// \t\t\tMath.pow(2, -10 * t) * \n\t// \t\t\tMath.sin((t - p / 4) * (2 * Math.PI) / p) + 1\n\t// \t\t) \n\t// \t},\n\t// \n\t// \teaseOutBounce (t) {\n\t// \t\t\t if (t < 1.0 / 2.75) return 7.5625 * t *  t\n\t// \t\telse if (t < 2.0 / 2.75) return 7.5625 * t * (t -= (1.500 / 2.75)) + 0.750000 \n\t// \t\telse if (t < 2.5 / 2.75) return 7.5625 * t * (t -= (2.250 / 2.75)) + 0.937500\n\t// \t\telse \t\t\t\t\t return 7.5625 * t * (t -= (2.625 / 2.75)) + 0.984375\n\t// \t}\n\t// },\n\t// \n\t// /*\n\t// \tanimation.play(0.5, 'linear', t => {\n\t// \t\telement.style.opacity = 1-t\n\t// \t}, () => {\n\t// \t\tobj.style.display = 'none'\t\n\t// \t})\n\t// */\n\t// \n\t// jobs   : [],\n\t// active : false,\n\t// \n\t// Job : class {\n\t// \tconstructor (time, easing, loop, end) {\n\t// \t\tthis.end\t= end || function () {}\n\t// \t\tvar start \t= new Date()\n\t// \t\tloop(.0)\n\t// \t\tthis.run = () => {\n\t// \t\t\tvar clock = (new Date() - start) / 1000 / time\n\t// \t\t\tloop(clock < 1.? easing(clock): 1.)\n\t// \t\t\treturn (clock < 1.? clock: 1.)\n\t// \t\t}\n\t// \t}\n\t// },\n\t// \n\t// loop () {\n\t// \tvar jobs = []\n\t// \tthis.jobs.forEach(job => {\n\t// \t\tif (job.run() == 1.)\n\t// \t\t\tjob.end()\n\t// \t\telse \n\t// \t\t\tjobs.push(job)\n\t// \t})\n\t// \tthis.jobs = jobs\n\t// \tif (this.jobs.length > 0)\n\t// \t\twindow.requestAnimationFrame(this.loop.bind(this))\n\t// \telse \n\t// \t\tthis.active = null\n\t// },\n\t// \n\t// play (time, type, loop, end) {\n\t// \tthis.jobs.push(new this.Job(\n\t// \t\ttime, this.easing[type], \n\t// \t\tloop, end\n\t// \t))\n\t// \tif (!this.active) {\n\t// \t\tthis.active = true\n\t// \t\twindow.requestAnimationFrame(this.loop.bind(this))\n\t// \t}\n\t// },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/animation.js","\n\n\nimport {val} from '../index'\n\nexport default {\n    \n    // _splitQuery('parent.child.element')\n    _splitQuery (query) {\n        var levels = query.split('.')\n        return {\n            level : levels,\n            last  : levels.length - 1\n        }\n    },\n\n    // level({id: [10, 15]}, _splitQuery('id.0'), 20); -> {id: [20, 15]}\n    _level (object, query, value) {\n\t    var path = object\n\t    for (var n = 0; n < query.last; n ++)\n\t    \tpath = path[query.level[n]]\n\t    if (value)\n\t\t    path[query.level[query.last]] = value\n\t\telse \n            return path[query.level[query.last]]\n    },\n\n    // map(workspaces, 'workspace.items.1')\n    map (array, query) {\n        var levels = this._splitQuery(query)\n        return array.map(list => this._level(list, levels))\n    },\n\n    // var bundle = find(workspaces, {id: id});\n    find (array, query) {\n\t    var output = array.slice()\n        for (var i in query) {\n            var temp = []\n            var map = this.map(output, i)\n            for (var n = 0; n < map.length; n ++)\n                if (map[n] == query[i]) \n                    temp.push(output[n])\n            output = temp.slice()\n        }\n        return output\n    },\n\n    // var deleted = del(workspaces, {'title.color': color});\n    delete (array, query) {\n        var deleted\n        if (val.isObj(query)) {\n            deleted = this.find(array, query)\n            deleted.forEach(found => array.splice(array.indexOf(found), 1))\n        } else {\n            var i = array.indexOf(query)\n            deleted = array.splice(i, 1)\n        }\n        return deleted\n    },\n\n\t// updateColumn([{id: 15}, {id: 30}], {id: [20, 15]}); -> [{id: 20}, {id: 15}]\n    updateColumn (array, query) {\n\t    for (var i in query)\n\t        if (array.length == query[i].length) {\n                var levels = this._splitQuery(i)\n\t            array.forEach((object, index) =>\n                    this._level(object, levels, query[i][index]))\n\t        } else console.log('different lenghtes')\n    },\n    \n    //filterMap(workspaces, {_id, 'id', alias: 'name'});\n    filterMap (array, keys) {\n    \tvar output = []\n    \tarray.forEach(original => {\n\t    \tvar object = {}\n\t    \tfor (var key in keys)\n                object[keys[key]] = original[key]\n\t    \toutput.push(object)\n    \t})\n    \treturn output\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/array.js","\n\n\nexport default {\n\n    hsva : class {\n\n\t    constructor (hue, saturation, value, alpha) {\n\t\t    this.hue \t\t= hue\n\t\t    this.saturation = saturation\n\t\t    this.value \t\t= value\n\t\t    this.alpha \t\t= alpha\n\t\t}\n\n\t\tget () {\n\t    \tvar trn = 100 - 50 * this.saturation;\n\t\t    return 'hsla('+\n\t\t    \t360 * this.hue +', '+\n\t\t    \t100 * this.saturation +'%, '+ \n\t\t    \ttrn * this.value +'%, '+\n\t\t    \tthis.alpha + ')'\n\t\t}\n    },\n\n\trand (_alpha) {\n\t\tvar rgb \t= () => {return parseInt(Math.random() * 200 + 55)}\n\t\treturn  'rgba('+ rgb() +', '+ rgb() +', '+ rgb() +', '+ (_alpha? _alpha: 0.3) +')'\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/color.js","\n\n\nimport {val, text} from '../index'\n\nexport default {\n    \n    applyTransformation (element, p, type) {\n        if (type == 'origin') {\n            element.style[this.vendor.transformOrigin]   = `${p.origin.x} ${p.origin.y}`\n            element.style[this.vendor.perspectiveOrigin] = `${p.origin.z}`\n        } else \n            element.style[this.vendor.transform] = \n               `matrix3d(${p.matrix3d.toString()})\n                translate(${p.translate.x}, ${p.translate.y})\n                rotate(${p.rotate})\n                scale(${p.scale.x}, ${p.scale.y})`\n    },\n    \n    computed (element, prop) {\n\t    return parseFloat(\n\t    \tdocument.defaultView\n\t    \t.getComputedStyle(element, null)\n\t    \t.getPropertyValue(prop)\n\t    )\n\t},\n    \n    vendor : (props => {\n        var out = {}\n        if (!val.exists(document)) return out\n        var prefix = [null, 'ms', 'webkit', 'moz', 'o']\n        var div    = document.createElement('div')\n        props.forEach(prop => {\n            for (var i = 0; i < prefix.length; i ++) {\n                var p = prefix[i] + prefix[i]? text.capitalize(prop): prop\n                if (val.exists(div.style[p])) {out[prop] = p; break}\n            }\n        })\n        return out\n    })([\n        'transform', \n        'transformOrigin',\n        'perspectiveOrigin',\n        'columnCount',\n        'transition',\n        'animation'\n    ]),\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/css.js","\n\n\nimport {css, val} from '../index'\n\nexport default {\n    \n    // create ('div#id .class .class')\n    create (query = '') {\n        var classes  = query.replace(/ /g, '').split('.')\n        var tagAndId = []\n        if (classes[0].length == 0) tagAndId = classes[0].split('#')\n        classes.shift()\n        var element = document.createElement(tagAndId[0] || 'div')\n        if (tagAndId.length > 1) element.id = tagAndId[1]\n        classes.forEach(style => element.classList.add(style))\n        return element\n    },\n    \n    template (template, model, onUpdate) {\n        var init   = true\n        var active = true\n        var render = () => {\n            var result = template.replace(/{([A-z 0-9]+)}/g, ($1, $2) => {\n                if (init) {\n                    var val = model[$2]\n                    Object.defineProperty(model, $2, {\n                        set (value) {\n                            val = value\n                            if (active) render()\n                        },\n                        get : () => val\n                    })\n                }\n                return model[$2]\n            })\n            onUpdate(result)\n            init = false\n        }\n        render()\n        return {\n            on () {\n                active = true\n                return this\n            },\n            off () {\n                active = false\n                return this\n            },\n            get active () {return active}\n        }\n    },\n    \n    fromString (html) {\n\t\tvar parent = document.createElement('div')\n\t    parent.innerHTML = html\n\t    return parent.firstChild\n\t},\n    \n\tprepend (parent, child) {\n    \tif (parent.firstChild) \n    \t\tparent.insertBefore(child, parent.firstChild) \n    \telse \n    \t\tparent.appendChild(child)\n\t},\n    \n\tclone (dom) {\n\t\tvar clone = dom.cloneNode(true);\n\t\tclone.remove = () => this.parentNode.removeChild(this)\n\t\tdom.parentNode.appendChild(clone)\n\t\treturn clone\n\t},\n    \n\tselection (mode) {\n\t\tdocument.ondragstart   =\n\t\tdocument.onselectstart = mode ? null : () => false\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/dom.js","\n\n\nimport {val} from '../index'\n\nexport default {\n\t\n\tclone (object, methods) {\n\t\treturn Object.assign(Object.assign({}, object), methods)\n\t\t//return JSON.parse(JSON.stringify(_object))\n\t},\n\t\n\tuuid() {\n\t  \treturn `dd-d-d-d-ddd`.replace(/d/g, () =>\n\t\t\tMath.floor((1 + Math.random()) * 0x10000)\n\t\t\t\t.toString(16).substring(1))\n  \t},\n\t\n\tuploadFile (input, onready) {\n\t\tinput.onchange = (() => {\n\t\t\tvar event \t= window.event\n\t\t\tvar files \t= event.target.files\n\t\t\tvar output\t= []\n\t\t\tfor (var i = 0; i < files.length; i ++)\n\t\t\t\tthis.readFile(files[i], function (file) {\n\t\t\t\t\toutput.push(file)\n\t\t\t\t\tif (output.length == files.length) onready(output)\n\t\t\t\t})\n\t\t}).bind(this)\n\t},\n\t\n\tcompressImage (list, scale, onload, quality) {\n\t\tvar compressor = (url, render) => {\n\t\t\tvar image = document.createElement('img')\n\t\t\timage.onload = function () {\n\t\t\t\tvar canvas    = document.createElement('canvas')\n\t\t\t\tvar context   = canvas.getContext('2d')\n\t\t\t\tvar width     = this.width  * scale\n\t\t\t\tvar height    = this.height * scale\n\t\t\t\tcanvas.width  = width\n\t\t\t\tcanvas.height = height\n\t\t\t\tcontext.drawImage(this, 0, 0, width, height)\n\t\t\t\trender(canvas.toDataURL('image/jpeg', quality || 1))\n\t\t\t}\n\t\t\timage.src = url\n\t\t}\n\t\tif (val.isArr(list))\n\t\t\tlist.forEach((url, i) => {\n\t\t\t\tcompressor(url, scaled => {\n\t\t\t\t\tlist[i] = scaled\n\t\t\t\t\tif (i == list.length - 1) onload(urls)\n\t\t\t\t})\n\t\t\t})\n\t\telse\n\t\t\tcompressor(list, onload)\n\t},\n\n/*\n\tdecodeBase64 (dataString) {\n\t\tif (typeof Buffer !== undefined) {\n\t\t\tvar matches = dataString.match(/^data:([A-Za-z-+\\/]+);base64,(.+)$/)\n\t\t\tif (matches.length !== 3) return new Error('invalid input string')\n\t\t\treturn {\n\t\t\t\ttype : matches[1],\n\t\t\t\tdata : new Buffer(matches[2], 'base64')\n\t\t\t}\n\t\t}\n\t},\n*/\n    \n    cookie : {\n\n\t    get (cookies) {\n\t        var object = {}\n\t\t\tif (cookies) {\n\t\t        var params = cookies.split('; ')\n\t\t        params.forEach(param => {\n\t\t            var bundle = param.split('=')\n\t\t            object[bundle[0]] = bundle[1]\n\t\t        })\n\t\t    }\n\t        return object\n\t    },\n\t    \n\t    set (cookies) {\n\t        var string = ''\n\t        for (var key in cookies) string += key +'='+ cookies[key] +'; '\n\t        return string\n\t    },\n\t\n\t    del (cookies, key) {\n\t\t    cookies[key] = '; expires=Thu, 01 Jan 1970 00:00:01 GMT'\n\t    },\n    },\n\n\tsearch : {\n\n\t\tget (address) {\n\t        var object = {}\n\t        var query = address.split('?')[1]\n\t\t\tif (query && query.length > 0) {\n\t\t        var params = query.split('&')\n\t\t        params.forEach(param => {\n\t\t            var bundle = param.split('=')\n\t\t            object[bundle[0]] = bundle[1]\n\t\t        })\n\t\t    }\n\t        return object\n\t    },\n\t\n\t    set (query) {\n\t        var string = ''\n\t        for (var key in query)\n\t            string += key +'='+ query[key] +\n\t                (Object.keys(query).length > 1? '&': '')\n\t        return string\n\t    },\n\t},\n\n    timeout : function (duration, interval, check, execute, timeout) {\n        var count\t= duration / interval\n        var loop \t= setInterval (() => {\n            check (success => {\n                if (success) {\n                    execute()\n                    clearInterval(loop)\n                }\n            })\n            if (count == 0) {\n                timeout && timeout()\n                clearInterval(loop)\n            }\n            count --\n        }, interval * 1000)\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/etc.js","\n\n\nimport {arr, val, vec, debug, array, Layer} from '../index'\n\nexport default {\n    \n    Machine (namespace = 'event', debug = false) {\n        var log = (msg, topic, payload) => {\n            if (out.debug) {\n                var obj = {\n                    topic,\n                    timestamp : new Date().getTime()\n                }\n                if (val.exists(payload)) Object.assign(obj, {payload})\n                console.log(`[${namespace}] ${msg}`, obj)\n            }\n        }\n        var topics = {}\n        var out = {\n            debug,\n            on (topic, callback) {\n                if (!topics[topic]) topics[topic] = []\n                return {\n                    get active () {\n                        return topics[topic] \n                            && topics[topic].indexOf(callback) > -1\n                    },\n                    on () {\n                        if (!this.active) {\n                            log('subscribed to', topic)\n                            topics[topic].push(callback)\n                        }\n                        return this\n                    },\n                    off () {\n                        if (this.active) {\n                            log('unsubscribed from', topic)\n                            array.delete(topics[topic], callback)\n                        }\n                        return this\n                    }\n                }.on()\n            },\n            emit (topic, payload) {\n                log('fired', topic, payload)\n                if (topics[topic])\n                    topics[topic].forEach(callback => callback(payload))\n                return this\n            }\n        }\n        return out\n    },\n    \n    listener (dom, type, callback, flag) {\n        var fn = e => {\n            e.undef = () => {e.preventDefault(); return e}\n            e.stop  = () => {e.stopPropagation(); return e}\n            e.block = () => e.undef().stop()\n            return callback(e)\n        }\n        return {\n            active : false,\n            on () {\n                if (!this.active) {\n                    this.active = true\n                    dom.addEventListener(type, fn, flag)\n                }\n                return this\n            },\n            off () {\n                if (this.active) {\n                    this.active = false\n                    dom.removeEventListener(type, fn, flag)\n                }\n                return this\n            }\n        }\n    },\n    \n    support (element, type) {\n        var supported = `on${type}` in element\n        if (!supported) {\n            element.setAttribute(type, null)\n            supported = typeof element[type] === 'function'\n        }\n        return supported\n    },\n    \n    types : (() => {\n        if (val.exists(window)) {\n\t        var isTouch = 'ontouchstart' in window // window.PointerEvent\n\t        return {\n\t            isTouch,\n                tap    : 'click',\n\t            down   : isTouch? 'touchstart': 'mousedown',\n\t            move   : isTouch? 'touchmove': 'mousemove',\n\t            up     : isTouch? 'touchend': 'mouseup',\n                in     : isTouch? null: 'mouseenter',\n\t            out    : isTouch? null: 'mouseleave',\n                cancel : isTouch? 'touchcancel': null,\n                scroll : 'scroll',\n                change : 'change'\n\t        }\n        }\n    })(),\n    \n    /*\n        var dropZone = layer.on('file', {\n            in () {\n                layer.bg({color: 'red'})\n            },\n            out () {\n                layer.bg({color: null})\n            },\n            drop (data) {\n                console.log(data)\n            }\n        }).on()    \n    */\n    \n\tfileDrop (layer, t = {}) {\n        var over = this.listener(layer.dom, 'dragover',  e => {\n            t.in && t.in({e})\n            leave.on()\n            drop.on()\n            e.preventDefault()\n        })\n        var leave = this.listener(layer.dom, 'dragleave', e => {\n            t.out && t.out({e})\n            leave.off()\n            drop.off()\n            e.preventDefault()\n        })\n        var drop = this.listener(layer.dom, 'drop', e => {\n            t.out && t.out({e})\n        \tvar read = (file, callback) => {\n        \t    if (/\\.(jpe?g|png|gif)$/i.test(file.name)) {\n        \t\t\tvar reader = new FileReader()\n        \t\t\treader.onload = function (e) {\n        \t\t\t\tcallback({\n                            name : file.name, \n                            data : this.result\n                        })\n                    }\n        \t\t\treader.readAsDataURL(file)\n        \t    }\n        \t}\n\t\t\tvar files = e.dataTransfer.files\n\t\t\tvar out\t= []\n\t\t\tfor (var i = 0; i < files.length; i ++)\n\t\t\t\tread(files[i], data => {\n\t\t\t\t\tout.push(data)\n\t\t\t\t\tif (out.length == files.length && t.drop)\n                        t.drop(out)\n\t\t\t\t})\n\t\t\te.preventDefault()\n        })\n        return {\n            get active () {\n                return over.active\n            },\n            on () {\n                over.on()\n                return this\n            },\n            off () {\n                over.off()\n                return this\n            }\n        }\n\t},\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/event.js","\n\n\nimport {vec, val, math} from '../index'\n\nexport default {\n\t\n\t// viewport offset\n\tvpo (dom) {\n\t\tvar rect = dom.getBoundingClientRect()\n    \treturn {\n\t\t\tposition : new vec(rect.left,  rect.top),\n\t\t\topposite : new vec(rect.right, rect.bottom),\n\t\t\tsize     : new vec(rect.width, rect.height)\n\t\t}\n\t},\n\n\tvp () {\n\t\treturn new vec(\n\t\t\tdocument.documentElement.clientWidth,\n\t\t\tdocument.documentElement.clientHeight\n\t\t)\n\t},\n\t\n\tcenter (params) {\n\t\t// for regular vector system\n\t\tif (val.isVec(params))\n\t\t\treturn params.position.add(params.size.scale(.5))\n\t\t// for dimension system\n\t\telse if (val.isDim(params)) {\n\t\t\tvar rect = this.dimvec(params)\n\t\t\treturn rect.position.add(rect.size.scale(.5))\n\t\t}\n\t},\n\t\n\tdimvec (dims) {\n\t\tvar size = \n\t\t\tdims.w? new vec(dims.w, dims.h):\n\t\t\tdims.r? new vec(dims.r - dims.l, dims.b - dims.t): null\n\t\treturn {size, position: new vec(dims.l, dims.t)}\n\t},\n\n\tvecdim (position, size) {\n\t\tvar box = {\n\t\t\tl: position.x, w: size.x,\n\t\t\tt: position.y, h: size.y\n\t\t}\n\t\tbox.r = box.l + box.w\n\t\tbox.b = box.t + box.h\n\t\treturn box\n\t},\n\n\tboxCollision (a, b) {\n\t\treturn (\n\t\t\ta.l < b.l + b.w && a.t < b.t + b.h\n\t\t&&  b.l < a.l + a.w && b.t < a.t + a.h\n\t\t)\n\t},\n\t\n\thitTest (a, pointer) {\n\t\treturn (\n\t\t\ta.l < pointer.x && pointer.x < a.l + a.w\n\t\t&&  a.t < pointer.y && pointer.y < a.t + a.h\n\t\t)\n\t},\n\t\n\tgetSide (pointer, size, border) {\n\t\tvar border  = .5 * border\n\t\treturn {\n\t\t\tx: pointer.x < border? 'l': size.x - pointer.x < border? 'r': 'c',\n\t\t\ty: pointer.y < border? 't': size.y - pointer.y < border? 'b': 'c'\n\t\t}\n\t},\n\t\n\t// {x: 'l|c|r', y: 't|m|b'}\n\tgetCursor (side) {\n\t\treturn side? {\n\t\t\tt: {l: 'nw-resize', c: 'n-resize', r: 'ne-resize'},\n\t\t\tc: {l:  'w-resize', c:     'move', r:  'e-resize'},\n\t\t\tb: {l: 'sw-resize', c: 's-resize', r: 'se-resize'}\n\t\t}[side.y][side.x]: null\t\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/geometry.js","\n\nimport {val} from '../index'\n\nexport default {\n\t\n\tto (t, a, b) {\n\t\treturn this.map(t, 0, 1, a, b, true)\n\t},\n\n\tmap (value, aMin, aMax, bMin, bMax, clamp) {\n\t\tvar x = clamp == true? (\n\t\t\tvalue < aMin? aMin:\n\t\t\tvalue > aMax? aMax: value\n\t\t):  value\n\t\treturn (\n\t\t\t(x - aMin) / \n\t\t\t(aMax - aMin) * \n\t\t\t(bMax - bMin) + bMin\n\t\t)\n\t},\n\t\n\tmin (x, lim) {\n\t\treturn x > lim? x: lim\n\t},\n\t\n\tmax (x, lim) {\n\t\treturn x < lim? x: lim\n\t},\n\t\n\trange (min, val, max) {\n\t\treturn this.max(this.min(val, min), max)\n\t},\n\t\n\trandInt (min, max) {\n\t\treturn Math.floor(this.to(Math.random(), min, max))\n\t},\n\t\n\tisEqual (a, b, tolerance = 1) {\n\t\tvar range = Math.pow(10, -tolerance)\n\t\treturn a - range < b && b < a + range\n\t},\n\t\n\tbinarySearch (length, check) {\n        var i =  Math.floor(.5 * length) // result\n\t\tvar h = i // pointer\n        while (h > 1) {\n            h = Math.round(.5 * h)\n            i += (check(i)? 1: -1) * h\n\t\t}\n        check(i, true)\n        return i\n\t},\n\t\n\tlinearInterpolation (t, points) {\n\t\t// Init\n\t\tvar params \t= []\n\t\tvar x \t\t= 0\n\t\t// Find Sector\n\t\tfor (var i = 0; i < points.length - 1; i ++) \n\t\t\tif (t >= points[i][0]) x = i; else break\n\t\t// Find Left and Right Side\n\t\tvar lValue = points[x]\n\t\tvar rValue = points[x+1]\n\t\t// Interpolate Parameters\n\t\tfor (var i = 1; i < lValue.length; i ++)\n\t\t\tparams.push(this.map(t, lValue[0], rValue[0], lValue[i], rValue[i]))\n\t\t// Return\n\t\treturn params\n\t},\n\n\tgetValueFromDictionary (value, list) {\n\t\tvar out\n\t\tfor (var i = 0; i < list.length; i ++)\n\t\t\tif \t(value >= list[i][0]) out = list[i][1]\n\t\treturn out\n\t},\n\n\trubberRange (value, min, max, range, state) {\n        // https://www.desmos.com/calculator\n        // Based on 1-pow(1+x,-1)\n\t\tvar factor = 1.3\n\t\tvar isMax  = val.exists(min)\n\t\tvar isMin  = val.exists(max)\n\t\tif (isMax || isMin) {\n\t\t\tvar dir   = value < min\n\t\t\tvar range = (dir? 1: -1) * range\n\t\t\tvar len   = dir? min: max\n\t\t\tvar x     = (len - value) / range\n\t\t\tvar y     = len - range * (1 - Math.pow(1 + x, -factor))\n\t\t}\n\t\tvar maxState = isMax && value < min\n\t\tvar minState = isMin && value > max\n\t\tif (state) state(maxState? 'max': minState? 'min': null)\n\t\treturn (maxState || minState? y: value)\n\t},\n\t\n\t// var buffer = new Buffer(10) then var value = buffer.get(23.445) \n    buffer : class {\n\t\t\n\t\tconstructor (size) {\n        \tthis.array = []\n        \tthis.size  = size\n        }\n\t\t\n        get (value) {\n            var sum    = 0\n            var length = this.array.length\n            if (length > this.size) this.array.shift()\n            this.array.push(value)\n            for (var i = 0; i < length; i ++) \n            \tif (isFinite(this.array[i])) \n                    sum += parseFloat(this.array[i])\n            return sum / length\n        }\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/math.js","\n\n\nimport {val, vec} from '../index'\n\n/*\n    sources\n    http://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n    http://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/\n    https://github.com/infamous/boxer/blob/master/src/math/Quaternion.js\n    http://jsfiddle.net/dFrHS/1/\n    http://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/\n*/\n\nconst init = [\n    1, 0, 0, 0, \n    0, 1, 0, 0,\n    0, 0, 1, 0, \n    0, 0, 0, 1\n]\n\nexport default class Matrix {\n    \n    constructor (value) {\n        this.value = \n            !val.exists(value)? init:\n             val.isStr(value)? this.fromString(value): value\n    }\n    \n    multiply (matrix, set) {\n        var a = this.value\n        var b = matrix instanceof Matrix? matrix.value: matrix\n        // 4x4 Matrix Multiplication\n        var result = [\n\t\t\ta[ 0]*b[0] + a[ 1]*b[4] + a[ 2]*b[ 8] + a[ 3]*b[12],\n\t\t\ta[ 0]*b[1] + a[ 1]*b[5] + a[ 2]*b[ 9] + a[ 3]*b[13],\n\t\t\ta[ 0]*b[2] + a[ 1]*b[6] + a[ 2]*b[10] + a[ 3]*b[14],\n\t\t\ta[ 0]*b[3] + a[ 1]*b[7] + a[ 2]*b[11] + a[ 3]*b[15],\n\t\t\ta[ 4]*b[0] + a[ 5]*b[4] + a[ 6]*b[ 8] + a[ 7]*b[12],\n\t\t\ta[ 4]*b[1] + a[ 5]*b[5] + a[ 6]*b[ 9] + a[ 7]*b[13],\n\t\t\ta[ 4]*b[2] + a[ 5]*b[6] + a[ 6]*b[10] + a[ 7]*b[14],\n\t\t\ta[ 4]*b[3] + a[ 5]*b[7] + a[ 6]*b[11] + a[ 7]*b[15],\n\t\t\ta[ 8]*b[0] + a[ 9]*b[4] + a[10]*b[ 8] + a[11]*b[12],\n\t\t\ta[ 8]*b[1] + a[ 9]*b[5] + a[10]*b[ 9] + a[11]*b[13],\n\t\t\ta[ 8]*b[2] + a[ 9]*b[6] + a[10]*b[10] + a[11]*b[14],\n\t\t\ta[ 8]*b[3] + a[ 9]*b[7] + a[10]*b[11] + a[11]*b[15],\n\t\t\ta[12]*b[0] + a[13]*b[4] + a[14]*b[ 8] + a[15]*b[12],\n\t\t\ta[12]*b[1] + a[13]*b[5] + a[14]*b[ 9] + a[15]*b[13],\n\t\t\ta[12]*b[2] + a[13]*b[6] + a[14]*b[10] + a[15]*b[14],\n\t\t\ta[12]*b[3] + a[13]*b[7] + a[14]*b[11] + a[15]*b[15]\n\t\t]\n        if (set) {\n            this.value = result\n            return this\n        } else \n            return new Matrix(result)\n\t}\n    \n    /* \n        extract floats \n        from 'matrix3d(0, -1, 0.182, -0.465)'\n        to [0, -1, 0.182, -0.46]\n    */\n    \n    fromCss (string) {\n        return string\n            .match(/-?(\\d+(.\\d+)?)(?=,|\\))/g)\n            .map(parseFloat)\n    }\n    \n    toCss () {\n        return `matrix3d(${this.toString()})`\n    }\n    \n    toString() {\n        return this.value.join(',')\n    }\n    \n    translate (v, set) {\n        var {x,y,z} = v\n        return this.multiply([\n            1, 0, 0, 0, \n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            x, y, z, 1\n        ], set)\n    }\n    \n    getTranslation () {\n        return new vec(\n            this.value[12], \n            this.value[13], \n            this.value[14]\n        )\n    }\n    \n    scale (v, set) {\n        if (val.isNum(v))\n            return this.scale(new vec().fill(v), set)\n        else {\n            var {x, y, z} = v\n            return this.multiply([\n                x, 0, 0, 0, \n                0, y, 0, 0,\n                0, 0, z, 0, \n                0, 0, 0, 1\n            ], set)\n        }\n    }\n    \n    getScale () {\n        return new vec(\n            this.value[0], \n            this.value[5], \n            this.value[10]\n        )\n    }\n    \n    rotateX (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\t1, 0, 0, 0, \n            0, c,-s, 0,\n\t\t\t0, s, c, 0, \n            0, 0, 0, 1\n\t\t], set)\n\t}\n    \n\trotateY (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\t c, 0, s, 0, \n             0, 1, 0, 0,\n\t\t\t-s, 0, c, 0, \n             0, 0, 0, 1\n\t\t], set)\n\t}\n    \n\trotateZ (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\tc,-s, 0, 0, \n            s, c, 0, 0,\n\t\t\t0, 0, 1, 0, \n            0, 0, 0, 1\n\t\t], set)\n\t}\n    \n    _rotate (deg, template, set) {\n        var rad = -deg * Math.PI / 180\n\t\treturn this.multiply(template(Math.cos(rad), Math.sin(rad)), set)\n    }\n    \n    rotate (v, set) {\n        if (val.isNum(v))\n            return this.rotateZ(v, set)\n        else {\n            return this\n                .rotateX(v.x, set)\n                .rotateY(v.y, set)\n                .rotateZ(v.z, set)\n        }\n    }\n    \n    getRotation () {\n        return new vec(\n            Math.atan2(this.value[9], this.value[10]),\n            Math.asin(-this.value[8]),\n            Math.atan2(this.value[4], this.value[0])\n        ).apply(axis => - axis.value * 180 / Math.PI)\n    }\n    \n    resetRotation () {\n        [0, 1, 2, 4, 5, 6, 8, 9, 10].forEach(i => this.value[i] = init[i])\n        return this\n    }\n    \n    reset () {\n        this.value = init\n        return this\n    }\n    \n    project (size, lt, lb, rt, rb, set) {\n        var m3x3 = (a, b) => [\n          \ta[0]*b[0]+a[1]*b[3]+a[2]*b[6],\n            a[0]*b[1]+a[1]*b[4]+a[2]*b[7],\n            a[0]*b[2]+a[1]*b[5]+a[2]*b[8],\n            a[3]*b[0]+a[4]*b[3]+a[5]*b[6],\n            a[3]*b[1]+a[4]*b[4]+a[5]*b[7],\n            a[3]*b[2]+a[4]*b[5]+a[5]*b[8],\n          \ta[6]*b[0]+a[7]*b[3]+a[8]*b[6],\n            a[6]*b[1]+a[7]*b[4]+a[8]*b[7],\n            a[6]*b[2]+a[7]*b[5]+a[8]*b[8]\n        ]\n        var adjugate = m => [\n            m[4]*m[8]-m[5]*m[7], m[2]*m[7]-m[1]*m[8], m[1]*m[5]-m[2]*m[4],\n            m[5]*m[6]-m[3]*m[8], m[0]*m[8]-m[2]*m[6], m[2]*m[3]-m[0]*m[5],\n            m[3]*m[7]-m[4]*m[6], m[1]*m[6]-m[0]*m[7], m[0]*m[4]-m[1]*m[3]\n        ]\n        var basisToPoints = (a, b, c, d) => {\n            var m = [a.x, b.x, c.x, a.y, b.y, c.y, 1, 1, 1]\n            var a = adjugate(m)\n            return m3x3(m, [\n                a[0]*d.x+a[1]*d.y+a[2], 0, 0,\n                0, a[3]*d.x+a[4]*d.y+a[5], 0,\n                0, 0, a[6]*d.x+a[7]*d.y+a[8]\n            ])\n        }\n        var t = m3x3(basisToPoints(lt, rt, lb, rb), adjugate(\n            basisToPoints(new vec(), new vec(size.x), new vec(0, size.y), size)))\n        for (var i = 0; i < 9; i ++) t[i] /= t[8]\n        return this.multiply([\n          \tt[0],t[3],0,t[6],\n            t[1],t[4],0,t[7],\n               0,   0,1,   0,\n            t[2],t[5],0,t[8]\n        ], set)\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/matrix.js","\n\n\nimport {css, math} from '../index'\n\nexport default {\n    \n    ellipsis (dom, lineCount, symbol) {\n        // set target height\n        dom.style.height = this.getLineHeight(dom) * lineCount +'px'\n        var domRect      = dom.getBoundingClientRect()\n        var multiColumn  = css.computed(dom, 'column-count') > 1\n        // check if iteration is necessary\n        if (multiColumn\n        &&  dom.scrollWidth  > domRect.width  + 1\n        ||  dom.scrollHeight > domRect.height + 1\n        ){\n            // init range selection\n            var string = dom.firstChild\n            var length = dom.innerHTML.length\n            var range  = document.createRange()\n            range.setEnd(string, length)\n            // search for position\n            math.binarySearch(length, function (i, end) {\n                // make selection\n                range.setStart(string, end? i - 3: i)\n                // return check\n                var cursorRect = range.getBoundingClientRect()\n                return (multiColumn?\n                    cursorRect.left < domRect.right :\n                    cursorRect.top  < domRect.bottom - 1\n                )\n            })\n            // delete rest and add ellipsis\n            range.deleteContents()\n            dom.innerHTML += symbol || '&hellip;'\n        }\n        // restore height\n        dom.style.height = null\n    },\n\n\tlineCount (dom) {\n\t\treturn Math.floor(\n\t\t\tdom.offsetHeight / \n\t\t\tthis.getLineHeight(dom)\n\t\t)\n\t},\n\n    getLineHeight (dom) {\n        var string = dom.firstChild\n        var range  = document.createRange()\n        range.setStart(string, 0)\n        range.setEnd  (string, 1)\n        return range.getBoundingClientRect().height\n    },\n\n\tcapitalize (string) {\n    \treturn string.charAt(0).toUpperCase() + string.slice(1)\n\t},\n\n\thash (string) {\n\t    var hash = 0\n\t    for (i = 0; i < string.length; i ++) \n\t    \thash += string.charCodeAt(i)\n\t    return hash\n\t},\n    \n    numberPadding (num, symbol, length) {\n        var num = num + ''\n        while (num.length < length) num = symbol + num\n        return num\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/text.js","\n\n\nexport default {\n    \n    exists (val) {\n        return typeof val !== 'undefined'\n    },\n    \n    isBool (val) {\n        return typeof val === \"boolean\"\n    },\n    \n    isNum (val) {\n        return typeof val === 'number'\n    },\n    \n    isStr (val) {\n        return typeof val === 'string' || val instanceof String\n    },\n    \n    isArr (val) {\n        return Array.isArray(val)\n    },\n    \n    isDom (val) {\n        return val instanceof Element\n    },\n    \n    isObj (val) {\n        return typeof val == 'object' && val.constructor == Object\n    },\n    \n    isFn (val) {\n        return typeof val === 'function'\n    },\n\t\n\tisVec (val) {\n\t\treturn val.position || val.opposite\n\t},\n\t\n\tisDim (val) {\n\t\treturn val.l || val.r\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/value.js","\n\n\nimport {val, math} from '../index'\n\nexport default class Vec {\n\n    constructor (x = 0, y = 0, z = 0) {\n        this.x = x\n        this.y = y\n        this.z = z\n    }\n\n    copy () {\n        return new Vec(this.x, this.y)\n    }\n\n    add (vec, set) {\n\t    if (set) {\n\t        this.x += (vec.x || 0)\n\t        this.y += (vec.y || 0)\n\t        this.z += (vec.z || 0)\n\t        return this\n        } else return new Vec(\n            this.x + (vec.x || 0),\n            this.y + (vec.y || 0),\n            this.z + (vec.z || 0)\n        )\n    }\n\n    sub (vec, set) {\n\t\tif (set) {   \n\t        this.x -= (vec.x || 0)\n\t        this.y -= (vec.y || 0)\n\t        this.z -= (vec.z || 0)\n\t        return this\n\t\t} else return new Vec(\n            this.x - (vec.x || 0),\n            this.y - (vec.y || 0),\n            this.z - (vec.z || 0)\n        )\n    }\n    \n    div (vec, set) {\n\t    if (set) {\n\t        this.x /= (vec.x || 1)\n\t        this.y /= (vec.y || 1)\n\t        this.z /= (vec.z || 1)\n\t        return this\n        } else return new Vec(\n            this.x / (vec.x || 1),\n            this.y / (vec.y || 1),\n            this.z / (vec.z || 1)\n        )\n    }\n    \n    mult (vec, set) {\n\t    if (set) {\n\t        this.x *= (vec.x || 1)\n\t        this.y *= (vec.y || 1)\n\t        this.z *= (vec.z || 1)\n\t        return this\n        } else return new Vec(\n            this.x * (vec.x || 1),\n            this.y * (vec.y || 1),\n            this.z * (vec.z || 1)\n        )\n    }\n\n    get len () {\n        return Math.sqrt(\n            Math.pow(this.x || 0, 2) +\n            Math.pow(this.y || 0, 2) +\n            Math.pow(this.z || 0, 2)\n        )\n    }\n\n    scale (len, set) {\n\t    if (set) {\t\n\t\t\tthis.x *= len\n\t\t\tthis.y *= len\n\t\t\tthis.z *= len\n\t\t\treturn this\n\t\t} else return new Vec(\n            this.x * len,\n            this.y * len,\n            this.z * len\n        )\n    }\n\n    norm (set) {\n\t    if (set) {\n\t\t    var len = 1 / this.len()\n\t        this.x *= len\n\t        this.y *= len\n\t        this.z *= len\n\t        return this\n\t    } else {\n\t\t    var len = 1 / this.len()\n\t        return new Vec(\n\t            this.x * len,\n\t            this.y * len,\n\t            this.z * len\n\t        )\n        }\n    }\n \n    resize (len) {\n        var norm = this.getNorm()\n        return new Vec(\n            norm.x * len,\n            norm.y * len,\n            norm.z * len\n        )\n    }\n\n    to (vec, i) {\n    \treturn new Vec(\n\t    \ti * ((vec.x || 0) - this.x) + this.x,\n\t    \ti * ((vec.y || 0) - this.y) + this.y,\n\t    \ti * ((vec.z || 0) - this.z) + this.z\n    \t)\n    }\n    \n    rotate (angle, set) {\n        var rad = Math.PI / 180 * angle\n        var cos = Math.cos(rad)\n        var sin = Math.sin(rad)\n        var x   = (cos * this.x) + (sin * this.y)\n        var y   = (cos * this.y) - (sin * this.x)\n\t    if (set) {\n\t        this.x = x\n\t        this.y = y\n\t        return this\n\t    } else {\n\t        return new Vec(x, y)\n        }\n    }\n\n    angle2d () {\n\t    return Math.atan2(this.x, this.y) * 180 / Math.PI\n    }\n\n    unit (unit) {\n        var data = {}\n        if (val.exists(this.x)) data.x = this.x + unit\n        if (val.exists(this.y)) data.y = this.y + unit\n        if (val.exists(this.z)) data.z = this.z + unit\n    \treturn data\n    }\n    \n    ununit() {\n        if (val.exists(this.x)) this.x = parseFloat(this.x)\n        if (val.exists(this.y)) this.y = parseFloat(this.y)\n        if (val.exists(this.z)) this.z = parseFloat(this.z)\n    \treturn this\n    }\n    \n    reset () {\n        if (val.exists(this.x)) this.x = 0\n        if (val.exists(this.y)) this.y = 0\n        if (val.exists(this.z)) this.z = 0\n    \treturn this\n    }\n\n    log (name) {\n        var data = {x: this.x}\n        if (val.exists(this.y)) data.y = this.y\n        if (val.exists(this.z)) data.z = this.z\n        if (typeof name === 'undefined') \n            console.log(data)\n        else\n            console.log(name, data)\n    }\n    \n    set (params) {\n        for (var i in params)\n            this[i](params[i])\n    }\n    \n    apply (fn) {\n        return new Vec(\n            fn({dimension: 'x', value: this.x}),\n            fn({dimension: 'y', value: this.y}),\n            fn({dimension: 'z', value: this.z})\n        )\n    }\n    \n    fill (value) {\n        this.x = value\n        this.y = value\n        this.z = value\n        return this\n    }\n    \n    mix (list) {\n        var sum = new Vec()\n        var len = 1\n        if (val.isArr(list)) {\n            len = list.length\n            for (var i = 0; i < len; i ++) \n                sum.add(list[i], true)\n        } else if (val.isObj(list)) {\n            len = Object.keys(list).length\n            for (var v in list)\n                sum.add(list[v], true)\n        }\n        return sum.div(new Vec().fill(len))\n    }\n    \n\trange (rect, set) {\n        var range = val.exists(rect.length)? (\n                val.isNum(rect.length)? \n                {x: rect.length, y: rect.length}: \n                rect.length\n            ): {x: 100, y: 100}\n        rect.onLimit = rect.onLimit || {}\n        var vec = new Vec(\n\t\t\tmath.rubberRange(this.x, rect.l, rect.r, range.x, rect.onLimit.x),\n\t\t\tmath.rubberRange(this.y, rect.t, rect.b, range.y, rect.onLimit.y)\n\t\t)\n        if (set) {\n            this.x = vec.x\n            this.y = vec.y\n        } else return vec\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fn/vector.js","\n\n\nimport {vec} from '../index'\n\nexport default class Device {\n    constructor () {\n        \n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/Device.js","\n\n\nimport {Layer} from '../index'\n\nexport default class Scroller extends Layer {\n    \n    constructor (options) {\n        // this.dom[this.dom.tagName === 'A'? 'href': 'src'] = value\n        options.dom = '.scroller'\n        super(options)\n    }\n    \n    flow (value) {\n        this.dom.classList.add(value || 'y')\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/Scroller.js","\n\n\nimport {Layer, animation, math} from '../index'\n\n/*\n    toggle = Toggle\n        color    : off:'#BECADD', on:'#00aaff'\n        onChange : (state) ->\n            console.log 'slider', state\n*/\n\nexport default function (transport = {}) {\n    var state = false\n    var params = {\n        left       : 0,\n        opacityOff : 0,\n        opacityOn  : 0\n    }\n    var c = transport.color\n    var colorOff = c && c.off? c.off: '#BECADD'\n    var colorOn  = c && c.on ? c.on : '#00aaff'\n    var template = `<defs>\n            <mask id=\"masterMask\">\n                <circle fill=\"white\" cx=\"33.33\" cy=\"33.33\" r=\"33.33\" />\n                <circle fill=\"white\" cx=\"66.66\" cy=\"33.33\" r=\"33.33\" />\n                  <rect fill=\"white\"  x=\"33.33\" width=\"33.33\" height=\"66.66\" />\n                <circle fill=\"black\" cx=\"{left}\" cy=\"33.33\" r=\"30.33\" />\n            </mask>\n        </defs>\n        <g mask=\"url(#masterMask)\">\n            <rect fill=\"${colorOff}\" width=\"100\" height=\"66.66\" opacity=\"{opacityOff}\" />\n            <rect fill=\"${colorOn}\" width=\"100\" height=\"66.66\" opacity=\"{opacityOn}\" />\n        </g>`\n        \n    var toggle = new Layer({\n        position : 'relative',\n        dom      : '<svg viewBox=\"0 0 100 66.66\" width=\"45\" height=\"30\"></svg>',\n        content  : {html:template, bind:params},\n    })\n    \n    var slide = animation.decay({speed: .3, float: 2, value: 0}, value => { \n        params.left       = math.to(value, 33.33, 66.66)\n        params.opacityOff = math.to(value, .3, .0)\n        params.opacityOn  = math.to(value, .0, 1)\n    })\n    \n    var onDrag = toggle.on('drag', {\n        move (t) {\n            slide.value = t.translate.x / 16.66 + (state? 1: 0)\n            transport.onDrag && transport.onDrag(slide.value)\n        },\n        cancel (t) {\n            state = t.translate && t.translate.len > 2? slide.value > .5: !state\n            slide.to(state? 1: 0)\n            transport.onChange && transport.onChange(state)\n        }\n    })\n    \n    return {\n        toggle,\n        enable () {\n            onDrag.on()\n            toggle.set({opacity : 1})\n            return this\n        },\n        disable () {\n            onDrag.off()\n            toggle.set({opacity : .3})\n            return this\n        },\n        on () {\n            slide.to(state = true)\n            return this\n        },\n        off () {\n            slide.to(state = false)\n            return this\n        }\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/Toggle.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js?sourceMap!./style.sass\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core/style.sass\n// module id = 21\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  margin: 0;\\n  box-sizing: border-box; }\\n\\nhtml {\\n  width: 100%;\\n  height: 100%; }\\n  html body {\\n    background-color: #1f2428;\\n    perspective: 500px;\\n    width: 100%;\\n    height: 100%; }\\n\\n.layer {\\n  font-family: 'arial';\\n  font-size: 13;\\n  transition: box-shadow .2s; }\\n  .layer.default {\\n    position: relative;\\n    display: inline-block;\\n    width: 100px;\\n    height: 100px;\\n    background-color: rgba(255, 255, 255, 0.7);\\n    background-size: cover;\\n    background-position: center; }\\n  .layer.drag {\\n    box-shadow: 0 0 100px 0 rgba(0, 0, 0, 0.5) !important; }\\n  .layer.resize {\\n    background: red; }\\n  .layer .edge {\\n    position: absolute; }\\n    .layer .edge.lt, .layer .edge.l, .layer .edge.lb {\\n      left: 0%; }\\n    .layer .edge.t, .layer .edge.b {\\n      left: 50%; }\\n    .layer .edge.rt, .layer .edge.r, .layer .edge.rb {\\n      left: 100%; }\\n    .layer .edge.lt, .layer .edge.t, .layer .edge.rt {\\n      top: 0%; }\\n    .layer .edge.l, .layer .edge.r {\\n      top: 50%; }\\n    .layer .edge.lb, .layer .edge.b, .layer .edge.rb {\\n      top: 100%; }\\n    .layer .edge.resize {\\n      z-index: 1;\\n      width: 12px;\\n      height: 12px;\\n      margin-left: -6px;\\n      margin-top: -6px;\\n      border-radius: 6px;\\n      background: #00aaff; }\\n      .layer .edge.resize.l {\\n        cursor: w-resize; }\\n      .layer .edge.resize.lt {\\n        cursor: nw-resize; }\\n      .layer .edge.resize.t {\\n        cursor: n-resize; }\\n      .layer .edge.resize.rt {\\n        cursor: ne-resize; }\\n      .layer .edge.resize.r {\\n        cursor: e-resize; }\\n      .layer .edge.resize.rb {\\n        cursor: se-resize; }\\n      .layer .edge.resize.b {\\n        cursor: s-resize; }\\n      .layer .edge.resize.lb {\\n        cursor: sw-resize; }\\n    .layer .edge.rotate {\\n      z-index: 0;\\n      width: 24px;\\n      height: 24px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.l, .layer .edge.rotate.lb {\\n        margin-left: -18px; }\\n      .layer .edge.rotate.t, .layer .edge.rotate.b {\\n        margin-left: -6px;\\n        width: 12px;\\n        cursor: ew-resize; }\\n      .layer .edge.rotate.rt, .layer .edge.rotate.r, .layer .edge.rotate.rb {\\n        margin-left: -6px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.t, .layer .edge.rotate.rt {\\n        margin-top: -18px; }\\n      .layer .edge.rotate.l, .layer .edge.rotate.r {\\n        margin-top: -6px;\\n        height: 12px;\\n        cursor: ns-resize; }\\n      .layer .edge.rotate.lb, .layer .edge.rotate.b, .layer .edge.rotate.rb {\\n        margin-top: -6px; }\\n      .layer .edge.rotate.lt, .layer .edge.rotate.rb {\\n        cursor: nesw-resize; }\\n      .layer .edge.rotate.rt, .layer .edge.rotate.lb {\\n        cursor: nwse-resize; }\\n\\n.scroller {\\n  width: 100%;\\n  height: 100%;\\n  -webkit-scroll-snap-type: mandatory;\\n  -webkit-scroll-snap-destination: 50% 50%; }\\n  .scroller > .layer {\\n    width: 100%;\\n    height: 100%;\\n    -webkit-scroll-snap-coordinate: 50% 50%; }\\n  .scroller.x {\\n    overflow-y: hidden;\\n    white-space: nowrap; }\\n    .scroller.x > .layer {\\n      display: inline-block;\\n      white-space: normal; }\\n  .scroller.y {\\n    overflow-x: hidden; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader?sourceMap!./src/core/style.sass\n// module id = 22\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 23\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}