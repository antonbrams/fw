{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 23dda662bb4016455650","webpack:///./libs/fw.js","webpack:///./libs/Layer.js","webpack:///./libs/Screen.js","webpack:///./libs/Scroller.js","webpack:///./libs/animation.js","webpack:///./libs/array.js","webpack:///./libs/color.js","webpack:///./libs/css.js","webpack:///./libs/dom.js","webpack:///./libs/etc.js","webpack:///./libs/event.js","webpack:///./libs/geometry.js","webpack:///./libs/gesture.js","webpack:///./libs/math.js","webpack:///./libs/matrix.js","webpack:///./libs/model.js","webpack:///./libs/text.js","webpack:///./libs/value.js","webpack:///./libs/vector.js","webpack:///./libs/style.sass?2d37","webpack:///./libs/style.sass","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","gesture","model","Scroller","Screen","Layer","css","text","etc","event","dom","color","math","matrix","vec","arr","geo","val","animation","debug","undefined","_animation","_value","_geometry","_array","_vector","_matrix","_math","_color","_dom","_event","_etc","_text","_css","_Layer","_Screen","_Scroller","_model","_gesture","enable","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_fw","options","identifier","Date","getTime","Machine","data","_props","transformation","origin","translate","scale","fill","rotate","matrix3d","pop","templateUpdater","transformationTouchEventLink","exists","isObj","create","parent","set","topic","fn","on","support","listener","isFn","_setAttribute","style","_setCss","option","_this","emit","setAttribute","removeAttribute","isStr","_this2","computed","params","_this3","modelKey","to","initValue","curValue","from","param","parentNode","removeChild","pos","left","top","size","width","height","offset","vpo","position","offsetWidth","offsetHeight","unit","document","body","appendChild","x","y","next","end","flow","time","ease","delay","clone","cloneNode","layer","a","b","boxCollision","vecdim","query","children","querySelector","querySelectorAll","out","push","append","_this4","el","isArr","forEach","item","prepend","classList","toggle","contains","_this5","add","_this6","remove","bg","image","backgroundImage","backgroundOrigin","backgroundPosition","backgroundSize","backgroundRepeat","repeat","backgroundColor","variant","weight","family","align","lineHeight","shadow","_this7","side","radius","t","r","tl","tr","bl","br","old","isDom","match","fromString","addClass","replaceWith","_this8","string","innerHTML","template","bind","html","tmp","off","offsetLeft","offsetTop","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","margin","marginLeft","marginTop","marginRight","marginBottom","_this9","axis","applyTransformation","_this10","_this11","isNum","z","center","rect","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","getPrototypeOf","window","innerWidth","innerHeight","draw","thread","jobs","requestAnimationFrame","bang","removeEventListener","vendor","transition","addEventListener","setTimeout","fps","active","id","job","running","loop","setInterval","keys","clearTimeout","getSinus","speed","sin","Math","map","decay","callback","stop","arguments","performance","now","e","types","calculate","sub","isEqual","len","num","type","stopped","_splitQuery","levels","split","level","last","_level","path","array","list","find","output","slice","temp","delete","deleted","found","splice","indexOf","updateColumn","index","console","log","filterMap","original","hsva","hue","saturation","alpha","trn","rand","_alpha","rgb","parseInt","random","element","transformOrigin","perspectiveOrigin","transform","toString","prop","parseFloat","defaultView","getComputedStyle","getPropertyValue","prefix","div","createElement","capitalize","classes","replace","tagAndId","shift","init","render","result","$1","$2","firstChild","child","insertBefore","selection","mode","ondragstart","onselectstart","methods","assign","uuid","floor","substring","uploadFile","input","onready","onchange","files","readFile","file","compressImage","onload","quality","compressor","url","canvas","context","getContext","drawImage","toDataURL","src","scaled","urls","cookie","cookies","bundle","del","search","address","timeout","duration","interval","check","execute","count","success","clearInterval","namespace","topics","flag","supported","isTouch","tap","down","move","up","in","cancel","scroll","change","fileDrop","over","leave","drop","preventDefault","read","test","reader","FileReader","readAsDataURL","dataTransfer","getBoundingClientRect","opposite","right","bottom","vp","documentElement","clientWidth","clientHeight","isVec","isDim","dimvec","dims","w","h","box","hitTest","pointer","getSide","border","getCursor","animationPreset","wheel","transport","vector","wheelDelta","detail","resize","drag","method","constraints","range","animate","pinchToRotate","_initMultitouchGesture","pinchToZoom","_dragMouse","velocity","_dragMouseEventPattern","reset","transport_","_multitouch","checkToggle","link","getTranslation","getRotation","getScale","touches","scale_rotate","lastState","_dragTouchEventPattern","mix","pointers","rotation","rConst","rubberRange","min","max","onLimit","sConst","targetTouches","pinch","multiply","clientX","clientY","convertTouches","fingers","aMin","aMax","bMin","bMax","clamp","lim","randInt","tolerance","shit","pow","binarySearch","round","linearInterpolation","points","lValue","rValue","getValueFromDictionary","state","factor","isMax","isMin","dir","maxState","minState","buffer","sum","isFinite","Matrix","join","v","angle","_rotate","deg","rad","PI","cos","rotateZ","rotateX","rotateY","atan2","asin","apply","assets","signs","words","mac","windows","linux","expressions","int","opt","sentence","randomWord","signIndex","sign","word","source","remote","local","escape","seed","iterate","destroy","make","Array","put","expression","shuffle","_parseExpressions","ellipsis","lineCount","symbol","getLineHeight","domRect","multiColumn","scrollWidth","scrollHeight","createRange","setEnd","setStart","cursorRect","deleteContents","charAt","toUpperCase","hash","charCodeAt","numberPadding","_typeof","Symbol","iterator","isBool","String","isArray","Element","Vec","sqrt","norm","getNorm","dimension","content","locals","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","Error","removeStyleElement","idx","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","memo","isOldIE","navigator","userAgent","toLowerCase","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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","file":"./index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fw\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fw\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.gesture = exports.model = exports.Scroller = exports.Screen = exports.Layer = exports.css = exports.text = exports.etc = exports.event = exports.dom = exports.color = exports.math = exports.matrix = exports.vec = exports.arr = exports.geo = exports.val = exports.animation = exports.debug = undefined;\n\nvar _animation = __webpack_require__(4);\n\nObject.defineProperty(exports, 'animation', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_animation).default;\n  }\n});\n\nvar _value = __webpack_require__(17);\n\nObject.defineProperty(exports, 'val', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_value).default;\n  }\n});\n\nvar _geometry = __webpack_require__(11);\n\nObject.defineProperty(exports, 'geo', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_geometry).default;\n  }\n});\n\nvar _array = __webpack_require__(5);\n\nObject.defineProperty(exports, 'arr', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_array).default;\n  }\n});\n\nvar _vector = __webpack_require__(18);\n\nObject.defineProperty(exports, 'vec', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_vector).default;\n  }\n});\n\nvar _matrix = __webpack_require__(14);\n\nObject.defineProperty(exports, 'matrix', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_matrix).default;\n  }\n});\n\nvar _math = __webpack_require__(13);\n\nObject.defineProperty(exports, 'math', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_math).default;\n  }\n});\n\nvar _color = __webpack_require__(6);\n\nObject.defineProperty(exports, 'color', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_color).default;\n  }\n});\n\nvar _dom = __webpack_require__(8);\n\nObject.defineProperty(exports, 'dom', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dom).default;\n  }\n});\n\nvar _event = __webpack_require__(10);\n\nObject.defineProperty(exports, 'event', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_event).default;\n  }\n});\n\nvar _etc = __webpack_require__(9);\n\nObject.defineProperty(exports, 'etc', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_etc).default;\n  }\n});\n\nvar _text = __webpack_require__(16);\n\nObject.defineProperty(exports, 'text', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_text).default;\n  }\n});\n\nvar _css = __webpack_require__(7);\n\nObject.defineProperty(exports, 'css', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_css).default;\n  }\n});\n\nvar _Layer = __webpack_require__(1);\n\nObject.defineProperty(exports, 'Layer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Layer).default;\n  }\n});\n\nvar _Screen = __webpack_require__(2);\n\nObject.defineProperty(exports, 'Screen', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Screen).default;\n  }\n});\n\nvar _Scroller = __webpack_require__(3);\n\nObject.defineProperty(exports, 'Scroller', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Scroller).default;\n  }\n});\n\nvar _model = __webpack_require__(15);\n\nObject.defineProperty(exports, 'model', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_model).default;\n  }\n});\n\nvar _gesture = __webpack_require__(12);\n\nObject.defineProperty(exports, 'gesture', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_gesture).default;\n  }\n});\n\n__webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar debug = exports.debug = { enable: false };\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Layer = function () {\n    function Layer(options) {\n        _classCallCheck(this, Layer);\n\n        this.identifier = new Date().getTime();\n        this.event = new _fw.event.Machine('Layer');\n        this.data = null;\n        this._dom = null;\n        this._props = {\n            transformation: {\n                origin: new _fw.vec(),\n                translate: new _fw.vec(),\n                scale: new _fw.vec().fill(1),\n                rotate: 0,\n                matrix3d: new _fw.matrix()\n            },\n            pop: {},\n            templateUpdater: null,\n            transformationTouchEventLink: null\n        };\n        // if no options\n        if (!_fw.val.exists(options)) this.dom = _fw.dom.create('.default');else if (_fw.val.isObj(options)) {\n            // apply dom element\n            if ('dom' in options) {\n                this.dom = options.dom;\n                delete options.dom;\n                // if no dom, create just div with .layer\n            } else this.dom = _fw.dom.create('.default');\n            // if dom is a single parameter\n        } else this.dom = options;\n        // parent story\n        if (!_fw.val.exists(options)) this.parent = _fw.Screen;else {\n            if (_fw.val.exists(options.parent)) {\n                if (options.parent === null) delete options.parent;\n            } else this.parent = _fw.Screen;\n        }\n        // set other options\n        if (_fw.val.exists(options)) this.set(options);\n    }\n\n    // external event interface\n\n\n    _createClass(Layer, [{\n        key: 'on',\n        value: function on(topic, fn, options) {\n            // gestures\n            if (topic in _fw.gesture) return _fw.gesture[topic](this, fn).on();\n            // dom events\n            else if (_fw.event.support(this.dom, topic)) return _fw.event.listener(this.dom, topic, fn, options).on();\n                // custom events\n                else if (topic in _fw.event) return _fw.event[topic](this, fn).on();\n                    // dom css\n                    else return this.event.on(topic, fn);\n        }\n\n        // setter getters\n\n    }, {\n        key: 'set',\n        value: function set(options) {\n            for (var key in options) {\n                var value = options[key];\n                // use methods\n                if (key in this) {\n                    if (_fw.val.isFn(this[key])) this[key](value);else this[key] = value;\n                    // set attributes\n                } else if (key in this.dom) this._setAttribute(key, value);\n                // set css parameters\n                else if (key in this.dom.style) this._setCss(key, value);\n            }\n            return this;\n        }\n    }, {\n        key: '_setAttribute',\n        value: function _setAttribute(option, value) {\n            var _this = this;\n\n            var set = function set(key, value) {\n                _this.event.emit(key, value);\n                if (_fw.val.exists(value)) _this.dom.setAttribute(key, value);else _this.dom.removeAttribute(key);\n            };\n            if (_fw.val.isStr(option)) set(option, value);else if (_fw.val.isObj(option)) for (var key in option) {\n                set(key, option[key]);\n            }\n        }\n    }, {\n        key: '_setCss',\n        value: function _setCss(options, value) {\n            var _this2 = this;\n\n            var set = function set(key, value) {\n                _this2.event.emit(key, value);\n                _this2.dom.style[key] = value;\n            };\n            if (_fw.val.isStr(options)) set(options, value);else if (_fw.val.isObj(options)) for (var key in options) {\n                set(key, options[key]);\n            }\n        }\n    }, {\n        key: '_getCss',\n        value: function _getCss(key) {\n            return _fw.css.computed(this.dom, key);\n        }\n    }, {\n        key: 'bind',\n\n\n        /*\n            model.forEach(function (item) {\n                var layerA = new fw.Layer({\n                    margin : 10\n                }).bind(item, {\n                    image : {\n                        to   : 'title',\n                        from : 'backgroundImage',\n                        set (value, layer) {\n                            layer.set({content: 'test ' + value})\n                        },\n                        get (value, layer) {\n                            return value\n                        }\n                    }\n                })\n            })\n        */\n\n        value: function bind(model, params) {\n            var _this3 = this;\n\n            for (var key in params) {\n                var options = params[key];\n                var modelKey = options.to || options;\n                var initValue = model[modelKey];\n                var curValue = null;\n                this.on(options.from || key, function (value) {\n                    return curValue = value;\n                });\n                Object.defineProperty(model, modelKey, {\n                    set: function (options, key) {\n                        return function (value) {\n                            if (options.set) options.set(value, _this3);else {\n                                var param = {};\n                                param[key] = value;\n                                _this3.set(param);\n                            }\n                        };\n                    }(options, key),\n                    get: function (options) {\n                        return function () {\n                            if (options.get) return options.get(_this3);else return curValue;\n                        };\n                    }(options)\n                });\n                model[modelKey] = initValue;\n            }\n            return this;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.dom.parentNode.removeChild(this.dom);\n            delete this;\n        }\n    }, {\n        key: 'pop',\n        value: function pop() {\n            this.event.emit('pop', this._props.pop);\n            this._props.pop = {\n                parent: this.dom.parentNode,\n                pos: new _fw.vec(this.dom.style.left, this.dom.style.top),\n                size: new _fw.vec(this.dom.style.width, this.dom.style.height),\n                offset: _fw.geo.vpo(this.dom)\n            };\n            this.set({\n                position: 'fixed',\n                pos: new _fw.vec(),\n                size: new _fw.vec(this.dom.offsetWidth + .5, this.dom.offsetHeight + .5).unit('px'),\n                translate: this._props.pop.offset.position.unit('px')\n            });\n            document.body.appendChild(this.dom);\n            return this;\n        }\n    }, {\n        key: 'push',\n        value: function push() {\n            this.event.emit('push', this._props.pop);\n            this._props.pop.parent.appendChild(this.dom);\n            this.set({\n                position: null,\n                pos: this._props.pop.pos,\n                size: this._props.pop.size,\n                translate: new _fw.vec(),\n                scale: new _fw.vec(1, 1, 1),\n                origin: { x: 'center', y: 'center' }\n            });\n            this._props.pop = null;\n            return this;\n        }\n    }, {\n        key: 'animate',\n        value: function animate(options, next, end) {\n            this.event.emit('animate', options);\n            _fw.animation.flow(this, options.time || .5, options.ease || 'ease-in-out', options.delay || 0, next, end);\n            return this;\n        }\n    }, {\n        key: 'clone',\n        value: function clone(options) {\n            var clone = this.dom.cloneNode(true);\n            this.dom.parentNode.appendChild(clone);\n            return new Layer({\n                dom: clone\n            }).set(options);\n        }\n    }, {\n        key: 'collision',\n        value: function collision(layer) {\n            var a = _fw.geo.vpo(this.dom);\n            var b = _fw.geo.vpo(layer.dom);\n            return _fw.geo.boxCollision(_fw.geo.vecdim(a.position, a.size), _fw.geo.vecdim(b.position, b.size));\n        }\n\n        // dom structure\n\n    }, {\n        key: 'child',\n        value: function child(query) {\n            var children = this.dom.querySelector(query);\n            return children.layer || new Layer(children);\n        }\n    }, {\n        key: 'childs',\n        value: function childs(query) {\n            var children = this.dom.querySelectorAll(query);\n            var out = [];\n            for (var i = 0; i < children.length; i++) {\n                out.push(children[i].layer || new Layer(children[i]));\n            }return out;\n        }\n    }, {\n        key: 'append',\n        value: function append(value) {\n            var _this4 = this;\n\n            this.event.emit('append', value);\n            var append = function append(el) {\n                _this4.dom.appendChild(el instanceof Layer ? el.dom : el);\n            };\n            if (_fw.val.isArr(value)) value.forEach(function (item) {\n                return append(item);\n            });else append(value);\n        }\n    }, {\n        key: 'prepend',\n        value: function prepend(value) {\n            this.event.emit('prepend', value);\n            _fw.dom.prepend(this.dom, value instanceof Layer ? value.dom : value);\n        }\n    }, {\n        key: 'detach',\n        value: function detach(value) {\n            this.event.emit('detach', value);\n            this.dom.removeChild(value instanceof Layer ? value.dom : value);\n        }\n    }, {\n        key: 'toggleClass',\n\n\n        // classes\n        value: function toggleClass(value) {\n            this.event.emit('toggleClass', value);\n            return this.dom.classList.toggle(value);\n        }\n    }, {\n        key: 'hasClass',\n        value: function hasClass(value) {\n            return this.dom.classList.contains(value);\n        }\n    }, {\n        key: 'addClass',\n        value: function addClass(value) {\n            var _this5 = this;\n\n            this.event.emit('addClass', value);\n            if (_fw.val.isArr(value)) value.forEach(function (item) {\n                return _this5.dom.classList.add(item);\n            });else this.dom.classList.add(value);\n        }\n    }, {\n        key: 'removeClass',\n        value: function removeClass(value) {\n            var _this6 = this;\n\n            this.event.emit('deleteClass', value);\n            if (_fw.val.isArr(value)) value.forEach(function (item) {\n                return _this6.dom.classList.remove(item);\n            });else this.dom.classList.remove(value);\n        }\n\n        // css\n\n    }, {\n        key: 'image',\n        value: function image(value) {\n            this.bg({ image: value });\n        }\n    }, {\n        key: 'bg',\n        value: function bg(value) {\n            if (_fw.val.isStr(value)) this._setCss('background', value);else if (_fw.val.isObj(value)) {\n                var params = {};\n                if ('image' in value) params.backgroundImage = 'url(' + value.image + ')';\n                if ('origin' in value) params.backgroundOrigin = _fw.val.isObj(value.origin) ? value.origin.x + ' ' + value.origin.y : value.origin;\n                if ('position' in value) params.backgroundPosition = _fw.val.isObj(value.position) ? value.position.x + ' ' + value.position.y : value.position;\n                if ('size' in value) params.backgroundSize = _fw.val.isObj(value.size) ? value.size.x + ' ' + value.size.y : value.size;\n                if ('repeat' in value) params.backgroundRepeat = value.repeat == 'x' ? 'repeat-x' : value.repeat == 'y' ? 'repeat-y' : value.repeat == 'no' ? 'no-repeat' : value.repeat == 'yes' ? 'repeat' : value.repeat;\n                if ('color' in value) params.backgroundColor = value.color;\n                this._setCss(params);\n            }\n        }\n    }, {\n        key: 'text',\n        value: function text(value) {\n            if (_fw.val.isStr(value)) this._setCss('font', value);else if (_fw.val.isObj(value)) {\n                var props = {\n                    style: 'fontStyle',\n                    variant: 'fontVariant',\n                    weight: 'fontWeight',\n                    size: 'fontSize',\n                    height: 'fontHeight',\n                    family: 'fontFamily',\n                    color: 'color',\n                    align: 'textAlign',\n                    lineHeight: 'lineHeight',\n                    shadow: 'textShadow'\n                };\n                for (var key in props) {\n                    if (key in value) this._setCss(props[key], value[key]);\n                }\n            }\n        }\n    }, {\n        key: 'border',\n        value: function border(value) {\n            var _this7 = this;\n\n            if (_fw.val.isStr(value)) this._setCss('border', value);else if (_fw.val.isObj(value)) {\n                var set = function set(value, side) {\n                    var props = {\n                        color: 'Color',\n                        radius: 'Radius',\n                        width: 'Width',\n                        style: 'Style'\n                    };\n                    for (var key in props) {\n                        if (key in value) _this7._setCss('border' + side + props[key], value[key]);\n                    }\n                };\n                set(value, '');\n                var props = {\n                    l: 'Left',\n                    t: 'Top',\n                    r: 'Right',\n                    b: 'Bottom',\n                    tl: 'TopLeft',\n                    tr: 'TopRight',\n                    bl: 'BottomLeft',\n                    br: 'BottomRight'\n                };\n                for (var key in props) {\n                    if (key in value) set(value[key], props[key]);\n                }\n            }\n        }\n\n        // transformation\n\n    }, {\n        key: 'dom',\n        set: function set(value) {\n            var old = this.dom && this.dom.parentNode ? this.dom : null;\n            // if dom\n            if (_fw.val.isDom(value)) this._dom = value;\n            // string a string\n            else if (_fw.val.isStr(value))\n                    // template\n                    if (value.match(/<.*>.*<\\/.*>/)) this._dom = _fw.dom.fromString(value);\n                    // create new element\n                    else this._dom = _fw.dom.create(value);\n            // link dom with layer\n            this._dom.layer = this;\n            this.addClass('layer');\n            // replace old dom\n            if (old) old.replaceWith(this.dom);\n        },\n        get: function get() {\n            return this._dom;\n        }\n    }, {\n        key: 'parent',\n        set: function set(value) {\n            this.event.emit('parent', value);\n            if (value instanceof Layer) value.append(this.dom);else value.appendChild(this.dom);\n        },\n        get: function get() {\n            if (this.dom.parentNode) if (this.dom.parentNode.layer instanceof Layer) return this.dom.parentNode.layer;else return new Layer(this.dom.parentNode);\n        }\n    }, {\n        key: 'content',\n        set: function set(value) {\n            var _this8 = this;\n\n            var set = function set(string) {\n                _this8.event.emit('content', string);\n                _this8.dom.innerHTML = string;\n            };\n            if (_fw.val.isObj(value)) this._props.templateUpdater = _fw.dom.template(value.bind, value.html, set);else {\n                set(tmp);\n                this._props.templateUpdater.off();\n            }\n        },\n        get: function get() {\n            return this.dom.innerHTML;\n        }\n    }, {\n        key: 'move',\n        set: function set(value) {\n            if ('x' in value) this._setCss('left', value.x);\n            if ('y' in value) this._setCss('top', value.y);\n        },\n        get: function get() {\n            return new _fw.vec(this.dom.offsetLeft, this.dom.offsetTop);\n        }\n    }, {\n        key: 'size',\n        set: function set(value) {\n            if ('x' in value) this._setCss('width', value.x);\n            if ('y' in value) this._setCss('height', value.y);\n        },\n        get: function get() {\n            return new _fw.vec(this.dom.offsetWidth, this.dom.offsetHeight);\n        }\n    }, {\n        key: 'padding',\n        set: function set(value) {\n            if (_fw.val.isObj(value)) {\n                if ('x' in value && 'y' in value) {\n                    this._setCss('padding', value.y + ' ' + value.x);\n                } else {\n                    var params = {};\n                    if ('x' in value) params.padding = '0 ' + value.x;\n                    if ('y' in value) params.padding = value.y + ' 0';\n                    if ('l' in value) params.paddingLeft = value.l;\n                    if ('t' in value) params.paddingTop = value.t;\n                    if ('r' in value) params.paddingRight = value.r;\n                    if ('b' in value) params.paddingBottom = value.b;\n                    this._setCss(params);\n                }\n            } else this._setCss('padding', value);\n        },\n        get: function get() {\n            return {\n                l: _fw.css.computed(this.dom, 'padding-left'),\n                t: _fw.css.computed(this.dom, 'padding-top'),\n                r: _fw.css.computed(this.dom, 'padding-right'),\n                b: _fw.css.computed(this.dom, 'padding-bottom')\n            };\n        }\n    }, {\n        key: 'margin',\n        set: function set(value) {\n            if (_fw.val.isObj(value)) {\n                if ('x' in value && 'y' in value) {\n                    this._setCss('margin', value.y + ' ' + value.x);\n                } else {\n                    var params = {};\n                    if ('x' in value) params.margin = '0 ' + value.x;\n                    if ('y' in value) params.margin = value.y + ' 0';\n                    if ('l' in value) params.marginLeft = value.l;\n                    if ('t' in value) params.marginTop = value.t;\n                    if ('r' in value) params.marginRight = value.r;\n                    if ('b' in value) params.marginBottom = value.b;\n                    this._setCss(params);\n                }\n            } else this._setCss('margin', value);\n        },\n        get: function get() {\n            return {\n                l: _fw.css.computed(this.dom, 'margin-left'),\n                t: _fw.css.computed(this.dom, 'margin-top'),\n                r: _fw.css.computed(this.dom, 'margin-right'),\n                b: _fw.css.computed(this.dom, 'margin-bottom')\n            };\n        }\n    }, {\n        key: 'origin',\n        set: function set(value) {\n            var _this9 = this;\n\n            this.event.emit('origin', value);\n            ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this9._props.transformation.origin[axis] = value[axis];\n            });\n            _fw.css.applyTransformation(this.dom, this._props.transformation, 'origin');\n        },\n        get: function get() {\n            return this._props.transformation.origin;\n        }\n    }, {\n        key: 'translate',\n        set: function set(value) {\n            var _this10 = this;\n\n            this.event.emit('translate', value);\n            ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this10._props.transformation.translate[axis] = value[axis];\n            });\n            _fw.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.translate;\n        }\n    }, {\n        key: 'scale',\n        set: function set(value) {\n            var _this11 = this;\n\n            this.event.emit('scale', value);\n            if (_fw.val.isNum(value)) {\n                this._props.transformation.scale.x = this._props.transformation.scale.y = this._props.transformation.scale.z = value;\n            } else ['x', 'y'].forEach(function (axis) {\n                if (axis in value) _this11._props.transformation.scale[axis] = value[axis];\n            });\n            _fw.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.scale;\n        }\n    }, {\n        key: 'rotate',\n        set: function set(value) {\n            this.event.emit('rotate', value);\n            this._props.transformation.rotate = '' + value + (_fw.val.isNum(value) ? 'deg' : '');\n            _fw.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.rotate;\n        }\n    }, {\n        key: 'matrix',\n        set: function set(matrix) {\n            this.event.emit('matrix', matrix.value);\n            this._props.transformation.matrix3d = matrix;\n            _fw.css.applyTransformation(this.dom, this._props.transformation);\n        },\n        get: function get() {\n            return this._props.transformation.matrix3d;\n        }\n\n        // center\n\n    }, {\n        key: 'center',\n        set: function set(value) {\n            if (_fw.val.exists(value.x)) {\n                this._setCss('left', '50%');\n                this.translate = { x: '-50%' };\n            }\n            if (_fw.val.exists(value.y)) {\n                this._setCss('top', '50%');\n                this.translate = { y: '-50%' };\n            }\n        },\n        get: function get() {\n            return _fw.geo.center(this.rect);\n        }\n\n        // offset\n\n    }, {\n        key: 'rect',\n        get: function get() {\n            return _fw.geo.vpo(this.dom);\n        }\n    }]);\n\n    return Layer;\n}();\n\nexports.default = Layer;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Screen = function (_Layer) {\n    _inherits(Screen, _Layer);\n\n    function Screen() {\n        _classCallCheck(this, Screen);\n\n        return _possibleConstructorReturn(this, (Screen.__proto__ || Object.getPrototypeOf(Screen)).call(this, {\n            dom: document.body,\n            parent: null\n        }));\n    }\n\n    // external event interface\n\n\n    _createClass(Screen, [{\n        key: 'on',\n        value: function on(topic, fn, options) {\n            // gestures\n            if (topic in _fw.event) return _fw.gesture[topic](this, fn).on();\n            // dom events\n            else if (_fw.event.support(document, topic)) return _fw.event.listener(document, topic, fn, options).on();\n                // dom css\n                else return this.event.on(topic, fn);\n        }\n    }, {\n        key: 'size',\n        get: function get() {\n            return new _fw.vec(window.innerWidth, window.innerHeight);\n        }\n    }, {\n        key: 'center',\n        get: function get() {\n            return this.size.scale(.5);\n        }\n    }]);\n\n    return Screen;\n}(_fw.Layer);\n\nexports.default = new Screen();\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scroller = function (_Layer) {\n    _inherits(Scroller, _Layer);\n\n    function Scroller(options) {\n        _classCallCheck(this, Scroller);\n\n        // this.dom[this.dom.tagName === 'A'? 'href': 'src'] = value\n        options.dom = '.scroller';\n        return _possibleConstructorReturn(this, (Scroller.__proto__ || Object.getPrototypeOf(Scroller)).call(this, options));\n    }\n\n    _createClass(Scroller, [{\n        key: 'flow',\n        value: function flow(value) {\n            this.dom.classList.add(value || 'y');\n        }\n    }]);\n\n    return Scroller;\n}(_fw.Layer);\n\nexports.default = Scroller;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n\n\t/*\n \tfw.animation.request.on('move', () => {\n \t\tscroller.translate = pointer\n \t})\n \tfw.animation.request.draw()\n */\n\n\tdraw: function () {\n\t\tvar thread = true;\n\t\tvar jobs = {};\n\t\treturn function (key, fn) {\n\t\t\tjobs[key] = fn;\n\t\t\tif (thread) {\n\t\t\t\tthread = false;\n\t\t\t\twindow.requestAnimationFrame(function () {\n\t\t\t\t\tthread = true;\n\t\t\t\t\tfor (var i in jobs) {\n\t\t\t\t\t\tjobs[i]();delete jobs[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}(),\n\n\t/*\n \tdom.set({\n \t\ttranslate  : new fw.vec(0, -100),\n \t}).flow(1.5, 'ease', 1, {\n \t\ttranslate  : new fw.vec(0, 53.5),\n \t}, function () {\n \t\tconsole.log('done')\n \t})\n */\n\n\tflow: function flow(layer, time, ease, delay, next, end) {\n\t\t// will be deprecated\n\t\tvar bang = function bang() {\n\t\t\tlayer.dom.removeEventListener('transitionend', bang);\n\t\t\tlayer.dom.style[_fw.css.vendor.transition] = null;\n\t\t\tif (end) {\n\t\t\t\tif (_fw.val.isFn(end)) end();else if (_fw.val.isObj(end)) layer.set(end);\n\t\t\t\tend = null;\n\t\t\t}\n\t\t};\n\t\tlayer.dom.addEventListener('transitionend', bang);\n\t\tlayer.dom.style[_fw.css.vendor.transition] = time + 's ' + ease + ' ' + delay + 's';\n\t\tsetTimeout(function () {\n\t\t\tif (_fw.val.isFn(next)) next();else if (_fw.val.isObj(next)) layer.set(next);\n\t\t}, 0);\n\t},\n\n\n\tjobs: function () {\n\t\tvar fps = 60;\n\t\tvar active = false;\n\t\tvar jobs = {};\n\t\treturn function (id, job) {\n\t\t\tvar running = id in jobs;\n\t\t\tjobs[id] = job;\n\t\t\tif (!active) {\n\t\t\t\tactive = true;\n\t\t\t\tvar loop = setInterval(function () {\n\t\t\t\t\tfor (var i in jobs) {\n\t\t\t\t\t\tif (jobs[i]()) delete jobs[i];\n\t\t\t\t\t}if (Object.keys(jobs).length == 0) {\n\t\t\t\t\t\tactive = false;\n\t\t\t\t\t\tclearTimeout(loop);\n\t\t\t\t\t}\n\t\t\t\t}, 1000 / fps);\n\t\t\t}\n\t\t\treturn running;\n\t\t};\n\t}(),\n\n\t// Other Functions\n\tgetSinus: function getSinus(from, to, speed) {\n\t\tvar time = new Date().getTime() * 0.001;\n\t\tvar sin = Math.sin(time * (speed || 1));\n\t\treturn _fw.math.map(sin, -1, 1, from, to);\n\t},\n\n\n\t/*\n \tvar tilt = fw.animation.decay(velocity => {\n         fw.animation.draw(`${layer2.identifier}: velocity`, () => {\n             layer2.tilt = velocity.scale(5)\n         })\n     }).on('end', e => {\n         console.log('test')\n     })\n */\n\n\tdecay: function decay(callback) {\n\t\tvar _this = this;\n\n\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t\tvar id = window.performance.now();\n\t\tvar e = new _fw.event.Machine('Decay', false);\n\t\tvar job, _stop;\n\t\tvar types = {\n\t\t\tvec: {\n\t\t\t\tcalculate: function calculate(a, b, c) {\n\t\t\t\t\treturn a.add(b.sub(a).scale(c), 1);\n\t\t\t\t},\n\t\t\t\tisEqual: function isEqual(a, b, c) {\n\t\t\t\t\treturn _fw.math.isEqual(b.sub(a).len(), 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnum: {\n\t\t\t\tcalculate: function calculate(a, b, c) {\n\t\t\t\t\treturn a += (b - a) * c;\n\t\t\t\t},\n\t\t\t\tisEqual: function isEqual(a, b, c) {\n\t\t\t\t\treturn _fw.math.isEqual(a, set);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar out = {\n\t\t\tto: function to(value) {\n\t\t\t\tif (!_fw.val.exists(job)) {\n\t\t\t\t\tjob = {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\ttype: types[value instanceof _fw.vec ? 'vec' : 'num']\n\t\t\t\t\t};\n\t\t\t\t\t_stop = false;\n\t\t\t\t\te.emit('start');\n\t\t\t\t}\n\t\t\t\t_this.jobs(id, function () {\n\t\t\t\t\tif (!_stop) {\n\t\t\t\t\t\tjob.type.calculate(job.value, value, options.speed || .1);\n\t\t\t\t\t\tcallback(job.value);\n\t\t\t\t\t\tif (job.type.isEqual(job.value, value)) {\n\t\t\t\t\t\t\t// job  = undefined\n\t\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\t\te.emit('end');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar stopped = _stop;\n\t\t\t\t\t_stop = false;\n\t\t\t\t\treturn stopped;\n\t\t\t\t});\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tjob.value = value;\n\t\t\t\tcallback(value);\n\t\t\t},\n\t\t\tstop: function stop() {\n\t\t\t\t_stop = true;\n\t\t\t\te.emit('stop');\n\t\t\t\treturn out;\n\t\t\t},\n\t\t\ton: function on(topic, fn) {\n\t\t\t\te.on(topic, fn);\n\t\t\t\treturn out;\n\t\t\t}\n\t\t};\n\t\treturn out;\n\t}\n};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n\n    // _splitQuery('parent.child.element')\n    _splitQuery: function _splitQuery(query) {\n        var levels = query.split('.');\n        return {\n            level: levels,\n            last: levels.length - 1\n        };\n    },\n\n\n    // level({id: [10, 15]}, _splitQuery('id.0'), 20); -> {id: [20, 15]}\n    _level: function _level(object, query, value) {\n        var path = object;\n        for (var n = 0; n < query.last; n++) {\n            path = path[query.level[n]];\n        }if (value) path[query.level[query.last]] = value;else return path[query.level[query.last]];\n    },\n\n\n    // map(workspaces, 'workspace.items.1')\n    map: function map(array, query) {\n        var _this = this;\n\n        var levels = this._splitQuery(query);\n        return array.map(function (list) {\n            return _this._level(list, levels);\n        });\n    },\n\n\n    // var bundle = find(workspaces, {id: id});\n    find: function find(array, query) {\n        var output = array.slice();\n        for (var i in query) {\n            var temp = [];\n            var map = this.map(output, i);\n            for (var n = 0; n < map.length; n++) {\n                if (map[n] == query[i]) temp.push(output[n]);\n            }output = temp.slice();\n        }\n        return output;\n    },\n\n\n    // var deleted = del(workspaces, {'title.color': color});\n    delete: function _delete(array, query) {\n        var deleted = this.find(array, query);\n        deleted.forEach(function (found) {\n            return array.splice(array.indexOf(found), 1);\n        });\n        return deleted;\n    },\n\n\n    // updateColumn([{id: 15}, {id: 30}], {id: [20, 15]}); -> [{id: 20}, {id: 15}]\n    updateColumn: function updateColumn(array, query) {\n        var _this2 = this;\n\n        for (var i in query) {\n            if (array.length == query[i].length) {\n                var levels = this._splitQuery(i);\n                array.forEach(function (object, index) {\n                    return _this2._level(object, levels, query[i][index]);\n                });\n            } else console.log('different lenghtes');\n        }\n    },\n\n\n    //filterMap(workspaces, {_id, 'id', alias: 'name'});\n    filterMap: function filterMap(array, keys) {\n        var output = [];\n        array.forEach(function (original) {\n            var object = {};\n            for (var key in keys) {\n                object[keys[key]] = original[key];\n            }output.push(object);\n        });\n        return output;\n    }\n};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.default = {\n\n\thsva: function () {\n\t\tfunction hsva(hue, saturation, value, alpha) {\n\t\t\t_classCallCheck(this, hsva);\n\n\t\t\tthis.hue = hue;\n\t\t\tthis.saturation = saturation;\n\t\t\tthis.value = value;\n\t\t\tthis.alpha = alpha;\n\t\t}\n\n\t\t_createClass(hsva, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get() {\n\t\t\t\tvar trn = 100 - 50 * this.saturation;\n\t\t\t\treturn 'hsla(' + 360 * this.hue + ', ' + 100 * this.saturation + '%, ' + trn * this.value + '%, ' + this.alpha + ')';\n\t\t\t}\n\t\t}]);\n\n\t\treturn hsva;\n\t}(),\n\n\trand: function rand(_alpha) {\n\t\tvar rgb = function rgb() {\n\t\t\treturn parseInt(Math.random() * 200 + 55);\n\t\t};\n\t\treturn 'rgba(' + rgb() + ', ' + rgb() + ', ' + rgb() + ', ' + (_alpha ? _alpha : 0.3) + ')';\n\t}\n};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n    applyTransformation: function applyTransformation(element, p, type) {\n        if (type == 'origin') {\n            element.style[this.vendor.transformOrigin] = p.origin.x + ' ' + p.origin.y;\n            element.style[this.vendor.perspectiveOrigin] = '' + p.origin.z;\n        } else element.style[this.vendor.transform] = 'matrix3d(' + p.matrix3d.toString() + ')\\n                translate(' + p.translate.x + ', ' + p.translate.y + ')\\n                rotate(' + p.rotate + ')\\n                scale(' + p.scale.x + ', ' + p.scale.y + ')';\n    },\n    computed: function computed(element, prop) {\n        return parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(prop));\n    },\n\n\n    vendor: function (props) {\n        var out = {};\n        if (!_fw.val.exists(document)) return out;\n        var prefix = [null, 'ms', 'webkit', 'moz', 'o'];\n        var div = document.createElement('div');\n        props.forEach(function (prop) {\n            for (var i = 0; i < prefix.length; i++) {\n                var p = prefix[i] + prefix[i] ? _fw.text.capitalize(prop) : prop;\n                if (_fw.val.exists(div.style[p])) {\n                    out[prop] = p;break;\n                }\n            }\n        });\n        return out;\n    }(['transform', 'transformOrigin', 'perspectiveOrigin', 'columnCount', 'transition'])\n\n};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n\n    // create ('div#id .class .class')\n    create: function create() {\n        var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n        var classes = query.replace(/ /g, '').split('.');\n        var tagAndId = [];\n        if (classes[0].length == 0) tagAndId = classes[0].split('#');\n        classes.shift();\n        var element = document.createElement(tagAndId[0] || 'div');\n        if (tagAndId.length > 1) element.id = tagAndId[1];\n        classes.forEach(function (style) {\n            return element.classList.add(style);\n        });\n        return element;\n    },\n    template: function template(model, tmp, callback) {\n        var init = true;\n        var active = true;\n        var render = function render() {\n            var result = tmp.replace(/{([A-z 0-9]+)}/g, function ($1, $2) {\n                if (init) {\n                    var val = model[$2];\n                    Object.defineProperty(model, $2, {\n                        set: function set(value) {\n                            val = value;\n                            if (active) render();\n                        },\n\n                        get: function get() {\n                            return val;\n                        }\n                    });\n                }\n                return model[$2];\n            });\n            callback(result);\n            init = false;\n        };\n        render();\n        return {\n            on: function on() {\n                active = true;\n                return this;\n            },\n            off: function off() {\n                active = false;\n                return this;\n            },\n\n            get active() {\n                return active;\n            }\n        };\n    },\n    fromString: function fromString(html) {\n        var parent = document.createElement('div');\n        parent.innerHTML = html;\n        return parent.firstChild;\n    },\n    prepend: function prepend(parent, child) {\n        if (parent.firstChild) parent.insertBefore(child, parent.firstChild);else parent.appendChild(child);\n    },\n    clone: function clone(dom) {\n        var _this = this;\n\n        var clone = dom.cloneNode(true);\n        clone.remove = function () {\n            return _this.parentNode.removeChild(_this);\n        };\n        dom.parentNode.appendChild(clone);\n        return clone;\n    },\n    selection: function selection(mode) {\n        document.ondragstart = document.onselectstart = mode ? null : function () {\n            return false;\n        };\n    }\n};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n\tclone: function clone(object, methods) {\n\t\treturn Object.assign(Object.assign({}, object), methods);\n\t\t//return JSON.parse(JSON.stringify(_object))\n\t},\n\tuuid: function uuid() {\n\t\treturn 'dd-d-d-d-ddd'.replace(/d/g, function () {\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t\t});\n\t},\n\tuploadFile: function uploadFile(input, onready) {\n\t\tvar _this = this;\n\n\t\tinput.onchange = function () {\n\t\t\tvar event = window.event;\n\t\t\tvar files = event.target.files;\n\t\t\tvar output = [];\n\t\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\t\t_this.readFile(files[i], function (file) {\n\t\t\t\t\toutput.push(file);\n\t\t\t\t\tif (output.length == files.length) onready(output);\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this);\n\t},\n\tcompressImage: function compressImage(list, scale, onload, quality) {\n\t\tvar compressor = function compressor(url, render) {\n\t\t\tvar image = document.createElement('img');\n\t\t\timage.onload = function () {\n\t\t\t\tvar canvas = document.createElement('canvas');\n\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\tvar width = this.width * scale;\n\t\t\t\tvar height = this.height * scale;\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\t\t\t\tcontext.drawImage(this, 0, 0, width, height);\n\t\t\t\trender(canvas.toDataURL('image/jpeg', quality || 1));\n\t\t\t};\n\t\t\timage.src = url;\n\t\t};\n\t\tif (_fw.val.isArr(list)) list.forEach(function (url, i) {\n\t\t\tcompressor(url, function (scaled) {\n\t\t\t\tlist[i] = scaled;\n\t\t\t\tif (i == list.length - 1) onload(urls);\n\t\t\t});\n\t\t});else compressor(list, onload);\n\t},\n\n\n\t/*\n \tdecodeBase64 (dataString) {\n \t\tif (typeof Buffer !== undefined) {\n \t\t\tvar matches = dataString.match(/^data:([A-Za-z-+\\/]+);base64,(.+)$/)\n \t\t\tif (matches.length !== 3) return new Error('invalid input string')\n \t\t\treturn {\n \t\t\t\ttype : matches[1],\n \t\t\t\tdata : new Buffer(matches[2], 'base64')\n \t\t\t}\n \t\t}\n \t},\n */\n\n\tcookie: {\n\t\tget: function get(cookies) {\n\t\t\tvar object = {};\n\t\t\tif (cookies) {\n\t\t\t\tvar params = cookies.split('; ');\n\t\t\t\tparams.forEach(function (param) {\n\t\t\t\t\tvar bundle = param.split('=');\n\t\t\t\t\tobject[bundle[0]] = bundle[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn object;\n\t\t},\n\t\tset: function set(cookies) {\n\t\t\tvar string = '';\n\t\t\tfor (var key in cookies) {\n\t\t\t\tstring += key + '=' + cookies[key] + '; ';\n\t\t\t}return string;\n\t\t},\n\t\tdel: function del(cookies, key) {\n\t\t\tcookies[key] = '; expires=Thu, 01 Jan 1970 00:00:01 GMT';\n\t\t}\n\t},\n\n\tsearch: {\n\t\tget: function get(address) {\n\t\t\tvar object = {};\n\t\t\tvar query = address.split('?')[1];\n\t\t\tif (query && query.length > 0) {\n\t\t\t\tvar params = query.split('&');\n\t\t\t\tparams.forEach(function (param) {\n\t\t\t\t\tvar bundle = param.split('=');\n\t\t\t\t\tobject[bundle[0]] = bundle[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn object;\n\t\t},\n\t\tset: function set(query) {\n\t\t\tvar string = '';\n\t\t\tfor (var key in query) {\n\t\t\t\tstring += key + '=' + query[key] + (Object.keys(query).length > 1 ? '&' : '');\n\t\t\t}return string;\n\t\t}\n\t},\n\n\ttimeout: function timeout(duration, interval, check, execute, _timeout) {\n\t\tvar count = duration / interval;\n\t\tvar loop = setInterval(function () {\n\t\t\tcheck(function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\texecute();\n\t\t\t\t\tclearInterval(loop);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (count == 0) {\n\t\t\t\t_timeout && _timeout();\n\t\t\t\tclearInterval(loop);\n\t\t\t}\n\t\t\tcount--;\n\t\t}, interval * 1000);\n\t}\n};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.default = {\n\n    Machine: function () {\n        function Machine() {\n            var namespace = arguments.length <= 0 || arguments[0] === undefined ? 'event' : arguments[0];\n            var debug = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n            _classCallCheck(this, Machine);\n\n            this.namespace = '[' + namespace + ']';\n            this.debug = debug;\n            this.topics = {};\n        }\n\n        _createClass(Machine, [{\n            key: 'on',\n            value: function on(topic, fn) {\n                if (this.debug) console.log(this.namespace + ' subscribed to', topic);\n                if (!this.topics[topic]) this.topics[topic] = [];\n                this.topics[topic].push(fn);\n                return this;\n            }\n        }, {\n            key: 'emit',\n            value: function emit(topic, t) {\n                if (this.debug) console.log(this.namespace + ' fired', topic);\n                if (this.topics[topic]) this.topics[topic].forEach(function (fn) {\n                    return fn(t);\n                });\n                return this;\n            }\n        }]);\n\n        return Machine;\n    }(),\n\n    listener: function listener(dom, type, callback, flag) {\n        var active = false;\n        var out = {\n            on: function on() {\n                if (!active) {\n                    active = true;\n                    dom.addEventListener(type, callback, flag);\n                }\n                return out;\n            },\n            off: function off() {\n                if (active) {\n                    active = false;\n                    dom.removeEventListener(type, callback, flag);\n                }\n                return out;\n            },\n\n            get active() {\n                return active;\n            }\n        };\n        return out;\n    },\n    support: function support(element, type) {\n        var supported = 'on' + type in element;\n        if (!supported) {\n            element.setAttribute(type, null);\n            supported = typeof element[type] === 'function';\n        }\n        return supported;\n    },\n\n\n    types: function () {\n        if (_fw.val.exists(window)) {\n            var isTouch = 'ontouchstart' in window; // window.PointerEvent\n            return {\n                isTouch: isTouch,\n                tap: 'click',\n                down: isTouch ? 'touchstart' : 'mousedown',\n                move: isTouch ? 'touchmove' : 'mousemove',\n                up: isTouch ? 'touchend' : 'mouseup',\n                in: isTouch ? null : 'mouseenter',\n                out: isTouch ? null : 'mouseleave',\n                cancel: isTouch ? 'touchcancel' : null,\n                scroll: 'scroll',\n                change: 'change'\n            };\n        }\n    }(),\n\n    /*\n        var dropZone = layer.on('file', {\n            in () {\n                layer.bg({color: 'red'})\n            },\n            out () {\n                layer.bg({color: null})\n            },\n            drop (data) {\n                console.log(data)\n            }\n        }).on()    \n    */\n\n    fileDrop: function fileDrop(layer) {\n        var t = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var over = this.listener(layer.dom, 'dragover', function (e) {\n            t.in && t.in({ e: e });\n            leave.on();\n            drop.on();\n            e.preventDefault();\n        });\n        var leave = this.listener(layer.dom, 'dragleave', function (e) {\n            t.out && t.out({ e: e });\n            leave.off();\n            drop.off();\n            e.preventDefault();\n        });\n        var drop = this.listener(layer.dom, 'drop', function (e) {\n            t.out && t.out({ e: e });\n            var read = function read(file, callback) {\n                if (/\\.(jpe?g|png|gif)$/i.test(file.name)) {\n                    var reader = new FileReader();\n                    reader.onload = function (e) {\n                        callback({\n                            name: file.name,\n                            data: this.result\n                        });\n                    };\n                    reader.readAsDataURL(file);\n                }\n            };\n            var files = e.dataTransfer.files;\n            var out = [];\n            for (var i = 0; i < files.length; i++) {\n                read(files[i], function (data) {\n                    out.push(data);\n                    if (out.length == files.length && t.drop) t.drop(out);\n                });\n            }e.preventDefault();\n        });\n        return {\n            on: function on() {\n                over.on();\n                return this;\n            },\n            off: function off() {\n                over.off();\n                return this;\n            },\n\n            get active() {\n                return over.active;\n            }\n        };\n    }\n};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n\n\t// viewport offset\n\tvpo: function vpo(dom) {\n\t\tvar rect = dom.getBoundingClientRect();\n\t\treturn {\n\t\t\tposition: new _fw.vec(rect.left, rect.top),\n\t\t\topposite: new _fw.vec(rect.right, rect.bottom),\n\t\t\tsize: new _fw.vec(rect.width, rect.height)\n\t\t};\n\t},\n\tvp: function vp() {\n\t\treturn new _fw.vec(document.documentElement.clientWidth, document.documentElement.clientHeight);\n\t},\n\tcenter: function center(params) {\n\t\t// for regular vector system\n\t\tif (_fw.val.isVec(params)) return params.position.add(params.size.scale(.5));\n\t\t// for dimension system\n\t\telse if (_fw.val.isDim(params)) {\n\t\t\t\tvar rect = this.dimvec(params);\n\t\t\t\treturn rect.position.add(rect.size.scale(.5));\n\t\t\t}\n\t},\n\tdimvec: function dimvec(dims) {\n\t\tvar size = dims.w ? new _fw.vec(dims.w, dims.h) : dims.r ? new _fw.vec(dims.r - dims.l, dims.b - dims.t) : null;\n\t\treturn { size: size, position: new _fw.vec(dims.l, dims.t) };\n\t},\n\tvecdim: function vecdim(position, size) {\n\t\tvar box = {\n\t\t\tl: position.x, w: size.x,\n\t\t\tt: position.y, h: size.y\n\t\t};\n\t\tbox.r = box.l + box.w;\n\t\tbox.b = box.t + box.h;\n\t\treturn box;\n\t},\n\tboxCollision: function boxCollision(a, b) {\n\t\treturn a.l < b.l + b.w && a.t < b.t + b.h && b.l < a.l + a.w && b.t < a.t + a.h;\n\t},\n\thitTest: function hitTest(a, pointer) {\n\t\treturn a.l < pointer.x && pointer.x < a.l + a.w && a.t < pointer.y && pointer.y < a.t + a.h;\n\t},\n\tgetSide: function getSide(pointer, size, border) {\n\t\tvar border = .5 * border;\n\t\treturn {\n\t\t\tx: pointer.x < border ? 'l' : size.x - pointer.x < border ? 'r' : 'c',\n\t\t\ty: pointer.y < border ? 't' : size.y - pointer.y < border ? 'b' : 'c'\n\t\t};\n\t},\n\n\n\t// {x: 'l|c|r', y: 't|m|b'}\n\tgetCursor: function getCursor(side) {\n\t\treturn side ? {\n\t\t\tt: { l: 'nw-resize', c: 'n-resize', r: 'ne-resize' },\n\t\t\tc: { l: 'w-resize', c: 'move', r: 'e-resize' },\n\t\t\tb: { l: 'sw-resize', c: 's-resize', r: 'se-resize' }\n\t\t}[side.y][side.x] : null;\n\t}\n};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fw = __webpack_require__(0);\n\nvar animationPreset = {\n    time: .3,\n    ease: 'cubic-bezier(.1, .5, .1, 1.2)'\n};\n\nexports.default = {\n    wheel: function wheel(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return layer.on('mousewheel', function (e) {\n            var vector = 0;\n            var w = e.wheelDelta;\n            var d = e.detail;\n            if (d) {\n                // Opera\n                if (w) vector = w / d / 40 * d > 0 ? 1 : -1;\n                // Firefox\n                else vector = -d / 3;\n                // IE / Safari / Chrome\n            } else vector = w / 120;\n            transport({ e: e, vector: vector });\n        });\n    },\n    resize: function resize(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\n        return {\n            get active() {},\n            on: function on() {\n                return this;\n            },\n            off: function off() {\n                return this;\n            },\n            cancel: function cancel() {}\n        };\n    },\n\n\n    // resize (layer, transport = {}) {\n    //     var border = 20\n    //     var side = {x: null, y: null}\n    //     var cursorHover = event.listener(layer.dom, 'mousemove', e => {\n    //         var rect    = layer.rect\n    //         var pointer = new vec(e.clientX, e.clientY)\n    //         side = geo.getSide(pointer.sub(rect.position), rect.size, border)\n    //         layer.dom.style.cursor = geo.getCursor(side)\n    //     })\n    //     var drag = this._dragMouse(layer, {\n    //         down (t) {\n    //             cursorHover.off()\n    //         },\n    //         move (t) {\n    // \n    //         },\n    //         up (t) {\n    //             \n    //         },\n    //         cancel (t) {\n    //             cursorHover.on()\n    //         }\n    //     })\n    //     return {\n    //         get active () {\n    //             return cursorHover.status\n    //         },\n    //         on () {\n    //             drag.on()\n    //             cursorHover.on()\n    //             return this\n    //         },\n    //         off () {\n    //             drag.off()\n    //             cursorHover.off()\n    //             return this\n    //         },\n    //         cancel () {\n    //             \n    //         },\n    //     }\n    // },\n\n    drag: function drag(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var translate = new _fw.vec();\n        var method = _fw.event.types.isTouch ? '_initMultitouchGesture' : '_dragMouse';\n        return this[method](layer, _fw.etc.clone(transport, {\n            move: function move(t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) {\n                    translate = t.translate;\n                    if (t.constraints) translate.range(t.constraints, true);\n                    _fw.animation.draw(layer.identifier + ': translate.move', function () {\n                        return layer.matrix = new _fw.matrix().translate(translate);\n                    });\n                }\n            },\n            cancel: function cancel(t) {\n                t.translate = translate;\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel) _fw.animation.draw(layer.identifier + ': translate.cancel', function () {\n                    return layer.animate(animationPreset, { matrix: new _fw.matrix() });\n                });\n            }\n        }), 'translate');\n    },\n    pinchToRotate: function pinchToRotate(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return this._initMultitouchGesture(layer, _fw.etc.clone(transport, {\n            move: function move(t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) _fw.animation.draw(layer.identifier + ': rotate.move', function () {\n                    return layer.rotate = t.rotate;\n                });\n            },\n            cancel: function cancel(t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel) _fw.animation.draw(layer.identifier + ': rotate.cancel', function () {\n                    return layer.animate(animationPreset, { rotate: 0 });\n                });\n            }\n        }), 'rotate');\n    },\n    pinchToZoom: function pinchToZoom(layer) {\n        var transport = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        return this._initMultitouchGesture(layer, _fw.etc.clone(transport, {\n            move: function move(t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) _fw.animation.draw(layer.identifier + ': scale.move', function () {\n                    layer.scale = t.scale;\n                });\n            },\n            cancel: function cancel(t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel) _fw.animation.draw(layer.identifier + ': scale.cancel', function () {\n                    layer.animate(animationPreset, {\n                        scale: 1\n                    });\n                });\n            }\n        }), 'scale');\n    },\n\n\n    /*\n        this is the second layer of interaction\n        for mouse are separate functions for dragging\n        for touch is one single that splits translation, rotation and scale\n    */\n\n    _dragMouse: function _dragMouse(layer, transport) {\n        var _down = new _fw.vec();\n        var velocity = new _fw.vec();\n        return this._dragMouseEventPattern(layer, _fw.etc.clone(transport, {\n            down: function down(t) {\n                velocity;\n                _down = velocity = t.pointer;\n                transport.down && transport.down({\n                    event: t.event,\n                    down: _down\n                });\n            },\n            move: function move(t) {\n                var translate = t.pointer.sub(_down);\n                transport.move && transport.move({\n                    event: t.event,\n                    translate: translate,\n                    velocity: translate.sub(velocity)\n                });\n                velocity = translate;\n            },\n            cancel: function cancel(t) {\n                transport.cancel(t);\n                _down.reset();\n                velocity.reset();\n            }\n        }));\n    },\n    _initMultitouchGesture: function _initMultitouchGesture(layer, transport, type) {\n        var address = 'transformationTouchEventLink';\n        if (!layer._props[address]) {\n            var listener = new _fw.event.Machine('transformationTouchEventLink');\n            var transport_ = { constraints: {} };['init', 'down', 'move', 'up', 'cancel'].forEach(function (key) {\n                return transport_[key] = function (t) {\n                    return listener.emit(key, t);\n                };\n            });\n            var toggle = this._multitouch(layer, transport_);\n            layer._props[address] = {\n                listener: listener,\n                transport: transport_,\n                cancel: toggle.cancel,\n                checkToggle: function checkToggle() {\n                    var flag = 'off';\n                    var property = ['translate', 'rotate', 'scale'];\n                    for (var i = 0; i < property.length; i++) {\n                        if (transport_[property[i]]) {\n                            flag = 'on';break;\n                        }\n                    }toggle[flag]();\n                }\n            };\n        }\n        var link = layer._props[address];\n        for (var key in transport) {\n            link.listener.on(key, function (method, key) {\n                return key == 'move' ? function (t) {\n                    // adapt output for every type\n                    if (type == 'translate') t.translate = t.transformation.getTranslation();\n                    if (type == 'rotate') t.rotate = t.transformation.getRotation().z;\n                    if (type == 'scale') t.scale = t.transformation.getScale().z;\n                    // execute event function\n                    method(t);\n                    // apply new transport to the whole\n                    // transformation multitouch event\n                    link.transport.constraints[type] = t.constraints;\n                    delete t.constraints;\n                } : method;\n            }(transport[key], key));\n        }return {\n            get active() {\n                return link.transport[type];\n            },\n            on: function on() {\n                link.transport[type] = true;\n                link.checkToggle();\n                return this;\n            },\n            off: function off() {\n                link.transport[type] = false;\n                link.checkToggle();\n                return this;\n            },\n\n            cancel: link.cancel\n        };\n    },\n    _multitouch: function _multitouch(layer, transport) {\n        // some shared values\n        var touches = {};\n        var scale_rotate = new _fw.matrix();\n        var lastState = new _fw.matrix();\n        var origin = new _fw.vec();\n        var center = new _fw.vec();\n        var translate = new _fw.vec();\n        // export control interface for gesture events\n        return this._dragTouchEventPattern(layer, {\n            init: function init(t) {\n                // get at start of a session \n                // a center of a layer\n                center = layer.center;\n            },\n            down: function down(t) {\n                // fire interface function\n                transport.down && transport.down(t);\n                // calculate average vector aka origin and\n                // bring this origin on rotated and scaled object back\n                origin = _fw.vec.prototype.mix(t.pointers).sub(center).sub(translate);\n            },\n            move: function move(t) {\n                // define max and min movement for rotation and scale\n                // translation constraints happens later on touch and mouse together\n                var rotate = t.event.rotation;\n                var rConst = transport.constraints.rotate;\n                if (rConst) {\n                    var last = lastState.getRotation().z;\n                    rotate = _fw.math.rubberRange(rotate + last, rConst.min, rConst.max, rConst.length || 10, rConst.onLimit) - last;\n                }\n                var scale = t.event.scale;\n                var sConst = transport.constraints.scale;\n                if (sConst) {\n                    var last = lastState.getScale().z;\n                    scale = _fw.math.rubberRange(scale + last, sConst.min + 1, sConst.max + 1, sConst.length || .2, sConst.onLimit) - last;\n                }\n                // calculate drag difference\n                var velocity = new _fw.vec();\n                for (var id in t.pointers) {\n                    // if a touch is not initialized, \n                    // save its vector to the list\n                    if (!touches[id]) touches[id] = t.pointers[id];\n                    // calculate difference between frames\n                    velocity.add(t.pointers[id], true).sub(touches[id], true);\n                    // save value for the next time\n                    touches[id] = t.pointers[id];\n                }\n                // calculate average difference between every dragged touch\n                velocity.div(new _fw.vec().fill(t.event.targetTouches.length), true);\n                // apply difference to persistent translation vector\n                translate.add(velocity, true);\n                // modify scale and rotation matrix\n                var drag = new _fw.matrix();\n                var pinch = new _fw.matrix().translate(origin.scale(-1));\n                if (transport.translate) drag.translate(translate, true);\n                if (transport.rotate) pinch.rotate(rotate, true);\n                if (transport.scale) pinch.scale(scale, true);\n                scale_rotate = lastState.multiply(pinch.translate(origin));\n                // get final transformation\n                var transformation = scale_rotate.multiply(drag);\n                // export values\n                transport.move && transport.move({\n                    event: t.event,\n                    transformation: transformation,\n                    velocity: velocity\n                });\n            },\n            up: function up(t) {\n                // apply matrix for the next drag action\n                if (t.event.targetTouches.length > 0) lastState = scale_rotate;\n                transport.up && transport.up(t);\n            },\n            cancel: function cancel(t) {\n                // export up event\n                transport.cancel && transport.cancel(t);\n                center.reset();\n                lastState.reset();\n                translate.reset();\n                touches = {};\n            }\n        });\n    },\n\n\n    /*\n        this is the lowest level of mouse and touch interaction principles\n        support of four main methods: down, move, up and cancel\n    */\n\n    _dragMouseEventPattern: function _dragMouseEventPattern(layer, transport) {\n        var down = _fw.event.listener(layer.dom, 'mousedown', function (e) {\n            if (!move.active) {\n                move.on();\n                up.on();\n            }\n            transport.down && transport.down({\n                event: e,\n                pointer: new _fw.vec(e.clientX, e.clientY)\n            });\n            e.preventDefault();\n        });\n        var move = _fw.event.listener(document, 'mousemove', function (e) {\n            transport.move && transport.move({\n                event: e,\n                pointer: new _fw.vec(e.clientX, e.clientY)\n            });\n            e.preventDefault();\n        });\n        var up = _fw.event.listener(document, 'mouseup', function (e) {\n            var t = {\n                event: e,\n                pointer: new _fw.vec(e.clientX, e.clientY)\n            };\n            transport.up && transport.up(t);\n            cancel(t);\n            e.preventDefault();\n        });\n        var cancel = function cancel() {\n            var t = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n            move.off();\n            up.off();\n            transport.cancel && transport.cancel(t);\n        };\n        return {\n            get active() {\n                return down.active;\n            },\n            on: function on() {\n                down.on();\n                return this;\n            },\n            off: function off() {\n                cancel();\n                down.off();\n                return this;\n            },\n\n            cancel: cancel\n        };\n    },\n    _dragTouchEventPattern: function _dragTouchEventPattern(layer, transport) {\n        var convertTouches = function convertTouches(fingers) {\n            var out = {};\n            for (var i = 0; i < fingers.length; i++) {\n                out[fingers[i].identifier] = new _fw.vec(fingers[i].clientX, fingers[i].clientY);\n            }return out;\n        };\n        var down = _fw.event.listener(layer.dom, 'touchstart', function (e) {\n            if (!move.active) {\n                move.on();\n                up.on();\n                transport.init({ event: e });\n            }\n            transport.down && transport.down({\n                event: e,\n                pointers: convertTouches(e.targetTouches)\n            });\n            e.preventDefault();\n        });\n        var move = _fw.event.listener(layer.dom, 'touchmove', function (e) {\n            transport.move && transport.move({\n                event: e,\n                pointers: convertTouches(e.targetTouches)\n            });\n            e.preventDefault();\n        });\n        var up = _fw.event.listener(layer.dom, 'touchend', function (e) {\n            var t = { event: e };\n            transport.up && transport.up(t);\n            if (e.targetTouches.length == 0) cancel(t);\n            e.preventDefault();\n        });\n        var cancel = function cancel() {\n            var t = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n            move.off();\n            up.off();\n            transport.cancel && transport.cancel(t);\n        };\n        return {\n            get active() {\n                return down.active;\n            },\n            on: function on() {\n                down.on();\n                return this;\n            },\n            off: function off() {\n                cancel();\n                down.off();\n                return this;\n            },\n\n            cancel: cancel\n        };\n    }\n};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.default = {\n\tto: function to(t, a, b) {\n\t\treturn this.map(t, 0, 1, a, b, true);\n\t},\n\tmap: function map(value, aMin, aMax, bMin, bMax, clamp) {\n\t\tvar x = clamp == true ? value < aMin ? aMin : value > aMax ? aMax : value : value;\n\t\treturn (x - aMin) / (aMax - aMin) * (bMax - bMin) + bMin;\n\t},\n\tmin: function min(x, lim) {\n\t\treturn x > lim ? x : lim;\n\t},\n\tmax: function max(x, lim) {\n\t\treturn x < lim ? x : lim;\n\t},\n\trange: function range(min, val, max) {\n\t\treturn this.max(this.min(val, min), max);\n\t},\n\trandInt: function randInt(min, max) {\n\t\treturn Math.floor(this.to(Math.random(), min, max));\n\t},\n\tisEqual: function isEqual(a, b) {\n\t\tvar tolerance = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n\t\tvar shit = Math.pow(10, -tolerance);\n\t\treturn a - shit < b && b < a + shit;\n\t},\n\tbinarySearch: function binarySearch(length, check) {\n\t\tvar i = Math.floor(.5 * length); // result\n\t\tvar h = i; // pointer\n\t\twhile (h > 1) {\n\t\t\th = Math.round(.5 * h);\n\t\t\ti += (check(i) ? 1 : -1) * h;\n\t\t}\n\t\tcheck(i, true);\n\t\treturn i;\n\t},\n\tlinearInterpolation: function linearInterpolation(t, points) {\n\t\t// Init\n\t\tvar params = [];\n\t\tvar x = 0;\n\t\t// Find Sector\n\t\tfor (var i = 0; i < points.length - 1; i++) {\n\t\t\tif (t >= points[i][0]) x = i;else break;\n\t\t} // Find Left and Right Side\n\t\tvar lValue = points[x];\n\t\tvar rValue = points[x + 1];\n\t\t// Interpolate Parameters\n\t\tfor (var i = 1; i < lValue.length; i++) {\n\t\t\tparams.push(this.map(t, lValue[0], rValue[0], lValue[i], rValue[i]));\n\t\t} // Return\n\t\treturn params;\n\t},\n\tgetValueFromDictionary: function getValueFromDictionary(value, list) {\n\t\tvar out;\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tif (value >= list[i][0]) out = list[i][1];\n\t\t}return out;\n\t},\n\trubberRange: function rubberRange(value, min, max, range, state) {\n\t\t// https://www.desmos.com/calculator\n\t\t// Based on 1-pow(1+x,-1)\n\t\tvar factor = 1.3;\n\t\tvar isMax = _fw.val.exists(min);\n\t\tvar isMin = _fw.val.exists(max);\n\t\tif (isMax || isMin) {\n\t\t\tvar dir = value < min;\n\t\t\tvar range = (dir ? 1 : -1) * range;\n\t\t\tvar len = dir ? min : max;\n\t\t\tvar x = (len - value) / range;\n\t\t\tvar y = len - range * (1 - Math.pow(1 + x, -factor));\n\t\t}\n\t\tvar maxState = isMax && value < min;\n\t\tvar minState = isMin && value > max;\n\t\tif (state) state(maxState ? 'max' : minState ? 'min' : null);\n\t\treturn maxState || minState ? y : value;\n\t},\n\n\n\t// var buffer = new Buffer(10) then var value = buffer.get(23.445) \n\tbuffer: function () {\n\t\tfunction buffer(size) {\n\t\t\t_classCallCheck(this, buffer);\n\n\t\t\tthis.array = [];\n\t\t\tthis.size = size;\n\t\t}\n\n\t\t_createClass(buffer, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get(value) {\n\t\t\t\tvar sum = 0;\n\t\t\t\tvar length = this.array.length;\n\t\t\t\tif (length > this.size) this.array.shift();\n\t\t\t\tthis.array.push(value);\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (isFinite(this.array[i])) sum += parseFloat(this.array[i]);\n\t\t\t\t}return sum / length;\n\t\t\t}\n\t\t}]);\n\n\t\treturn buffer;\n\t}()\n};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n    // TODO: http://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n    http://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/\n    https://github.com/infamous/boxer/blob/master/src/math/Quaternion.js\n    http://jsfiddle.net/dFrHS/1/\n    http://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/\n*/\n\nvar init = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nvar Matrix = function () {\n    function Matrix(value) {\n        _classCallCheck(this, Matrix);\n\n        this.value = !_fw.val.exists(value) ? init : _fw.val.isStr(value) ? this.fromString(value) : value;\n    }\n\n    _createClass(Matrix, [{\n        key: 'multiply',\n        value: function multiply(matrix, set) {\n            var a = this.value;\n            var b = matrix instanceof Matrix ? matrix.value : matrix;\n            // 4x4 Matrix Multiplication\n            var result = [a[0] * b[0] + a[1] * b[4] + a[2] * b[8] + a[3] * b[12], a[0] * b[1] + a[1] * b[5] + a[2] * b[9] + a[3] * b[13], a[0] * b[2] + a[1] * b[6] + a[2] * b[10] + a[3] * b[14], a[0] * b[3] + a[1] * b[7] + a[2] * b[11] + a[3] * b[15], a[4] * b[0] + a[5] * b[4] + a[6] * b[8] + a[7] * b[12], a[4] * b[1] + a[5] * b[5] + a[6] * b[9] + a[7] * b[13], a[4] * b[2] + a[5] * b[6] + a[6] * b[10] + a[7] * b[14], a[4] * b[3] + a[5] * b[7] + a[6] * b[11] + a[7] * b[15], a[8] * b[0] + a[9] * b[4] + a[10] * b[8] + a[11] * b[12], a[8] * b[1] + a[9] * b[5] + a[10] * b[9] + a[11] * b[13], a[8] * b[2] + a[9] * b[6] + a[10] * b[10] + a[11] * b[14], a[8] * b[3] + a[9] * b[7] + a[10] * b[11] + a[11] * b[15], a[12] * b[0] + a[13] * b[4] + a[14] * b[8] + a[15] * b[12], a[12] * b[1] + a[13] * b[5] + a[14] * b[9] + a[15] * b[13], a[12] * b[2] + a[13] * b[6] + a[14] * b[10] + a[15] * b[14], a[12] * b[3] + a[13] * b[7] + a[14] * b[11] + a[15] * b[15]];\n            if (set) {\n                this.value = result;\n                return this;\n            } else return new Matrix(result);\n        }\n\n        /* \n            extract floats \n            from 'matrix3d(0, -1, 0.182, -0.465)'\n            to [0, -1, 0.182, -0.46]\n        */\n\n    }, {\n        key: 'fromCss',\n        value: function fromCss(string) {\n            return string.match(/-?(\\d+(.\\d+)?)(?=,|\\))/g).map(parseFloat);\n        }\n    }, {\n        key: 'toCss',\n        value: function toCss() {\n            return 'matrix3d(' + this.toString() + ')';\n        }\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return this.value.join(',');\n        }\n    }, {\n        key: 'translate',\n        value: function translate(v, set) {\n            var x = v.x;\n            var y = v.y;\n            var z = v.z;\n\n            return this.multiply([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1], set);\n        }\n    }, {\n        key: 'getTranslation',\n        value: function getTranslation() {\n            return new _fw.vec(this.value[12], this.value[13], this.value[14]);\n        }\n    }, {\n        key: 'scale',\n        value: function scale(v, set) {\n            if (_fw.val.isNum(v)) return this.scale(new _fw.vec().fill(v), set);else {\n                var x = v.x;\n                var y = v.y;\n                var z = v.z;\n\n                return this.multiply([x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1], set);\n            }\n        }\n    }, {\n        key: 'getScale',\n        value: function getScale() {\n            return new _fw.vec(this.value[0], this.value[5], this.value[10]);\n        }\n    }, {\n        key: 'rotateX',\n        value: function rotateX(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: 'rotateY',\n        value: function rotateY(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: 'rotateZ',\n        value: function rotateZ(angle, set) {\n            return this._rotate(angle, function (c, s) {\n                return [c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n            }, set);\n        }\n    }, {\n        key: '_rotate',\n        value: function _rotate(deg, template, set) {\n            var rad = -deg * Math.PI / 180;\n            return this.multiply(template(Math.cos(rad), Math.sin(rad)), set);\n        }\n    }, {\n        key: 'rotate',\n        value: function rotate(v, set) {\n            if (_fw.val.isNum(v)) return this.rotateZ(v, set);else {\n                return this.rotateX(v.x, set).rotateY(v.y, set).rotateZ(v.z, set);\n            }\n        }\n    }, {\n        key: 'getRotation',\n        value: function getRotation() {\n            return new _fw.vec(Math.atan2(this.value[9], this.value[10]), Math.asin(-this.value[8]), Math.atan2(this.value[4], this.value[0])).apply(function (axis) {\n                return -axis.value * 180 / Math.PI;\n            });\n        }\n    }, {\n        key: 'resetRotation',\n        value: function resetRotation() {\n            var _this = this;\n\n            [0, 1, 2, 4, 5, 6, 8, 9, 10].forEach(function (i) {\n                return _this.value[i] = init[i];\n            });\n            return this;\n        }\n\n        // projectionMapping (lt, lb, rt, rb) {\n        //     var w = 1, h = 1;\n        //     var adj = function (m) { return [\n        //         m[4]*m[8]-m[5]*m[7], m[2]*m[7]-m[1]*m[8], m[1]*m[5]-m[2]*m[4],\n        //         m[5]*m[6]-m[3]*m[8], m[0]*m[8]-m[2]*m[6], m[2]*m[3]-m[0]*m[5],\n        //         m[3]*m[7]-m[4]*m[6], m[1]*m[6]-m[0]*m[7], m[0]*m[4]-m[1]*m[3]\n        //     ]}\n        //     var multmv = function (m, v) { return [\n        //         m[0]*v[0] + m[1]*v[1] + m[2]*v[2],\n        //         m[3]*v[0] + m[4]*v[1] + m[5]*v[2],\n        //         m[6]*v[0] + m[7]*v[1] + m[8]*v[2]\n        //     ]}\n        //     var multmm = function (a, b) {\n        //         var c = Array(9)\n        //         for (var i = 0; i != 3; ++i)\n        //             for (var j = 0; j != 3; ++j) {\n        //                 var cij = 0\n        //                 for (var k = 0; k != 3; ++k)\n        //                     cij += a[3*i + k]*b[3*k + j]\n        //                 c[3*i + j] = cij\n        //             }\n        //         return c\n        //     }\n        //     var basisToPoints = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        //         var m = [\n        //             x1, x2, x3,\n        //             y1, y2, y3,\n        //              1,  1,  1\n        //         ]\n        //         var v = multmv(adj(m), [x4, y4, 1])\n        //         return multmm(m, [\n        //             v[0], 0, 0,\n        //             0, v[1], 0,\n        //             0, 0, v[2]\n        //         ])\n        //     }\n        //     var s = basisToPoints(\n        //         0, 0, w, 0, \n        //         0, h, w, h\n        //     )\n        //     var d = basisToPoints(\n        //         lt.x, lt.y, lb.x, lb.y, \n        //         rt.x, rt.y, rb.x, rb.y\n        //     )\n        //     var t = multmm(d, adj(s))\n        //     for (i = 0; i != 9; ++i) t[i] = t[i]/t[8];\n        //     return [\n        //         t[0], t[3], 0, t[6],\n        //         t[1], t[4], 0, t[7],\n        //            0,    0, 1,    0,\n        //         t[2], t[5], 0, t[8]\n        //     ]\n        // }\n\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this.value = init;\n            return this;\n        }\n    }]);\n\n    return Matrix;\n}();\n\nexports.default = Matrix;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fw = __webpack_require__(0);\n\nvar assets = {\n    signs: ['', ',', '.', '?', '!'],\n    words: 'accusam aliquyam amet at clita consetetur diam dolor dolore dolores duo ea eirmod elitr eos erat est et gubergren invidunt ipsum justo kasd labore lorem magna no nonumy rebum sad sanctus sea sed sit stet takimata tempor ut vero voluptua'.split(' '),\n    image: {\n        mac: ['Abstract', 'Antelope Canyon', 'Bahamas Aerial', 'Beach', 'Blue Pond', 'Bristle Grass', 'Brushes', 'Circles', 'Death Valley', 'Desert', 'Ducks on a Misty Pond', 'Eagle & Waterfall', 'Earth and Moon', 'Earth Horizon', 'El Capitan 2', 'El Capitan', 'Elephant', 'Flamingos', 'Floating Ice', 'Floating Leaves', 'Foggy Forest', 'Forest in Mist', 'Foxtail Barley', 'Frog', 'Galaxy', 'Grass Blades', 'Hawaiian Print', 'Isles', 'Lake', 'Lion', 'Milky Way', 'Moon', 'Mountain Range', 'Mt. Fuji', 'Pink Forest', 'Pink Lotus Flower', 'Poppies', 'Red Bells', 'Rice Paddy', 'Rolling Waves', 'Shapes', 'Sierra 2', 'Sierra', 'Sky', 'Snow', 'Underwater', 'Wave', 'Yosemite 2', 'Yosemite 3', 'Yosemite 4', 'Yosemite 5', 'Yosemite', 'Zebras'],\n        windows: ['...'],\n        linux: ['...']\n    }\n};\n\nvar expressions = {\n\n    // {type: int, mode: cycle, from: 1}\n    // {type: int, mode: forward, from: 1}\n    // {type: int, mode: random, min: 1, max: 10}\n    int: function int(opt) {\n        return { i: 0, method: 'int', mode: opt.mode, render: function render() {\n                return opt.mode == 'forward' || opt.mode == 'loop' ? opt.from + this.i++ : opt.mode == 'random' ? Math.floor(_fw.math.to(Math.random(), opt.min, opt.max)) : this.i;\n            }\n        };\n    },\n\n\n    // {type: string, mode: text, count: 20}\n    // {type: string, mode: text, min: 20, max 100}\n    string: function string(opt) {\n        return {\n            render: function render() {\n                var count = opt.count ? opt.count : Math.floor(_fw.math.to(Math.random(), opt.min, opt.max));\n                var capitalize = true;\n                var sentence = '';\n                for (var i = 0; i < count; i++) {\n                    var randomWord = assets.words[Math.floor(Math.random() * assets.words.length)];\n                    var signIndex = Math.floor(Math.pow(Math.random(), 20) * assets.signs.length);\n                    var sign = assets.signs[_fw.math.min(signIndex, i < count - 1 ? 0 : 2)] + ' ';\n                    var word = capitalize ? _fw.text.capitalize(randomWord) : randomWord;\n                    sentence += word + sign;\n                    capitalize = signIndex > 1;\n                }\n                return sentence.substring(0, sentence.length - 1);\n            }\n        };\n    },\n\n\n    // {type: image, source: local}\n    image: function image(opt) {\n        var source = {\n            remote: function remote(i) {\n                return 'https://unsplash.it/500?image=' + i;\n            },\n            local: function local(i) {\n                return 'file:///Library/Desktop%20Pictures/' + escape(assets.image.mac[i % assets.image.mac.length]) + '.jpg';\n            }\n        };\n        var seed = _fw.math.randInt(0, 1000);\n        return { i: 0, render: function render() {\n                return source[opt.source || 'local'](seed + this.i++);\n            }\n        };\n    },\n\n\n    // get(i => {return custom[i]})\n    iterate: function iterate(callback) {\n        return { type: 'expression', i: 0, render: function render() {\n                return callback(this.i++);\n            }\n        };\n    }\n};\n\nexports.default = {\n\n    /*\n        model.on('make', item => {\n            return new fw.Layer({\n                parent : scroller,\n                size   : new fw.vec(100, 100),\n                margin : 10\n            })\n        })\n        \n        model.on('destroy', item => {\n            item.layer.animate({}, {\n                margin : {x: -item.layer.size.x / 2},\n                scale  : {x: 0}\n            },{\n                destroy : true\n            })\n        })\n    */\n\n    init: function init(model) {\n        var destroy = function destroy(layer) {\n            layer.destroy();\n        };\n        var make = function make(item) {/* no initial value */};\n        var methods = {\n            on: function on(topic, callback) {\n                if (topic == 'make') {\n                    make = function make(item) {\n                        var layer = callback(item);\n                        layer.data = item;\n                        Object.defineProperty(item, 'layer', {\n                            value: layer,\n                            enumerable: false\n                        });\n                    };\n                    model.forEach(make);\n                } else if (topic == 'destroy') destroy = callback;\n                return model;\n            },\n            push: function push() {\n                make(arguments[0]);\n                Array.prototype.push.apply(this, arguments);\n            },\n            splice: function splice() {\n                var deleted = Array.prototype.splice.apply(this, arguments);\n                deleted.forEach(function (a) {\n                    return destroy(a.layer);\n                });\n                return deleted;\n            },\n            find: function find(query) {\n                return _fw.arr.find(model, query);\n            },\n            delete: function _delete(query) {\n                return _fw.arr.delete(model, query);\n            },\n            filterMap: function filterMap(query) {\n                return _fw.arr.filterMap(model, query);\n            }\n        };\n        for (var key in methods) {\n            Object.defineProperty(model, key, { enumerable: false, value: methods[key] });\n        }return model;\n    },\n\n\n    /*\n        var boxes = fw.model.put({\n            count : 10,\n            model : {\n                album  : fw.model.iterate(i => {return custom[i].album}),\n                id     : '{type: int, mode: forward, from: 1}',\n            },\n            shuffle : [{\n                someParam : 'testest'\n            },{\n                others : '{type: int, mode: random, min: 1, max: 10}',\n                image  : '{type: image, source: local}' \n            }]\n        })\n    */\n\n    put: function put(opt) {\n        // modify values\n        for (var key in opt.model) {\n            var value = opt.model[key];\n            // reset integer with count type\n            if (value.type == 'expression' && value.expressions) value.expressions.forEach(function (expression) {\n                // reset int expression if loop\n                if (expression.method == 'int' && expression.mode == 'loop') expression.i = 0;\n            });\n        }\n        // render content\n        var model = [];\n        for (var i = 0; i < (opt.count || 1); i++) {\n            // copy raw model\n            var property = this.render(opt.model);\n            // make shuffle on model\n            if ('shuffle' in opt) {\n                var index = _fw.math.randInt(0, opt.shuffle.length);\n                Object.assign(property, this.render(opt.shuffle[index]));\n            }\n            // add rendered version of model to the output list\n            model.push(property);\n        }\n        // make watchable\n        return this.init(model);\n    },\n    render: function render(model) {\n        var out = {};\n        for (var key in model) {\n            // init expression\n            if (_fw.val.isStr(model[key]) && model[key].match(/{.*?}/)) model[key] = this._parseExpressions(model[key]);\n            // render value if expression\n            if (model[key].type == 'expression') out[key] = model[key].render();\n            // transfer value\n            else out[key] = model[key];\n        }\n        return out;\n    },\n    _parseExpressions: function _parseExpressions(string) {\n        var out = { type: 'expression', expressions: [] };\n        // find all the queries and replace them with functions\n        var string = string.replace(/{.*?}/g, function (match) {\n            var query = {};\n            // parse match\n            match.replace(/{| |}/g, '').split(',').forEach(function (p) {\n                p = p.split(':');\n                query[p[0]] = parseInt(p[1]) || p[1];\n            });\n            // find method of this and push generated expression\n            out.expressions.push(expressions[query.type](query));\n            // save index of array {1}\n            return '{' + (out.expressions.length - 1) + '}';\n        });\n        out.render = function () {\n            var _this = this;\n\n            // replace all {1} with expression result\n            var result = string.replace(/{.*?}/g, function (i) {\n                // bundle.expressions[{1}]\n                return _this.expressions[i.match(/\\d+/)[0]].render();\n            });\n            // convert to int if no characters\n            return result.match(/[^\\d+]/) ? result : parseInt(result);\n        };\n        return out;\n    }\n};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fw = __webpack_require__(0);\n\nexports.default = {\n    ellipsis: function ellipsis(dom, lineCount, symbol) {\n        // set target height\n        dom.style.height = this.getLineHeight(dom) * lineCount + 'px';\n        var domRect = dom.getBoundingClientRect();\n        var multiColumn = _fw.css.computed(dom, 'column-count') > 1;\n        // check if iteration is necessary\n        if (multiColumn && dom.scrollWidth > domRect.width + 1 || dom.scrollHeight > domRect.height + 1) {\n            // init range selection\n            var string = dom.firstChild;\n            var length = dom.innerHTML.length;\n            var range = document.createRange();\n            range.setEnd(string, length);\n            // search for position\n            _fw.math.binarySearch(length, function (i, end) {\n                // make selection\n                range.setStart(string, end ? i - 3 : i);\n                // return check\n                var cursorRect = range.getBoundingClientRect();\n                return multiColumn ? cursorRect.left < domRect.right : cursorRect.top < domRect.bottom - 1;\n            });\n            // delete rest and add ellipsis\n            range.deleteContents();\n            dom.innerHTML += symbol || '&hellip;';\n        }\n        // restore height\n        dom.style.height = null;\n    },\n    lineCount: function lineCount(dom) {\n        return Math.floor(dom.offsetHeight / this.getLineHeight(dom));\n    },\n    getLineHeight: function getLineHeight(dom) {\n        var string = dom.firstChild;\n        var range = document.createRange();\n        range.setStart(string, 0);\n        range.setEnd(string, 1);\n        return range.getBoundingClientRect().height;\n    },\n    capitalize: function capitalize(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n    hash: function hash(string) {\n        var hash = 0;\n        for (i = 0; i < string.length; i++) {\n            hash += string.charCodeAt(i);\n        }return hash;\n    },\n    numberPadding: function numberPadding(num, symbol, length) {\n        var num = num + '';\n        while (num.length < length) {\n            num = symbol + num;\n        }return num;\n    }\n};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n    exists: function exists(val) {\n        return typeof val !== 'undefined';\n    },\n    isBool: function isBool(val) {\n        return typeof val === \"boolean\";\n    },\n    isNum: function isNum(val) {\n        return typeof val === 'number';\n    },\n    isStr: function isStr(val) {\n        return typeof val === 'string' || val instanceof String;\n    },\n    isArr: function isArr(val) {\n        return Array.isArray(val);\n    },\n    isDom: function isDom(val) {\n        return val instanceof Element;\n    },\n    isObj: function isObj(val) {\n        return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) == 'object' && val.constructor == Object;\n    },\n    isFn: function isFn(val) {\n        return typeof val === 'function';\n    },\n    isVec: function isVec(val) {\n        return val.position || val.opposite;\n    },\n    isDim: function isDim(val) {\n        return val.l || val.r;\n    }\n};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fw = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vec = function () {\n    function Vec() {\n        var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n        var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        var z = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n        _classCallCheck(this, Vec);\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    _createClass(Vec, [{\n        key: 'copy',\n        value: function copy() {\n            return new Vec(this.x, this.y);\n        }\n    }, {\n        key: 'add',\n        value: function add(vec, set) {\n            if (set) {\n                this.x += vec.x || 0;\n                this.y += vec.y || 0;\n                this.z += vec.z || 0;\n                return this;\n            } else return new Vec(this.x + (vec.x || 0), this.y + (vec.y || 0), this.z + (vec.z || 0));\n        }\n    }, {\n        key: 'sub',\n        value: function sub(vec, set) {\n            if (set) {\n                this.x -= vec.x || 0;\n                this.y -= vec.y || 0;\n                this.z -= vec.z || 0;\n                return this;\n            } else return new Vec(this.x - (vec.x || 0), this.y - (vec.y || 0), this.z - (vec.z || 0));\n        }\n    }, {\n        key: 'div',\n        value: function div(vec, set) {\n            if (set) {\n                this.x /= vec.x || 1;\n                this.y /= vec.y || 1;\n                this.z /= vec.z || 1;\n                return this;\n            } else return new Vec(this.x / (vec.x || 1), this.y / (vec.y || 1), this.z / (vec.z || 1));\n        }\n    }, {\n        key: 'len',\n        value: function len() {\n            return Math.sqrt(Math.pow(this.x || 0, 2) + Math.pow(this.y || 0, 2) + Math.pow(this.z || 0, 2));\n        }\n    }, {\n        key: 'scale',\n        value: function scale(len, set) {\n            if (set) {\n                this.x *= len;\n                this.y *= len;\n                this.z *= len;\n                return this;\n            } else return new Vec(this.x * len, this.y * len, this.z * len);\n        }\n    }, {\n        key: 'norm',\n        value: function norm(set) {\n            if (set) {\n                var len = 1 / this.len();\n                this.x *= len;\n                this.y *= len;\n                this.z *= len;\n                return this;\n            } else {\n                var len = 1 / this.len();\n                return new Vec(this.x * len, this.y * len, this.z * len);\n            }\n        }\n    }, {\n        key: 'resize',\n        value: function resize(len) {\n            var norm = this.getNorm();\n            return new Vec(norm.x * len, norm.y * len, norm.z * len);\n        }\n    }, {\n        key: 'to',\n        value: function to(vec, i) {\n            return new Vec(i * ((vec.x || 0) - this.x) + this.x, i * ((vec.y || 0) - this.y) + this.y, i * ((vec.z || 0) - this.z) + this.z);\n        }\n    }, {\n        key: 'rotate',\n        value: function rotate(angle, set) {\n            var rad = Math.PI / 180 * angle;\n            var cos = Math.cos(rad);\n            var sin = Math.sin(rad);\n            var x = cos * this.x + sin * this.y;\n            var y = cos * this.y - sin * this.x;\n            if (set) {\n                this.x = x;\n                this.y = y;\n                return this;\n            } else {\n                return new Vec(x, y);\n            }\n        }\n    }, {\n        key: 'angle2d',\n        value: function angle2d() {\n            return Math.atan2(this.x, this.y) * 180 / Math.PI;\n        }\n    }, {\n        key: 'unit',\n        value: function unit(_unit) {\n            var data = {};\n            if (_fw.val.exists(this.x)) data.x = this.x + _unit;\n            if (_fw.val.exists(this.y)) data.y = this.y + _unit;\n            if (_fw.val.exists(this.z)) data.z = this.z + _unit;\n            return data;\n        }\n    }, {\n        key: 'ununit',\n        value: function ununit() {\n            if (_fw.val.exists(this.x)) this.x = parseFloat(this.x);\n            if (_fw.val.exists(this.y)) this.y = parseFloat(this.y);\n            if (_fw.val.exists(this.z)) this.z = parseFloat(this.z);\n            return this;\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            if (_fw.val.exists(this.x)) this.x = 0;\n            if (_fw.val.exists(this.y)) this.y = 0;\n            if (_fw.val.exists(this.z)) this.z = 0;\n            return this;\n        }\n    }, {\n        key: 'log',\n        value: function log(name) {\n            var data = { x: this.x };\n            if (_fw.val.exists(this.y)) data.y = this.y;\n            if (_fw.val.exists(this.z)) data.z = this.z;\n            if (typeof name === 'undefined') console.log(data);else console.log(name, data);\n        }\n    }, {\n        key: 'set',\n        value: function set(params) {\n            for (var i in params) {\n                this[i](params[i]);\n            }\n        }\n    }, {\n        key: 'apply',\n        value: function apply(fn) {\n            return new Vec(fn({ dimension: 'x', value: this.x }), fn({ dimension: 'y', value: this.y }), fn({ dimension: 'z', value: this.z }));\n        }\n    }, {\n        key: 'fill',\n        value: function fill(value) {\n            this.x = value;\n            this.y = value;\n            this.z = value;\n            return this;\n        }\n    }, {\n        key: 'mix',\n        value: function mix(list) {\n            var sum = new Vec();\n            var len = 1;\n            if (_fw.val.isArr(list)) {\n                len = list.length;\n                for (var i = 0; i < len; i++) {\n                    sum.add(list[i], true);\n                }\n            } else if (_fw.val.isObj(list)) {\n                len = Object.keys(list).length;\n                for (var v in list) {\n                    sum.add(list[v], true);\n                }\n            }\n            return sum.div(new Vec().fill(len));\n        }\n    }, {\n        key: 'range',\n        value: function range(rect, set) {\n            var range = _fw.val.exists(rect.length) ? _fw.val.isNum(rect.length) ? { x: rect.length, y: rect.length } : rect.length : { x: 100, y: 100 };\n            rect.onLimit = rect.onLimit || {};\n            var vec = new Vec(_fw.math.rubberRange(this.x, rect.l, rect.r, range.x, rect.onLimit.x), _fw.math.rubberRange(this.y, rect.t, rect.b, range.y, rect.onLimit.y));\n            if (set) {\n                this.x = vec.x;\n                this.y = vec.y;\n            } else return vec;\n        }\n    }]);\n\n    return Vec;\n}();\n\nexports.default = Vec;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(20);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(22)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js?sourceMap!./style.sass\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(21)();\n// imports\n\n\n// module\nexports.push([module.i, \"* {\\n  margin: 0;\\n  box-sizing: border-box; }\\n\\nbody {\\n  background-color: #1f2428;\\n  perspective: 500; }\\n\\n.layer {\\n  font-family: 'arial';\\n  font-size: 13;\\n  transition: box-shadow .2s; }\\n  .layer.default {\\n    position: relative;\\n    display: inline-block;\\n    width: 100;\\n    height: 100;\\n    background-color: rgba(255, 255, 255, 0.7);\\n    background-size: cover;\\n    background-position: center; }\\n  .layer.drag {\\n    box-shadow: 0 0 100px 0 rgba(0, 0, 0, 0.5) !important; }\\n\\n.scroller {\\n  width: 100%;\\n  height: 100%;\\n  -webkit-scroll-snap-type: mandatory;\\n  -webkit-scroll-snap-destination: 50% 50%; }\\n  .scroller > .layer {\\n    width: 100%;\\n    height: 100%;\\n    -webkit-scroll-snap-coordinate: 50% 50%; }\\n  .scroller.x {\\n    overflow-y: hidden;\\n    white-space: nowrap; }\\n    .scroller.x > .layer {\\n      display: inline-block;\\n      white-space: normal; }\\n  .scroller.y {\\n    overflow-x: hidden; }\\n\", \"\"]);\n\n// exports\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 23dda662bb4016455650","\n\n\nimport './style.sass'\nexport var debug = {enable: false}\n\nexport {default as animation} from './animation'\nexport {default as val}       from './value'\nexport {default as geo}       from './geometry'\nexport {default as arr}       from './array'\nexport {default as vec}       from './vector'\nexport {default as matrix}    from './matrix'\nexport {default as math}      from './math'\nexport {default as color}     from './color'\nexport {default as dom}       from './dom'\nexport {default as event}     from './event'\nexport {default as etc}       from './etc'\nexport {default as text}      from './text'\nexport {default as css}       from './css'\n\nexport {default as Layer}     from './Layer'\nexport {default as Screen}    from './Screen'\nexport {default as Scroller}  from './Scroller'\nexport {default as model}     from './model'\nexport {default as gesture}   from './gesture'\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/fw.js","\n\n\nimport {\n    dom, css, val, geo, vec, matrix,\n    animation, event, text, gesture,\n    Screen\n} from './fw'\n\nexport default class Layer {\n    \n    constructor (options) {\n        this.identifier = new Date().getTime()\n        this.event      = new event.Machine('Layer')\n        this.data       = null\n        this._dom       = null\n        this._props     = {\n            transformation : {\n                origin    : new vec(),\n                translate : new vec(),\n                scale     : new vec().fill(1),\n                rotate    : 0,\n                matrix3d  : new matrix()\n            },\n            pop : {},\n            templateUpdater              : null,\n            transformationTouchEventLink : null,\n        }\n        // if no options\n        if (!val.exists(options))\n            this.dom = dom.create('.default')\n        else if (val.isObj(options)) {\n            // apply dom element\n            if ('dom' in options) {\n                this.dom = options.dom\n                delete options.dom\n            // if no dom, create just div with .layer\n            } else\n                this.dom = dom.create('.default')\n        // if dom is a single parameter\n        } else\n            this.dom = options\n        // parent story\n        if (!val.exists(options))\n            this.parent = Screen\n        else {\n            if (val.exists(options.parent)) {\n                if (options.parent === null) \n                    delete options.parent\n            } else\n                this.parent = Screen\n        }\n        // set other options\n        if (val.exists(options)) \n            this.set(options)\n    }\n    \n    // external event interface\n    on (topic, fn, options) {\n        // gestures\n        if (topic in gesture)\n            return gesture[topic](this, fn).on()\n        // dom events\n        else if (event.support(this.dom, topic))\n            return event.listener(this.dom, topic, fn, options).on()\n        // custom events\n        else if (topic in event)\n            return event[topic](this, fn).on()\n        // dom css\n        else\n            return this.event.on(topic, fn)\n    }\n    \n    // setter getters\n    set (options) {\n        for (var key in options) {\n            var value = options[key]\n            // use methods\n            if (key in this) {\n                if (val.isFn(this[key])) \n                    this[key](value)\n                else\n                    this[key] = value\n            // set attributes\n            } else if (key in this.dom) this._setAttribute(key, value)\n            // set css parameters\n            else if (key in this.dom.style) this._setCss(key, value)\n        }\n        return this\n    }\n    \n    _setAttribute (option, value) {\n        var set = (key, value) => {\n            this.event.emit(key, value)\n            if (val.exists(value))\n                this.dom.setAttribute(key, value)\n            else\n                this.dom.removeAttribute(key)\n        }\n        if (val.isStr(option))\n            set(option, value)\n        else if (val.isObj(option))\n            for (var key in option)\n                set(key, option[key])\n    }\n    \n    _setCss (options, value) {\n        var set = (key, value) => {\n            this.event.emit(key, value)\n            this.dom.style[key] = value\n        }\n        if (val.isStr(options))\n            set(options, value)\n        else if (val.isObj(options))\n            for (var key in options)\n                set(key, options[key])\n    }\n    \n    _getCss (key) {\n        return css.computed(this.dom, key)\n    }\n    \n    set dom (value) {\n        var old = this.dom && this.dom.parentNode? this.dom: null\n        // if dom\n        if (val.isDom(value))\n            this._dom = value\n        // string a string\n        else if (val.isStr(value))\n            // template\n            if (value.match(/<.*>.*<\\/.*>/))\n                this._dom = dom.fromString(value)\n            // create new element\n            else\n                this._dom = dom.create(value)\n        // link dom with layer\n        this._dom.layer = this\n        this.addClass('layer')\n        // replace old dom\n        if (old) old.replaceWith(this.dom) \n    }\n    \n    get dom () {\n        return this._dom\n    }\n    \n    /*\n        model.forEach(function (item) {\n            var layerA = new fw.Layer({\n                margin : 10\n            }).bind(item, {\n                image : {\n                    to   : 'title',\n                    from : 'backgroundImage',\n                    set (value, layer) {\n                        layer.set({content: 'test ' + value})\n                    },\n                    get (value, layer) {\n                        return value\n                    }\n                }\n            })\n        })\n    */\n    \n    bind (model, params) {\n        for (var key in params) {\n            var options   = params[key]\n            var modelKey  = options.to || options\n            var initValue = model[modelKey]\n            var curValue  = null\n            this.on(options.from || key, value => curValue = value)\n            Object.defineProperty(model, modelKey, {\n                set : ((options, key) => {\n                    return value => {\n                        if (options.set)\n                            options.set(value, this)\n                        else {\n                            var param  = {}\n                            param[key] = value\n                            this.set(param)\n                        }\n                    }\n                })(options, key),\n                get : (options => {\n                    return () => {\n                        if (options.get)\n                            return options.get(this)\n                        else \n                            return curValue\n                    }\n                })(options)\n            })\n            model[modelKey] = initValue\n        }\n        return this\n    }\n    \n    destroy () {\n        this.dom.parentNode.removeChild(this.dom)\n        delete this\n    }\n    \n    pop () {\n        this.event.emit('pop', this._props.pop)\n        this._props.pop = {\n            parent : this.dom.parentNode,\n            pos    : new vec(this.dom.style.left, this.dom.style.top),\n            size   : new vec(this.dom.style.width, this.dom.style.height),\n            offset : geo.vpo(this.dom)\n        }\n        this.set({\n            position  : 'fixed',\n            pos       : new vec(),\n            size      : new vec(this.dom.offsetWidth +.5, this.dom.offsetHeight +.5).unit('px'),\n            translate : this._props.pop.offset.position.unit('px')\n        })\n        document.body.appendChild(this.dom)\n        return this\n    }\n    \n    push () {\n        this.event.emit('push', this._props.pop)\n        this._props.pop.parent.appendChild(this.dom)\n        this.set({\n            position  : null,\n            pos       : this._props.pop.pos,\n            size      : this._props.pop.size,\n            translate : new vec(),\n            scale     : new vec(1, 1, 1),\n            origin    : {x: 'center', y: 'center'}\n        })\n        this._props.pop = null\n        return this\n    }\n    \n    animate (options, next, end) {\n        this.event.emit('animate', options)\n        animation.flow(this,\n            options.time  || .5,\n            options.ease  || 'ease-in-out',\n            options.delay || 0,\n            next, end\n        )\n        return this\n    }\n    \n    clone (options) {\n        var clone = this.dom.cloneNode(true)\n\t\tthis.dom.parentNode.appendChild(clone)\n        return new Layer({\n            dom : clone\n        }).set(options)\n    }\n    \n    collision (layer) {\n        var a = geo.vpo(this.dom)\n        var b = geo.vpo(layer.dom)\n        return geo.boxCollision(\n            geo.vecdim(a.position, a.size), \n            geo.vecdim(b.position, b.size)\n        )\n    }\n    \n    // dom structure\n    child (query) {\n        var children = this.dom.querySelector(query)\n        return children.layer || new Layer(children)\n    }\n    \n    childs (query) {\n        var children = this.dom.querySelectorAll(query)\n        var out = []\n        for (var i = 0; i < children.length; i ++)\n            out.push(children[i].layer || new Layer(children[i]))\n        return out \n    }\n    \n    set parent (value) {\n        this.event.emit('parent', value)\n        if (value instanceof Layer) \n            value.append(this.dom)\n        else\n            value.appendChild(this.dom)\n    }\n    \n    get parent () {\n        if (this.dom.parentNode)\n            if (this.dom.parentNode.layer instanceof Layer)\n                return this.dom.parentNode.layer\n            else\n                return new Layer(this.dom.parentNode)\n    }\n    \n    append (value) {\n        this.event.emit('append', value)\n        var append = el => {this.dom.appendChild(el instanceof Layer? el.dom: el)}\n        if (val.isArr(value))\n            value.forEach(item => append(item))\n        else\n            append(value)\n    }\n    \n    prepend (value) {\n        this.event.emit('prepend', value)\n        dom.prepend(this.dom, value instanceof Layer? value.dom: value)\n    }\n    \n    detach (value) {\n        this.event.emit('detach', value)\n        this.dom.removeChild(value instanceof Layer? value.dom: value)\n    }\n    \n    set content (value) {\n        var set = string => {\n            this.event.emit('content', string)\n            this.dom.innerHTML = string\n        }\n        if (val.isObj(value))\n            this._props.templateUpdater = dom.template(value.bind, value.html, set)\n        else {\n            set(tmp)\n            this._props.templateUpdater.off()\n        }\n    }\n    \n    get content () {\n        return this.dom.innerHTML\n    }\n    \n    // classes\n    toggleClass (value) {\n        this.event.emit('toggleClass', value)\n        return this.dom.classList.toggle(value)\n    }\n    \n    hasClass (value) {\n        return this.dom.classList.contains(value)\n    }\n    \n    addClass (value) {\n        this.event.emit('addClass', value)\n        if (val.isArr(value)) \n            value.forEach(item => this.dom.classList.add(item))\n        else this.dom.classList.add(value)\n    }\n    \n    removeClass (value) {\n        this.event.emit('deleteClass', value)\n        if (val.isArr(value)) \n            value.forEach(item => this.dom.classList.remove(item))\n        else this.dom.classList.remove(value)\n    }\n    \n    // css\n    set move (value) {\n        if ('x' in value) this._setCss('left', value.x)\n        if ('y' in value) this._setCss('top', value.y)\n    }\n    \n    get move () {\n        return new vec(this.dom.offsetLeft, this.dom.offsetTop)\n    }\n    \n    set size (value) {\n        if ('x' in value) this._setCss('width', value.x)\n        if ('y' in value) this._setCss('height', value.y)\n    }\n    \n    get size () {\n        return new vec(this.dom.offsetWidth, this.dom.offsetHeight)\n    }\n    \n    image (value) {\n        this.bg({image: value})\n    }\n    \n    set padding (value) {\n        if (val.isObj(value)) {\n            if ('x' in value && 'y' in value) {\n                this._setCss('padding', `${value.y} ${value.x}`)\n            } else {\n                var params = {}\n                if ('x' in value) params.padding       = `0 ${value.x}`\n                if ('y' in value) params.padding       = `${value.y} 0`\n                if ('l' in value) params.paddingLeft   = value.l\n                if ('t' in value) params.paddingTop    = value.t\n                if ('r' in value) params.paddingRight  = value.r\n                if ('b' in value) params.paddingBottom = value.b\n                this._setCss(params)\n            }\n        } else\n            this._setCss('padding', value)\n    }\n    \n    get padding () {\n        return {\n            l: css.computed(this.dom, 'padding-left'),\n            t: css.computed(this.dom, 'padding-top'),\n            r: css.computed(this.dom, 'padding-right'),\n            b: css.computed(this.dom, 'padding-bottom')\n        }\n    }\n    \n    set margin (value) {\n        if (val.isObj(value)) {\n            if ('x' in value && 'y' in value) {\n                this._setCss('margin', `${value.y} ${value.x}`)\n            } else {\n                var params = {}\n                if ('x' in value) params.margin       = `0 ${value.x}`\n                if ('y' in value) params.margin       = `${value.y} 0`\n                if ('l' in value) params.marginLeft   = value.l\n                if ('t' in value) params.marginTop    = value.t\n                if ('r' in value) params.marginRight  = value.r\n                if ('b' in value) params.marginBottom = value.b\n                this._setCss(params)\n            }\n        } else\n            this._setCss('margin', value)\n    }\n    \n    get margin () {\n        return {\n            l: css.computed(this.dom, 'margin-left'),\n            t: css.computed(this.dom, 'margin-top'),\n            r: css.computed(this.dom, 'margin-right'),\n            b: css.computed(this.dom, 'margin-bottom')\n        }\n    }\n    \n    bg (value) {\n        if (val.isStr(value))\n            this._setCss('background', value)\n        else if (val.isObj(value)) {\n            var params = {}\n            if ('image' in value)\n                params.backgroundImage = \n                    `url(${value.image})`\n            if ('origin' in value)\n                params.backgroundOrigin = val.isObj(value.origin)?\n                    `${value.origin.x} ${value.origin.y}`: value.origin\n            if ('position' in value)\n                params.backgroundPosition = val.isObj(value.position)?\n                    `${value.position.x} ${value.position.y}`: value.position\n            if ('size' in value)\n                params.backgroundSize = val.isObj(value.size)? \n                    `${value.size.x} ${value.size.y}`: value.size\n            if ('repeat' in value)\n                params.backgroundRepeat =\n                    value.repeat == 'x'? 'repeat-x':\n                    value.repeat == 'y'? 'repeat-y':\n                    value.repeat == 'no'? 'no-repeat':\n                    value.repeat == 'yes'? 'repeat': value.repeat\n            if ('color' in value)\n                params.backgroundColor = value.color\n            this._setCss(params)\n        }\n    }\n    \n    text (value) {\n        if (val.isStr(value))\n            this._setCss('font', value)\n        else if (val.isObj(value)) {\n            var props = {\n                style      : 'fontStyle', \n                variant    : 'fontVariant', \n                weight     : 'fontWeight', \n                size       : 'fontSize', \n                height     : 'fontHeight', \n                family     : 'fontFamily',\n                color      : 'color',\n                align      : 'textAlign', \n                lineHeight : 'lineHeight',\n                shadow     : 'textShadow'\n            }\n            for (var key in props) \n                if (key in value) this._setCss(props[key], value[key])\n        }\n    }\n    \n    border (value) {\n        if (val.isStr(value))\n            this._setCss('border', value)\n        else if (val.isObj(value)) {\n            var set = (value, side) => {\n                var props = {\n                    color  : 'Color',\n                    radius : 'Radius',\n                    width  : 'Width',\n                    style  : 'Style'\n                }\n                for (var key in props)\n                    if (key in value)\n                        this._setCss(`border${side}${props[key]}`, value[key])\n            }\n            set(value, '')\n            var props = {\n                l : 'Left', \n                t : 'Top', \n                r : 'Right', \n                b : 'Bottom', \n                tl: 'TopLeft', \n                tr: 'TopRight',\n                bl: 'BottomLeft',\n                br: 'BottomRight'\n            }\n            for (var key in props)\n                if (key in value) \n                    set(value[key], props[key])\n        }\n    }\n    \n    // transformation\n    set origin (value) {\n        this.event.emit('origin', value);\n        ['x', 'y'].forEach(axis => {\n            if (axis in value) \n                this._props.transformation.origin[axis] = value[axis]\n        })\n        css.applyTransformation(this.dom, this._props.transformation, 'origin')\n    }\n    \n    get origin () {\n        return this._props.transformation.origin\n    }\n    \n    set translate (value) {\n        this.event.emit('translate', value);\n        ['x', 'y'].forEach(axis => {\n            if (axis in value) \n                this._props.transformation.translate[axis] = value[axis]\n        })\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get translate () {\n        return this._props.transformation.translate\n    }\n    \n    set scale (value) {\n        this.event.emit('scale', value)\n        if (val.isNum(value)) {\n            this._props.transformation.scale.x =\n            this._props.transformation.scale.y =\n            this._props.transformation.scale.z = value\n        } else\n            ['x', 'y'].forEach(axis => {\n                if (axis in value) \n                    this._props.transformation.scale[axis] = value[axis]\n            })\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get scale () {\n        return this._props.transformation.scale\n    }\n    \n    set rotate (value) {\n        this.event.emit('rotate', value)\n        this._props.transformation.rotate = `${value}${val.isNum(value)?'deg':''}`\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get rotate () {\n        return this._props.transformation.rotate\n    }\n    \n    set matrix (matrix) {\n        this.event.emit('matrix', matrix.value)\n        this._props.transformation.matrix3d = matrix\n        css.applyTransformation(this.dom, this._props.transformation)\n    }\n    \n    get matrix() {\n        return this._props.transformation.matrix3d\n    }\n    \n    // center\n    set center (value) {\n        if (val.exists(value.x)) {\n            this._setCss('left', '50%')\n            this.translate = {x: '-50%'}\n        }\n        if (val.exists(value.y)) {\n            this._setCss('top', '50%')\n            this.translate = {y: '-50%'}\n        }\n    }\n    \n    get center () {\n        return geo.center(this.rect) \n    }\n    \n    // offset\n    get rect () {\n        return geo.vpo(this.dom)\n    }\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/Layer.js","\n\n\nimport {vec, event, gesture, Layer} from './fw'\n\nclass Screen extends Layer {\n    \n    constructor () {\n        super({\n            dom    : document.body,\n            parent : null\n        })\n    }\n    \n    // external event interface\n    on (topic, fn, options) {\n        // gestures\n        if (topic in event)\n           return gesture[topic](this, fn).on()\n       // dom events\n        else if (event.support(document, topic))\n            return event.listener(document, topic, fn, options).on()\n        // dom css\n        else\n            return this.event.on(topic, fn)\n    }\n    \n    get size () {\n        return new vec(window.innerWidth, window.innerHeight)\n    }\n    \n    get center () {\n        return this.size.scale(.5)\n    }\n    \n}\n\nexport default new Screen()\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/Screen.js","\n\n\nimport {Layer} from './fw'\n\nexport default class Scroller extends Layer {\n    \n    constructor (options) {\n        // this.dom[this.dom.tagName === 'A'? 'href': 'src'] = value\n        options.dom = '.scroller'\n        super(options)\n    }\n    \n    flow (value) {\n        this.dom.classList.add(value || 'y')\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/Scroller.js","\n\n\nimport {css, vec, math, val, event} from './fw'\n\n\nexport default {\n\t\n\t/*\n\t\tfw.animation.request.on('move', () => {\n\t\t\tscroller.translate = pointer\n\t\t})\n\t\tfw.animation.request.draw()\n\t*/\n\t\n\tdraw : (() => {\n\t\tvar thread = true\n\t\tvar jobs   = {}\n\t\treturn (key, fn) => {\n\t\t\tjobs[key] = fn\n\t\t\tif (thread) {\n\t\t\t\tthread = false\n\t\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\t\tthread = true\n\t\t\t\t\tfor (var i in jobs) {jobs[i](); delete jobs[i]}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})(),\n\t\n\t/*\n\t\tdom.set({\n\t\t\ttranslate  : new fw.vec(0, -100),\n\t\t}).flow(1.5, 'ease', 1, {\n\t\t\ttranslate  : new fw.vec(0, 53.5),\n\t\t}, function () {\n\t\t\tconsole.log('done')\n\t\t})\n\t*/\n\t\n\tflow (layer, time, ease, delay, next, end) {\n\t\t// will be deprecated\n\t\tvar bang = () => {\n\t\t\tlayer.dom.removeEventListener('transitionend', bang)\n\t\t\tlayer.dom.style[css.vendor.transition] = null\n\t\t\tif (end) {\n\t\t\t\tif (val.isFn(end))\n\t\t\t\t\tend()\n\t\t\t\telse if (val.isObj(end))\n\t\t\t\t\tlayer.set(end)\n\t\t\t\tend = null\n\t\t\t}\n\t\t}\n\t\tlayer.dom.addEventListener('transitionend', bang)\n\t\tlayer.dom.style[css.vendor.transition] = `${time}s ${ease} ${delay}s`\n\t\tsetTimeout(() => {\n\t\t\tif (val.isFn(next))\n\t\t\t\tnext()\n\t\t\telse if (val.isObj(next))\n\t\t\t\tlayer.set(next)\n\t\t}, 0)\n\t},\n\t\n\tjobs : (() => {\n\t\tvar fps    = 60\n\t\tvar active = false\n\t\tvar jobs   = {}\n\t\treturn (id, job) => {\n\t\t\tvar running = id in jobs\n\t\t\tjobs[id] = job\n\t\t\tif (!active) {\n\t\t\t\tactive = true\n\t\t\t\tvar loop = setInterval(() => {\n\t\t\t\t\tfor (var i in jobs) if (jobs[i]()) delete jobs[i]\n\t\t\t\t\tif (Object.keys(jobs).length == 0) {\n\t\t\t\t\t\tactive = false\n\t\t\t\t\t\tclearTimeout(loop)\n\t\t\t\t\t}\n\t\t\t\t}, 1000 / fps)\n\t\t\t}\n\t\t\treturn running\n\t\t}\n\t})(),\n\t\n\t// Other Functions\n\tgetSinus (from, to, speed) {\n\t\tvar time = new Date().getTime() * 0.001;\n\t\tvar sin  = Math.sin(time * (speed || 1))\n\t\treturn math.map(sin, -1, 1, from, to)\n\t},\n\t\n\t/*\n\t\tvar tilt = fw.animation.decay(velocity => {\n\t        fw.animation.draw(`${layer2.identifier}: velocity`, () => {\n\t            layer2.tilt = velocity.scale(5)\n\t        })\n\t    }).on('end', e => {\n\t        console.log('test')\n\t    })\n\t*/\n\t\n\tdecay (callback, options = {}) {\n\t\tvar id   = window.performance.now()\n\t\tvar e    = new event.Machine('Decay', false)\n\t\tvar job, stop\n\t\tvar types = {\n\t\t\tvec : {\n\t\t\t\tcalculate (a, b, c) {return a.add(b.sub(a).scale(c), 1)},\n\t\t\t\tisEqual   (a, b, c) {return math.isEqual(b.sub(a).len(), 0)}\n\t\t\t},\n\t\t\tnum : {\n\t\t\t\tcalculate (a, b, c) {return a += (b - a) * c},\n\t\t\t\tisEqual   (a, b, c) {return math.isEqual(a, set)}\n\t\t\t}\n\t\t}\n\t\tvar out = {\n\t\t\tto : value => {\n\t\t\t\tif (!val.exists(job)) {\n\t\t\t\t\tjob = {\n\t\t\t\t\t\tvalue : value,\n\t\t\t\t\t\ttype  : types[value instanceof vec? 'vec': 'num']\n\t\t\t\t\t}\n\t\t\t\t\tstop = false\n\t\t\t\t\te.emit('start')\n\t\t\t\t}\n\t\t\t\tthis.jobs(id, () => {\n\t\t\t\t\tif (!stop) {\n\t\t\t\t\t\tjob.type.calculate(job.value, value, options.speed || .1)\n\t\t\t\t\t\tcallback(job.value)\n\t\t\t\t\t\tif (job.type.isEqual(job.value, value)) {\n\t\t\t\t\t\t\t// job  = undefined\n\t\t\t\t\t\t\tstop = true\n\t\t\t\t\t\t\te.emit('end')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar stopped = stop\n\t\t\t\t\tstop = false\n\t\t\t\t\treturn stopped\n\t\t\t\t})\n\t\t\t},\n\t\t\tset (value) {\n\t\t\t\tjob.value = value\n\t\t\t\tcallback(value)\n\t\t\t},\n\t\t\tstop () {\n\t\t\t\tstop = true\n\t\t\t\te.emit('stop')\n\t\t\t\treturn out\n\t\t\t},\n\t\t\ton (topic, fn) {\n\t\t\t\te.on(topic, fn)\n\t\t\t\treturn out\n\t\t\t},\n\t\t}\n\t\treturn out\n\t},\n\t\n\t// easing : {\n\t// \n\t// \tlinear (t) {\n\t// \t\treturn t\n\t// \t},\n\t// \n\t//     easeOutExpo (t) { \n\t// \t   return 1 - Math.pow(2, -10 * t)\n\t// \t},\n\t// \t\n\t// \teaseInQuad (t) { \n\t// \t\treturn Math.sin(t * (Math.PI/2))\n\t// \t},\n\t// \t\n\t// \teaseOutQuad (t) { \n\t// \t\treturn t*(2-t)\n\t// \t},\n\t// \t\t\n\t// \teaseInOutQuint (t) {\n\t// \t\treturn (\n\t// \t\t\tt < 0.5 ? \n\t// \t\t\t16 * Math.pow(t, 5) : (--t) * \n\t// \t\t\t16 * Math.pow(t, 4) + 1\n\t// \t\t)\n\t// \t},\n\t// \t\n\t// \teaseOutElastic (t) {\n\t// \t\tvar p = 0.8\n\t// \t\treturn (\n\t// \t\t\tMath.pow(2, -10 * t) * \n\t// \t\t\tMath.sin((t - p / 4) * (2 * Math.PI) / p) + 1\n\t// \t\t) \n\t// \t},\n\t// \n\t// \teaseOutBounce (t) {\n\t// \t\t\t if (t < 1.0 / 2.75) return 7.5625 * t *  t\n\t// \t\telse if (t < 2.0 / 2.75) return 7.5625 * t * (t -= (1.500 / 2.75)) + 0.750000 \n\t// \t\telse if (t < 2.5 / 2.75) return 7.5625 * t * (t -= (2.250 / 2.75)) + 0.937500\n\t// \t\telse \t\t\t\t\t return 7.5625 * t * (t -= (2.625 / 2.75)) + 0.984375\n\t// \t}\n\t// },\n\t// \n\t// /*\n\t// \tanimation.play(0.5, 'linear', t => {\n\t// \t\telement.style.opacity = 1-t\n\t// \t}, () => {\n\t// \t\tobj.style.display = 'none'\t\n\t// \t})\n\t// */\n\t// \n\t// jobs   : [],\n\t// active : false,\n\t// \n\t// Job : class {\n\t// \tconstructor (time, easing, loop, end) {\n\t// \t\tthis.end\t= end || function () {}\n\t// \t\tvar start \t= new Date()\n\t// \t\tloop(.0)\n\t// \t\tthis.run = () => {\n\t// \t\t\tvar clock = (new Date() - start) / 1000 / time\n\t// \t\t\tloop(clock < 1.? easing(clock): 1.)\n\t// \t\t\treturn (clock < 1.? clock: 1.)\n\t// \t\t}\n\t// \t}\n\t// },\n\t// \n\t// loop () {\n\t// \tvar jobs = []\n\t// \tthis.jobs.forEach(job => {\n\t// \t\tif (job.run() == 1.)\n\t// \t\t\tjob.end()\n\t// \t\telse \n\t// \t\t\tjobs.push(job)\n\t// \t})\n\t// \tthis.jobs = jobs\n\t// \tif (this.jobs.length > 0)\n\t// \t\twindow.requestAnimationFrame(this.loop.bind(this))\n\t// \telse \n\t// \t\tthis.active = null\n\t// },\n\t// \n\t// play (time, type, loop, end) {\n\t// \tthis.jobs.push(new this.Job(\n\t// \t\ttime, this.easing[type], \n\t// \t\tloop, end\n\t// \t))\n\t// \tif (!this.active) {\n\t// \t\tthis.active = true\n\t// \t\twindow.requestAnimationFrame(this.loop.bind(this))\n\t// \t}\n\t// },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/animation.js","\n\n\nexport default {\n    \n    // _splitQuery('parent.child.element')\n    _splitQuery (query) {\n        var levels = query.split('.')\n        return {\n            level : levels,\n            last  : levels.length - 1\n        }\n    },\n\n    // level({id: [10, 15]}, _splitQuery('id.0'), 20); -> {id: [20, 15]}\n    _level (object, query, value) {\n\t    var path = object\n\t    for (var n = 0; n < query.last; n ++)\n\t    \tpath = path[query.level[n]]\n\t    if (value)\n\t\t    path[query.level[query.last]] = value\n\t\telse \n            return path[query.level[query.last]]\n    },\n\n    // map(workspaces, 'workspace.items.1')\n    map (array, query) {\n        var levels = this._splitQuery(query)\n        return array.map(list => this._level(list, levels))\n    },\n\n    // var bundle = find(workspaces, {id: id});\n    find (array, query) {\n\t    var output = array.slice()\n        for (var i in query) {\n            var temp = []\n            var map = this.map(output, i)\n            for (var n = 0; n < map.length; n ++)\n                if (map[n] == query[i]) \n                    temp.push(output[n])\n            output = temp.slice()\n        }\n        return output\n    },\n\n    // var deleted = del(workspaces, {'title.color': color});\n    delete (array, query) {\n        var deleted = this.find(array, query)\n        deleted.forEach(found => array.splice(array.indexOf(found), 1))\n        return deleted\n    },\n\n\t// updateColumn([{id: 15}, {id: 30}], {id: [20, 15]}); -> [{id: 20}, {id: 15}]\n    updateColumn (array, query) {\n\t    for (var i in query)\n\t        if (array.length == query[i].length) {\n                var levels = this._splitQuery(i)\n\t            array.forEach((object, index) =>\n                    this._level(object, levels, query[i][index]))\n\t        } else console.log('different lenghtes')\n    },\n    \n    //filterMap(workspaces, {_id, 'id', alias: 'name'});\n    filterMap (array, keys) {\n    \tvar output = []\n    \tarray.forEach(original => {\n\t    \tvar object = {}\n\t    \tfor (var key in keys)\n                object[keys[key]] = original[key]\n\t    \toutput.push(object)\n    \t})\n    \treturn output\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/array.js","\n\n\nexport default {\n\n    hsva : class {\n\n\t    constructor (hue, saturation, value, alpha) {\n\t\t    this.hue \t\t= hue\n\t\t    this.saturation = saturation\n\t\t    this.value \t\t= value\n\t\t    this.alpha \t\t= alpha\n\t\t}\n\n\t\tget () {\n\t    \tvar trn = 100 - 50 * this.saturation;\n\t\t    return 'hsla('+\n\t\t    \t360 * this.hue +', '+\n\t\t    \t100 * this.saturation +'%, '+ \n\t\t    \ttrn * this.value +'%, '+\n\t\t    \tthis.alpha + ')'\n\t\t}\n    },\n\n\trand (_alpha) {\n\t\tvar rgb \t= () => {return parseInt(Math.random() * 200 + 55)}\n\t\treturn  'rgba('+ rgb() +', '+ rgb() +', '+ rgb() +', '+ (_alpha? _alpha: 0.3) +')'\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/color.js","\n\n\nimport {val, text} from './fw'\n\nexport default {\n    \n    applyTransformation (element, p, type) {\n        if (type == 'origin') {\n            element.style[this.vendor.transformOrigin]   = `${p.origin.x} ${p.origin.y}`\n            element.style[this.vendor.perspectiveOrigin] = `${p.origin.z}`\n        } else \n            element.style[this.vendor.transform] = \n               `matrix3d(${p.matrix3d.toString()})\n                translate(${p.translate.x}, ${p.translate.y})\n                rotate(${p.rotate})\n                scale(${p.scale.x}, ${p.scale.y})`\n    },\n    \n    computed (element, prop) {\n\t    return parseFloat(\n\t    \tdocument.defaultView\n\t    \t.getComputedStyle(element, null)\n\t    \t.getPropertyValue(prop)\n\t    )\n\t},\n    \n    vendor : (props => {\n        var out = {}\n        if (!val.exists(document)) return out\n        var prefix = [null, 'ms', 'webkit', 'moz', 'o']\n        var div    = document.createElement('div')\n        props.forEach(prop => {\n            for (var i = 0; i < prefix.length; i ++) {\n                var p = prefix[i] + prefix[i]? text.capitalize(prop): prop\n                if (val.exists(div.style[p])) {out[prop] = p; break}\n            }\n        })\n        return out\n    })([\n        'transform', \n        'transformOrigin',\n        'perspectiveOrigin',\n        'columnCount',\n        'transition'\n    ]),\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/css.js","\n\n\nimport {css, val} from './fw'\n\nexport default {\n    \n    // create ('div#id .class .class')\n    create (query = '') {\n        var classes  = query.replace(/ /g, '').split('.')\n        var tagAndId = []\n        if (classes[0].length == 0) tagAndId = classes[0].split('#')\n        classes.shift()\n        var element = document.createElement(tagAndId[0] || 'div')\n        if (tagAndId.length > 1) element.id = tagAndId[1]\n        classes.forEach(style => element.classList.add(style))\n        return element\n    },\n    \n    template (model, tmp, callback) {\n        var init   = true\n        var active = true\n        var render = function () {\n            var result = tmp.replace(/{([A-z 0-9]+)}/g, ($1, $2) => {\n                if (init) {\n                    var val = model[$2]\n                    Object.defineProperty(model, $2, {\n                        set (value) {\n                            val = value\n                            if (active) render()\n                        },\n                        get : () => val\n                    })\n                }\n                return model[$2]\n            })\n            callback(result)\n            init = false\n        }\n        render()\n        return {\n            on () {\n                active = true\n                return this\n            },\n            off () {\n                active = false\n                return this\n            },\n            get active () {return active}\n        }\n    },\n    \n    fromString (html) {\n\t\tvar parent = document.createElement('div')\n\t    parent.innerHTML = html\n\t    return parent.firstChild\n\t},\n    \n\tprepend (parent, child) {\n    \tif (parent.firstChild) \n    \t\tparent.insertBefore(child, parent.firstChild) \n    \telse \n    \t\tparent.appendChild(child)\n\t},\n    \n\tclone (dom) {\n\t\tvar clone = dom.cloneNode(true);\n\t\tclone.remove = () => this.parentNode.removeChild(this)\n\t\tdom.parentNode.appendChild(clone)\n\t\treturn clone\n\t},\n    \n\tselection (mode) {\n\t\tdocument.ondragstart   =\n\t\tdocument.onselectstart = mode ? null : () => false\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/dom.js","\n\n\nimport {val} from './fw'\n\nexport default {\n\t\n\tclone (object, methods) {\n\t\treturn Object.assign(Object.assign({}, object), methods)\n\t\t//return JSON.parse(JSON.stringify(_object))\n\t},\n\t\n\tuuid() {\n\t  \treturn `dd-d-d-d-ddd`.replace(/d/g, () =>\n\t\t\tMath.floor((1 + Math.random()) * 0x10000)\n\t\t\t\t.toString(16).substring(1))\n  \t},\n\t\n\tuploadFile (input, onready) {\n\t\tinput.onchange = (() => {\n\t\t\tvar event \t= window.event\n\t\t\tvar files \t= event.target.files\n\t\t\tvar output\t= []\n\t\t\tfor (var i = 0; i < files.length; i ++)\n\t\t\t\tthis.readFile(files[i], function (file) {\n\t\t\t\t\toutput.push(file)\n\t\t\t\t\tif (output.length == files.length) onready(output)\n\t\t\t\t})\n\t\t}).bind(this)\n\t},\n\t\n\tcompressImage (list, scale, onload, quality) {\n\t\tvar compressor = (url, render) => {\n\t\t\tvar image = document.createElement('img')\n\t\t\timage.onload = function () {\n\t\t\t\tvar canvas    = document.createElement('canvas')\n\t\t\t\tvar context   = canvas.getContext('2d')\n\t\t\t\tvar width     = this.width  * scale\n\t\t\t\tvar height    = this.height * scale\n\t\t\t\tcanvas.width  = width\n\t\t\t\tcanvas.height = height\n\t\t\t\tcontext.drawImage(this, 0, 0, width, height)\n\t\t\t\trender(canvas.toDataURL('image/jpeg', quality || 1))\n\t\t\t}\n\t\t\timage.src = url\n\t\t}\n\t\tif (val.isArr(list))\n\t\t\tlist.forEach((url, i) => {\n\t\t\t\tcompressor(url, scaled => {\n\t\t\t\t\tlist[i] = scaled\n\t\t\t\t\tif (i == list.length - 1) onload(urls)\n\t\t\t\t})\n\t\t\t})\n\t\telse\n\t\t\tcompressor(list, onload)\n\t},\n\n/*\n\tdecodeBase64 (dataString) {\n\t\tif (typeof Buffer !== undefined) {\n\t\t\tvar matches = dataString.match(/^data:([A-Za-z-+\\/]+);base64,(.+)$/)\n\t\t\tif (matches.length !== 3) return new Error('invalid input string')\n\t\t\treturn {\n\t\t\t\ttype : matches[1],\n\t\t\t\tdata : new Buffer(matches[2], 'base64')\n\t\t\t}\n\t\t}\n\t},\n*/\n    \n    cookie : {\n\n\t    get (cookies) {\n\t        var object = {}\n\t\t\tif (cookies) {\n\t\t        var params = cookies.split('; ')\n\t\t        params.forEach(param => {\n\t\t            var bundle = param.split('=')\n\t\t            object[bundle[0]] = bundle[1]\n\t\t        })\n\t\t    }\n\t        return object\n\t    },\n\t    \n\t    set (cookies) {\n\t        var string = ''\n\t        for (var key in cookies) string += key +'='+ cookies[key] +'; '\n\t        return string\n\t    },\n\t\n\t    del (cookies, key) {\n\t\t    cookies[key] = '; expires=Thu, 01 Jan 1970 00:00:01 GMT'\n\t    },\n    },\n\n\tsearch : {\n\n\t\tget (address) {\n\t        var object = {}\n\t        var query = address.split('?')[1]\n\t\t\tif (query && query.length > 0) {\n\t\t        var params = query.split('&')\n\t\t        params.forEach(param => {\n\t\t            var bundle = param.split('=')\n\t\t            object[bundle[0]] = bundle[1]\n\t\t        })\n\t\t    }\n\t        return object\n\t    },\n\t\n\t    set (query) {\n\t        var string = ''\n\t        for (var key in query)\n\t            string += key +'='+ query[key] +\n\t                (Object.keys(query).length > 1? '&': '')\n\t        return string\n\t    },\n\t},\n\n    timeout : function (duration, interval, check, execute, timeout) {\n        var count\t= duration / interval\n        var loop \t= setInterval (() => {\n            check (success => {\n                if (success) {\n                    execute()\n                    clearInterval(loop)\n                }\n            })\n            if (count == 0) {\n                timeout && timeout()\n                clearInterval(loop)\n            }\n            count --\n        }, interval * 1000)\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/etc.js","\n\n\nimport {arr, val, vec, debug, Layer} from './fw'\n\nexport default {\n    \n    Machine : class {\n        \n        constructor (namespace = 'event', debug = false) {\n            this.namespace = `[${namespace}]`\n            this.debug     = debug\n            this.topics    = {}\n        }\n        \n        on (topic, fn) {\n            if (this.debug) \n                console.log(`${this.namespace} subscribed to`, topic)\n            if (!this.topics[topic])\n                this.topics[topic] = []\n            this.topics[topic].push(fn)\n            return this\n        }\n        \n        emit (topic, t) {\n            if (this.debug) \n                console.log(`${this.namespace} fired`, topic)\n            if (this.topics[topic])\n                this.topics[topic].forEach(fn => fn(t))\n            return this\n        }\n    },\n    \n    listener (dom, type, callback, flag) {\n        var active = false\n        var out = {\n            on () {\n                if (!active) {\n                    active = true\n                    dom.addEventListener(type, callback, flag)\n                }\n                return out\n            },\n            off () {\n                if (active) {\n                    active = false\n                    dom.removeEventListener(type, callback, flag)\n                }\n                return out\n            },\n            get active () {return active}\n        }\n        return out\n    },\n    \n    support (element, type) {\n        var supported = `on${type}` in element\n        if (!supported) {\n            element.setAttribute(type, null)\n            supported = typeof element[type] === 'function'\n        }\n        return supported\n    },\n    \n    types : (() => {\n        if (val.exists(window)) {\n\t        var isTouch = 'ontouchstart' in window // window.PointerEvent\n\t        return {\n\t            isTouch,\n                tap    : 'click',\n\t            down   : isTouch? 'touchstart': 'mousedown',\n\t            move   : isTouch? 'touchmove': 'mousemove',\n\t            up     : isTouch? 'touchend': 'mouseup',\n                in     : isTouch? null: 'mouseenter',\n\t            out    : isTouch? null: 'mouseleave',\n                cancel : isTouch? 'touchcancel': null,\n                scroll : 'scroll',\n                change : 'change'\n\t        }\n        }\n    })(),\n    \n    /*\n        var dropZone = layer.on('file', {\n            in () {\n                layer.bg({color: 'red'})\n            },\n            out () {\n                layer.bg({color: null})\n            },\n            drop (data) {\n                console.log(data)\n            }\n        }).on()    \n    */\n    \n\tfileDrop (layer, t = {}) {\n        var over = this.listener(layer.dom, 'dragover',  e => {\n            t.in && t.in({e})\n            leave.on()\n            drop.on()\n            e.preventDefault()\n        })\n        var leave = this.listener(layer.dom, 'dragleave', e => {\n            t.out && t.out({e})\n            leave.off()\n            drop.off()\n            e.preventDefault()\n        })\n        var drop = this.listener(layer.dom, 'drop', e => {\n            t.out && t.out({e})\n        \tvar read = (file, callback) => {\n        \t    if (/\\.(jpe?g|png|gif)$/i.test(file.name)) {\n        \t\t\tvar reader = new FileReader()\n        \t\t\treader.onload = function (e) {\n        \t\t\t\tcallback({\n                            name : file.name, \n                            data : this.result\n                        })\n                    }\n        \t\t\treader.readAsDataURL(file)\n        \t    }\n        \t}\n\t\t\tvar files = e.dataTransfer.files\n\t\t\tvar out\t= []\n\t\t\tfor (var i = 0; i < files.length; i ++)\n\t\t\t\tread(files[i], data => {\n\t\t\t\t\tout.push(data)\n\t\t\t\t\tif (out.length == files.length && t.drop)\n                        t.drop(out)\n\t\t\t\t})\n\t\t\te.preventDefault()\n        })\n        return {\n            on () {\n                over.on()\n                return this\n            },\n            off () {\n                over.off()\n                return this\n            },\n            get active () {return over.active}\n        }\n\t},\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/event.js","\n\n\nimport {vec, val, math} from './fw'\n\nexport default {\n\t\n\t// viewport offset\n\tvpo (dom) {\n\t\tvar rect = dom.getBoundingClientRect()\n    \treturn {\n\t\t\tposition : new vec(rect.left,  rect.top),\n\t\t\topposite : new vec(rect.right, rect.bottom),\n\t\t\tsize     : new vec(rect.width, rect.height)\n\t\t}\n\t},\n\n\tvp () {\n\t\treturn new vec(\n\t\t\tdocument.documentElement.clientWidth,\n\t\t\tdocument.documentElement.clientHeight\n\t\t)\n\t},\n\t\n\tcenter (params) {\n\t\t// for regular vector system\n\t\tif (val.isVec(params))\n\t\t\treturn params.position.add(params.size.scale(.5))\n\t\t// for dimension system\n\t\telse if (val.isDim(params)) {\n\t\t\tvar rect = this.dimvec(params)\n\t\t\treturn rect.position.add(rect.size.scale(.5))\n\t\t}\n\t},\n\t\n\tdimvec (dims) {\n\t\tvar size = \n\t\t\tdims.w? new vec(dims.w, dims.h):\n\t\t\tdims.r? new vec(dims.r - dims.l, dims.b - dims.t): null\n\t\treturn {size, position: new vec(dims.l, dims.t)}\n\t},\n\n\tvecdim (position, size) {\n\t\tvar box = {\n\t\t\tl: position.x, w: size.x,\n\t\t\tt: position.y, h: size.y\n\t\t}\n\t\tbox.r = box.l + box.w\n\t\tbox.b = box.t + box.h\n\t\treturn box\n\t},\n\n\tboxCollision (a, b) {\n\t\treturn (\n\t\t\ta.l < b.l + b.w && a.t < b.t + b.h\n\t\t&&  b.l < a.l + a.w && b.t < a.t + a.h\n\t\t)\n\t},\n\t\n\thitTest (a, pointer) {\n\t\treturn (\n\t\t\ta.l < pointer.x && pointer.x < a.l + a.w\n\t\t&&  a.t < pointer.y && pointer.y < a.t + a.h\n\t\t)\n\t},\n\t\n\tgetSide (pointer, size, border) {\n\t\tvar border  = .5 * border\n\t\treturn {\n\t\t\tx: pointer.x < border? 'l': size.x - pointer.x < border? 'r': 'c',\n\t\t\ty: pointer.y < border? 't': size.y - pointer.y < border? 'b': 'c'\n\t\t}\n\t},\n\t\n\t// {x: 'l|c|r', y: 't|m|b'}\n\tgetCursor (side) {\n\t\treturn side? {\n\t\t\tt: {l: 'nw-resize', c: 'n-resize', r: 'ne-resize'},\n\t\t\tc: {l:  'w-resize', c:     'move', r:  'e-resize'},\n\t\t\tb: {l: 'sw-resize', c: 's-resize', r: 'se-resize'}\n\t\t}[side.y][side.x]: null\t\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/geometry.js","\n\n\nimport {\n    animation, vec, event, math, \n    Screen, matrix, Layer, val,\n    geo, etc\n} from './fw'\n\nvar animationPreset = {\n    time : .3, \n    ease : 'cubic-bezier(.1, .5, .1, 1.2)'\n}\n\nexport default {\n    \n    wheel (layer, transport = {}) {\n        return layer.on('mousewheel', e => {\n            var vector = 0\n            var w = e.wheelDelta\n            var d = e.detail\n            if (d) {\n                // Opera\n                if (w) vector = w / d / 40 * d > 0? 1: -1\n                // Firefox\n                else vector = -d / 3\n            // IE / Safari / Chrome\n            } else vector = w / 120\n            transport({e, vector})\n        })\n    },\n    \n    resize (layer, transport = {}) {\n        \n        return {\n            get active () {\n            },\n            on () {\n                return this\n            },\n            off () {\n                return this\n            },\n            cancel () {\n                \n            }\n        }\n    },\n    \n    // resize (layer, transport = {}) {\n    //     var border = 20\n    //     var side = {x: null, y: null}\n    //     var cursorHover = event.listener(layer.dom, 'mousemove', e => {\n    //         var rect    = layer.rect\n    //         var pointer = new vec(e.clientX, e.clientY)\n    //         side = geo.getSide(pointer.sub(rect.position), rect.size, border)\n    //         layer.dom.style.cursor = geo.getCursor(side)\n    //     })\n    //     var drag = this._dragMouse(layer, {\n    //         down (t) {\n    //             cursorHover.off()\n    //         },\n    //         move (t) {\n    // \n    //         },\n    //         up (t) {\n    //             \n    //         },\n    //         cancel (t) {\n    //             cursorHover.on()\n    //         }\n    //     })\n    //     return {\n    //         get active () {\n    //             return cursorHover.status\n    //         },\n    //         on () {\n    //             drag.on()\n    //             cursorHover.on()\n    //             return this\n    //         },\n    //         off () {\n    //             drag.off()\n    //             cursorHover.off()\n    //             return this\n    //         },\n    //         cancel () {\n    //             \n    //         },\n    //     }\n    // },\n    \n    drag (layer, transport = {}) {\n        var translate = new vec()\n        var method = event.types.isTouch? '_initMultitouchGesture': '_dragMouse'\n        return this[method](layer, etc.clone(transport, {\n            move (t) {\n                if (transport.move && transport.move(t) !== false || !transport.move) {\n                    translate = t.translate\n                    if (t.constraints) \n                        translate.range(t.constraints, true)\n                    animation.draw(`${layer.identifier}: translate.move`,\n                        () => layer.matrix = new matrix().translate(translate))\n                }\n            },\n            cancel (t) {\n                t.translate = translate\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel)\n                    animation.draw(`${layer.identifier}: translate.cancel`,\n                        () => layer.animate(animationPreset, {matrix : new matrix()}))\n            }\n        }), 'translate')\n    },\n    \n    pinchToRotate (layer, transport = {}) {\n        return this._initMultitouchGesture(layer, etc.clone(transport, {\n            move (t) {\n                if (transport.move && transport.move(t) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: rotate.move`,\n                        () => layer.rotate = t.rotate)\n            },\n            cancel (t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel)\n                    animation.draw(`${layer.identifier}: rotate.cancel`, \n                        () => layer.animate(animationPreset, {rotate : 0}))\n            }\n        }), 'rotate')\n    },\n    \n    pinchToZoom (layer, transport = {}) {\n        return this._initMultitouchGesture(layer, etc.clone(transport, {\n            move (t) {\n                if (transport.move && transport.move(t) !== false || !transport.move)\n                    animation.draw(`${layer.identifier}: scale.move`, () => {\n                        layer.scale = t.scale\n                    })\n            },\n            cancel (t) {\n                if (transport.cancel && transport.cancel(t) !== false || !transport.cancel)\n                    animation.draw(`${layer.identifier}: scale.cancel`, () => {\n                        layer.animate(animationPreset, {\n                            scale : 1\n                        })\n                    })\n            }\n        }), 'scale')\n    },\n    \n    /*\n        this is the second layer of interaction\n        for mouse are separate functions for dragging\n        for touch is one single that splits translation, rotation and scale\n    */\n    \n    _dragMouse (layer, transport) {\n        var down     = new vec()\n        var velocity = new vec()\n        return this._dragMouseEventPattern(layer, etc.clone(transport, {\n            down (t) {\n                velocity\n                down = velocity = t.pointer\n                transport.down && transport.down({\n                    event : t.event, \n                    down\n                })\n            },\n            move (t) {\n                var translate = t.pointer.sub(down)\n                transport.move && transport.move({\n                    event     : t.event, \n                    translate,\n                    velocity  : translate.sub(velocity)\n                })\n                velocity = translate\n            },\n            cancel (t) {\n                transport.cancel(t)\n                down.reset()\n                velocity.reset()\n            },\n        }))\n    },\n    \n    _initMultitouchGesture (layer, transport, type) {\n        var address = 'transformationTouchEventLink'\n        if (!layer._props[address]) {\n            var listener   = new event.Machine('transformationTouchEventLink')\n            var transport_ = {constraints: {}}\n            ;['init', 'down', 'move', 'up', 'cancel'].forEach(key => \n                transport_[key] = t => listener.emit(key, t))\n            var toggle = this._multitouch(layer, transport_)\n            layer._props[address] = {\n                listener,\n                transport : transport_,\n                cancel    : toggle.cancel,\n                checkToggle () {\n                    var flag = 'off'\n                    var property = ['translate', 'rotate', 'scale']\n                    for (var i = 0; i < property.length; i ++)\n                        if (transport_[property[i]]) {flag = 'on'; break}\n                    toggle[flag]()\n                }\n            }\n        }\n        var link = layer._props[address]\n        for (var key in transport)\n            link.listener.on(key, ((method, key) => {\n                return key == 'move'? t => {\n                    // adapt output for every type\n                    if (type == 'translate') t.translate = t.transformation.getTranslation()\n                    if (type == 'rotate') t.rotate = t.transformation.getRotation().z\n                    if (type == 'scale') t.scale = t.transformation.getScale().z\n                    // execute event function\n                    method(t)\n                    // apply new transport to the whole\n                    // transformation multitouch event\n                    link.transport.constraints[type] = t.constraints\n                    delete t.constraints\n                }: method\n            })(transport[key], key))\n        return {\n            get active () {\n                return link.transport[type]\n            },\n            on () {\n                link.transport[type] = true\n                link.checkToggle()\n                return this\n            },\n            off () {\n                link.transport[type] = false\n                link.checkToggle()\n                return this\n            },\n            cancel : link.cancel,\n        }\n    },\n    \n    _multitouch (layer, transport) {\n        // some shared values\n        var touches      = {}\n        var scale_rotate = new matrix()\n        var lastState    = new matrix()\n        var origin       = new vec()\n        var center       = new vec()\n        var translate    = new vec()\n        // export control interface for gesture events\n        return this._dragTouchEventPattern(layer, {\n            init (t) {\n                // get at start of a session \n                // a center of a layer\n                center = layer.center\n            },\n            down (t) {\n                // fire interface function\n                transport.down && transport.down(t)\n                // calculate average vector aka origin and\n                // bring this origin on rotated and scaled object back\n                origin = vec.prototype.mix(t.pointers)\n                    .sub(center)\n                    .sub(translate)\n            },\n            move (t) {\n                // define max and min movement for rotation and scale\n                // translation constraints happens later on touch and mouse together\n                var rotate = t.event.rotation\n                var rConst = transport.constraints.rotate\n                if (rConst) {\n                    var last = lastState.getRotation().z\n                    rotate = math.rubberRange(\n                    rotate + last, rConst.min, rConst.max,\n                    rConst.length || 10, rConst.onLimit) - last\n                }\n                var scale  = t.event.scale\n                var sConst = transport.constraints.scale\n                if (sConst) {\n                    var last = lastState.getScale().z\n                    scale = math.rubberRange(\n                    scale + last, sConst.min + 1, sConst.max + 1,\n                    sConst.length || .2, sConst.onLimit) - last\n                }\n                // calculate drag difference\n                var velocity = new vec()\n                for (var id in t.pointers) {\n                    // if a touch is not initialized, \n                    // save its vector to the list\n                    if (!touches[id]) touches[id] = t.pointers[id]\n                    // calculate difference between frames\n                    velocity\n                        .add(t.pointers[id], true)\n                        .sub(touches[id], true)\n                    // save value for the next time\n                    touches[id] = t.pointers[id]\n                }\n                // calculate average difference between every dragged touch\n                velocity.div(new vec().fill(t.event.targetTouches.length), true)\n                // apply difference to persistent translation vector\n                translate.add(velocity, true)\n                // modify scale and rotation matrix\n                var drag  = new matrix()\n                var pinch = new matrix().translate(origin.scale(-1))\n                if (transport.translate) drag.translate(translate, true)\n                if (transport.rotate) pinch.rotate(rotate, true)\n                if (transport.scale) pinch.scale(scale, true)\n                scale_rotate = lastState.multiply(pinch.translate(origin))\n                // get final transformation\n                var transformation = scale_rotate.multiply(drag)\n                // export values\n                transport.move && transport.move({\n                    event : t.event,\n                    transformation,\n                    velocity\n                })\n            },\n            up (t) {\n                // apply matrix for the next drag action\n                if (t.event.targetTouches.length > 0) lastState = scale_rotate\n                transport.up && transport.up(t)\n            },\n            cancel (t) {\n                // export up event\n                transport.cancel && transport.cancel(t)\n                center.reset()\n                lastState.reset()\n                translate.reset()\n                touches = {}\n            },\n        })\n    },\n    \n    /*\n        this is the lowest level of mouse and touch interaction principles\n        support of four main methods: down, move, up and cancel\n    */\n    \n    _dragMouseEventPattern (layer, transport) {\n        var down = event.listener(layer.dom, 'mousedown', e => {\n            if (!move.active) {\n                move.on()\n                up.on()\n            }\n            transport.down && transport.down({\n                event   : e, \n                pointer : new vec(e.clientX, e.clientY)\n            })\n            e.preventDefault()\n        })\n        var move = event.listener(document, 'mousemove', e => {\n            transport.move && transport.move({\n                event   : e,\n                pointer : new vec(e.clientX, e.clientY)\n            })\n            e.preventDefault()\n        })\n        var up = event.listener(document, 'mouseup', e => {\n            var t = {\n                event   : e,\n                pointer : new vec(e.clientX, e.clientY)\n            }\n            transport.up && transport.up(t)\n            cancel(t)\n            e.preventDefault()\n        })\n        var cancel = (t = {}) => {\n            move.off()\n            up.off()\n            transport.cancel && transport.cancel(t)\n        }\n        return {\n            get active () {\n                return down.active\n            },\n            on () {\n                down.on()\n                return this\n            },\n            off () {\n                cancel()\n                down.off()\n                return this\n            },\n            cancel,\n        }\n    },\n    \n    _dragTouchEventPattern (layer, transport) {\n        var convertTouches = fingers => {\n            var out = {}\n            for (var i = 0; i < fingers.length; i ++) \n                out[fingers[i].identifier] = new vec(\n                    fingers[i].clientX,\n                    fingers[i].clientY\n                )\n            return out\n        }\n        var down = event.listener(layer.dom, 'touchstart', e => {\n            if (!move.active) {\n                move.on()\n                up.on()\n                transport.init({event: e})\n            }\n            transport.down && transport.down({\n                event    : e,\n                pointers : convertTouches(e.targetTouches)\n            })\n            e.preventDefault()\n        })\n        var move = event.listener(layer.dom, 'touchmove', e => {\n            transport.move && transport.move({\n                event    : e,\n                pointers : convertTouches(e.targetTouches)\n            })\n            e.preventDefault()\n        })\n        var up = event.listener(layer.dom, 'touchend', e => {\n            var t = {event: e}\n            transport.up && transport.up(t)\n            if (e.targetTouches.length == 0) cancel(t)\n            e.preventDefault()\n        })\n        var cancel = (t = {}) => {\n            move.off()\n            up.off()\n            transport.cancel && transport.cancel(t)\n        }\n        return {\n            get active () {\n                return down.active\n            },\n            on () {\n                down.on()\n                return this\n            },\n            off () {\n                cancel()\n                down.off()\n                return this\n            },\n            cancel,\n        }\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/gesture.js","\n\nimport {val} from './fw'\n\nexport default {\n\t\n\tto (t, a, b) {\n\t\treturn this.map(t, 0, 1, a, b, true)\n\t},\n\n\tmap (value, aMin, aMax, bMin, bMax, clamp) {\n\t\tvar x = clamp == true? (\n\t\t\tvalue < aMin? aMin:\n\t\t\tvalue > aMax? aMax: value\n\t\t):  value\n\t\treturn (\n\t\t\t(x - aMin) / \n\t\t\t(aMax - aMin) * \n\t\t\t(bMax - bMin) + bMin\n\t\t)\n\t},\n\t\n\tmin (x, lim) {\n\t\treturn x > lim? x: lim\n\t},\n\t\n\tmax (x, lim) {\n\t\treturn x < lim? x: lim\n\t},\n\t\n\trange (min, val, max) {\n\t\treturn this.max(this.min(val, min), max)\n\t},\n\t\n\trandInt (min, max) {\n\t\treturn Math.floor(this.to(Math.random(), min, max))\n\t},\n\t\n\tisEqual (a, b, tolerance = 1) {\n\t\tvar shit = Math.pow(10, -tolerance)\n\t\treturn a - shit < b && b < a + shit\n\t},\n\t\n\tbinarySearch (length, check) {\n        var i =  Math.floor(.5 * length) // result\n\t\tvar h = i // pointer\n        while (h > 1) {\n            h = Math.round(.5 * h)\n            i += (check(i)? 1: -1) * h\n\t\t}\n        check(i, true)\n        return i\n\t},\n\t\n\tlinearInterpolation (t, points) {\n\t\t// Init\n\t\tvar params \t= []\n\t\tvar x \t\t= 0\n\t\t// Find Sector\n\t\tfor (var i = 0; i < points.length - 1; i ++) \n\t\t\tif (t >= points[i][0]) x = i; else break\n\t\t// Find Left and Right Side\n\t\tvar lValue = points[x]\n\t\tvar rValue = points[x+1]\n\t\t// Interpolate Parameters\n\t\tfor (var i = 1; i < lValue.length; i ++)\n\t\t\tparams.push(this.map(t, lValue[0], rValue[0], lValue[i], rValue[i]))\n\t\t// Return\n\t\treturn params\n\t},\n\n\tgetValueFromDictionary (value, list) {\n\t\tvar out\n\t\tfor (var i = 0; i < list.length; i ++)\n\t\t\tif \t(value >= list[i][0]) out = list[i][1]\n\t\treturn out\n\t},\n\n\trubberRange (value, min, max, range, state) {\n        // https://www.desmos.com/calculator\n        // Based on 1-pow(1+x,-1)\n\t\tvar factor = 1.3\n\t\tvar isMax  = val.exists(min)\n\t\tvar isMin  = val.exists(max)\n\t\tif (isMax || isMin) {\n\t\t\tvar dir   = value < min\n\t\t\tvar range = (dir? 1: -1) * range\n\t\t\tvar len   = dir? min: max\n\t\t\tvar x     = (len - value) / range\n\t\t\tvar y     = len - range * (1 - Math.pow(1 + x, -factor))\n\t\t}\n\t\tvar maxState = isMax && value < min\n\t\tvar minState = isMin && value > max\n\t\tif (state) state(maxState? 'max': minState? 'min': null)\n\t\treturn (maxState || minState? y: value)\n\t},\n\t\n\t// var buffer = new Buffer(10) then var value = buffer.get(23.445) \n    buffer : class {\n\t\t\n\t\tconstructor (size) {\n        \tthis.array = []\n        \tthis.size  = size\n        }\n\t\t\n        get (value) {\n            var sum    = 0\n            var length = this.array.length\n            if (length > this.size) this.array.shift()\n            this.array.push(value)\n            for (var i = 0; i < length; i ++) \n            \tif (isFinite(this.array[i])) \n                    sum += parseFloat(this.array[i])\n            return sum / length\n        }\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/math.js","\n\n\nimport {val, vec} from './fw'\n\n/*\n    // TODO: http://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n    http://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/\n    https://github.com/infamous/boxer/blob/master/src/math/Quaternion.js\n    http://jsfiddle.net/dFrHS/1/\n    http://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/\n*/\n\nvar init = [\n    1, 0, 0, 0, \n    0, 1, 0, 0,\n    0, 0, 1, 0, \n    0, 0, 0, 1\n]\n\nexport default class Matrix {\n    \n    constructor (value) {\n        this.value = \n            !val.exists(value)? init:\n             val.isStr(value)? this.fromString(value): value\n    }\n    \n    multiply (matrix, set) {\n        var a = this.value\n        var b = matrix instanceof Matrix? matrix.value: matrix\n        // 4x4 Matrix Multiplication\n        var result = [\n\t\t\ta[ 0]*b[0] + a[ 1]*b[4] + a[ 2]*b[ 8] + a[ 3]*b[12],\n\t\t\ta[ 0]*b[1] + a[ 1]*b[5] + a[ 2]*b[ 9] + a[ 3]*b[13],\n\t\t\ta[ 0]*b[2] + a[ 1]*b[6] + a[ 2]*b[10] + a[ 3]*b[14],\n\t\t\ta[ 0]*b[3] + a[ 1]*b[7] + a[ 2]*b[11] + a[ 3]*b[15],\n\t\t\ta[ 4]*b[0] + a[ 5]*b[4] + a[ 6]*b[ 8] + a[ 7]*b[12],\n\t\t\ta[ 4]*b[1] + a[ 5]*b[5] + a[ 6]*b[ 9] + a[ 7]*b[13],\n\t\t\ta[ 4]*b[2] + a[ 5]*b[6] + a[ 6]*b[10] + a[ 7]*b[14],\n\t\t\ta[ 4]*b[3] + a[ 5]*b[7] + a[ 6]*b[11] + a[ 7]*b[15],\n\t\t\ta[ 8]*b[0] + a[ 9]*b[4] + a[10]*b[ 8] + a[11]*b[12],\n\t\t\ta[ 8]*b[1] + a[ 9]*b[5] + a[10]*b[ 9] + a[11]*b[13],\n\t\t\ta[ 8]*b[2] + a[ 9]*b[6] + a[10]*b[10] + a[11]*b[14],\n\t\t\ta[ 8]*b[3] + a[ 9]*b[7] + a[10]*b[11] + a[11]*b[15],\n\t\t\ta[12]*b[0] + a[13]*b[4] + a[14]*b[ 8] + a[15]*b[12],\n\t\t\ta[12]*b[1] + a[13]*b[5] + a[14]*b[ 9] + a[15]*b[13],\n\t\t\ta[12]*b[2] + a[13]*b[6] + a[14]*b[10] + a[15]*b[14],\n\t\t\ta[12]*b[3] + a[13]*b[7] + a[14]*b[11] + a[15]*b[15]\n\t\t]\n        if (set) {\n            this.value = result\n            return this\n        } else \n            return new Matrix(result)\n\t}\n    \n    /* \n        extract floats \n        from 'matrix3d(0, -1, 0.182, -0.465)'\n        to [0, -1, 0.182, -0.46]\n    */\n    \n    fromCss (string) {\n        return string\n            .match(/-?(\\d+(.\\d+)?)(?=,|\\))/g)\n            .map(parseFloat)\n    }\n    \n    toCss () {\n        return `matrix3d(${this.toString()})`\n    }\n    \n    toString() {\n        return this.value.join(',')\n    }\n    \n    translate (v, set) {\n        var {x,y,z} = v\n        return this.multiply([\n            1, 0, 0, 0, \n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            x, y, z, 1\n        ], set)\n    }\n    \n    getTranslation () {\n        return new vec(\n            this.value[12], \n            this.value[13], \n            this.value[14]\n        )\n    }\n    \n    scale (v, set) {\n        if (val.isNum(v))\n            return this.scale(new vec().fill(v), set)\n        else {\n            var {x,y,z} = v\n            return this.multiply([\n                x, 0, 0, 0, \n                0, y, 0, 0,\n                0, 0, z, 0, \n                0, 0, 0, 1\n            ], set)\n        }\n    }\n    \n    getScale () {\n        return new vec(\n            this.value[0], \n            this.value[5], \n            this.value[10]\n        )\n    }\n    \n    rotateX (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\t1, 0, 0, 0, \n            0, c,-s, 0,\n\t\t\t0, s, c, 0, \n            0, 0, 0, 1\n\t\t], set)\n\t}\n    \n\trotateY (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\t c, 0, s, 0, \n             0, 1, 0, 0,\n\t\t\t-s, 0, c, 0, \n             0, 0, 0, 1\n\t\t], set)\n\t}\n    \n\trotateZ (angle, set) {\n\t\treturn this._rotate(angle, (c, s) => [\n\t\t\tc,-s, 0, 0, \n            s, c, 0, 0,\n\t\t\t0, 0, 1, 0, \n            0, 0, 0, 1\n\t\t], set)\n\t}\n    \n    _rotate (deg, template, set) {\n        var rad = -deg * Math.PI / 180\n\t\treturn this.multiply(template(Math.cos(rad), Math.sin(rad)), set)\n    }\n    \n    rotate (v, set) {\n        if (val.isNum(v))\n            return this.rotateZ(v, set)\n        else {\n            return this\n                .rotateX(v.x, set)\n                .rotateY(v.y, set)\n                .rotateZ(v.z, set)\n        }\n    }\n    \n    getRotation () {\n        return new vec(\n            Math.atan2(this.value[9], this.value[10]),\n            Math.asin(-this.value[8]),\n            Math.atan2(this.value[4], this.value[0])\n        ).apply(axis => - axis.value * 180 / Math.PI)\n    }\n    \n    resetRotation () {\n        [0, 1, 2, 4, 5, 6, 8, 9, 10].forEach(i => this.value[i] = init[i])\n        return this\n    }\n    \n    // projectionMapping (lt, lb, rt, rb) {\n    //     var w = 1, h = 1;\n    //     var adj = function (m) { return [\n    //         m[4]*m[8]-m[5]*m[7], m[2]*m[7]-m[1]*m[8], m[1]*m[5]-m[2]*m[4],\n    //         m[5]*m[6]-m[3]*m[8], m[0]*m[8]-m[2]*m[6], m[2]*m[3]-m[0]*m[5],\n    //         m[3]*m[7]-m[4]*m[6], m[1]*m[6]-m[0]*m[7], m[0]*m[4]-m[1]*m[3]\n    //     ]}\n    //     var multmv = function (m, v) { return [\n    //         m[0]*v[0] + m[1]*v[1] + m[2]*v[2],\n    //         m[3]*v[0] + m[4]*v[1] + m[5]*v[2],\n    //         m[6]*v[0] + m[7]*v[1] + m[8]*v[2]\n    //     ]}\n    //     var multmm = function (a, b) {\n    //         var c = Array(9)\n    //         for (var i = 0; i != 3; ++i)\n    //             for (var j = 0; j != 3; ++j) {\n    //                 var cij = 0\n    //                 for (var k = 0; k != 3; ++k)\n    //                     cij += a[3*i + k]*b[3*k + j]\n    //                 c[3*i + j] = cij\n    //             }\n    //         return c\n    //     }\n    //     var basisToPoints = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    //         var m = [\n    //             x1, x2, x3,\n    //             y1, y2, y3,\n    //              1,  1,  1\n    //         ]\n    //         var v = multmv(adj(m), [x4, y4, 1])\n    //         return multmm(m, [\n    //             v[0], 0, 0,\n    //             0, v[1], 0,\n    //             0, 0, v[2]\n    //         ])\n    //     }\n    //     var s = basisToPoints(\n    //         0, 0, w, 0, \n    //         0, h, w, h\n    //     )\n    //     var d = basisToPoints(\n    //         lt.x, lt.y, lb.x, lb.y, \n    //         rt.x, rt.y, rb.x, rb.y\n    //     )\n    //     var t = multmm(d, adj(s))\n    //     for (i = 0; i != 9; ++i) t[i] = t[i]/t[8];\n    //     return [\n    //         t[0], t[3], 0, t[6],\n    //         t[1], t[4], 0, t[7],\n    //            0,    0, 1,    0,\n    //         t[2], t[5], 0, t[8]\n    //     ]\n    // }\n    \n    reset () {\n        this.value = init\n        return this\n    }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/matrix.js","\n\n\nimport {val, text, math, etc, arr} from './fw'\n\nvar assets = {\n    signs : ['', ',', '.', '?', '!'],\n    words : 'accusam aliquyam amet at clita consetetur diam dolor dolore dolores duo ea eirmod elitr eos erat est et gubergren invidunt ipsum justo kasd labore lorem magna no nonumy rebum sad sanctus sea sed sit stet takimata tempor ut vero voluptua'.split(' '),\n    image : {\n        mac : ['Abstract', 'Antelope Canyon', 'Bahamas Aerial', 'Beach', 'Blue Pond', 'Bristle Grass', 'Brushes', 'Circles', 'Death Valley', 'Desert', 'Ducks on a Misty Pond', 'Eagle & Waterfall', 'Earth and Moon', 'Earth Horizon', 'El Capitan 2', 'El Capitan', 'Elephant', 'Flamingos', 'Floating Ice', 'Floating Leaves', 'Foggy Forest', 'Forest in Mist', 'Foxtail Barley', 'Frog', 'Galaxy', 'Grass Blades', 'Hawaiian Print', 'Isles', 'Lake', 'Lion', 'Milky Way', 'Moon', 'Mountain Range', 'Mt. Fuji', 'Pink Forest', 'Pink Lotus Flower', 'Poppies', 'Red Bells', 'Rice Paddy', 'Rolling Waves', 'Shapes', 'Sierra 2', 'Sierra', 'Sky', 'Snow', 'Underwater', 'Wave', 'Yosemite 2', 'Yosemite 3', 'Yosemite 4', 'Yosemite 5', 'Yosemite', 'Zebras'],\n        windows : [\n            '...'\n        ],\n        linux : [\n            '...'\n        ]\n    }\n}\n\nvar expressions = {\n    \n    // {type: int, mode: cycle, from: 1}\n    // {type: int, mode: forward, from: 1}\n    // {type: int, mode: random, min: 1, max: 10}\n    int (opt) {\n        return {i: 0, method: 'int', mode: opt.mode, render () {\n            return opt.mode == 'forward' || opt.mode == 'loop'?\n                opt.from + this.i ++:\n            opt.mode == 'random'?\n                Math.floor(math.to(Math.random(), opt.min, opt.max)):\n                this.i\n        }}\n    },\n    \n    // {type: string, mode: text, count: 20}\n    // {type: string, mode: text, min: 20, max 100}\n    string (opt) {\n        return {render () {\n            var count = \n                opt.count? opt.count:\n                Math.floor(math.to(Math.random(), opt.min, opt.max))\n            var capitalize = true\n            var sentence   = ''\n            for (var i = 0; i < count; i ++) {\n                var randomWord = assets.words[Math.floor(Math.random() * assets.words.length)]\n                var signIndex  = Math.floor(Math.pow(Math.random(), 20) * assets.signs.length)\n                var sign       = assets.signs[math.min(signIndex, i < count - 1? 0: 2)] + ' '\n                var word       = capitalize? text.capitalize(randomWord): randomWord\n                sentence += word + sign\n                capitalize = signIndex > 1\n            }\n            return sentence.substring(0, sentence.length - 1)\n        }}\n    },\n    \n    // {type: image, source: local}\n    image (opt) {\n        var source = {\n            remote (i) {return `https://unsplash.it/500?image=${i}`},\n            local  (i) {return `file:///Library/Desktop%20Pictures/${\n                escape(assets.image.mac[i % assets.image.mac.length])}.jpg`}\n        }\n        var seed = math.randInt(0, 1000)\n        return {i: 0, render () {\n            return source[opt.source || 'local'](seed + this.i ++)\n        }}\n    },\n    \n    // get(i => {return custom[i]})\n    iterate (callback) {\n        return {type: 'expression', i: 0, render () {\n            return callback(this.i ++)\n        }}\n    },\n}\n\nexport default {\n    \n    /*\n        model.on('make', item => {\n            return new fw.Layer({\n                parent : scroller,\n                size   : new fw.vec(100, 100),\n                margin : 10\n            })\n        })\n        \n        model.on('destroy', item => {\n            item.layer.animate({}, {\n                margin : {x: -item.layer.size.x / 2},\n                scale  : {x: 0}\n            },{\n                destroy : true\n            })\n        })\n    */\n    \n    init (model) {\n        var destroy = layer => {layer.destroy()}\n        var make    = item  => {/* no initial value */}\n        var methods = {\n            on (topic, callback) {\n                if (topic == 'make') {\n                    make = item => {\n                        var layer  = callback(item)\n                        layer.data = item\n                        Object.defineProperty(item, 'layer', {\n                            value      : layer, \n                            enumerable : false\n                        })\n                    }\n                    model.forEach(make)\n                } else if (topic == 'destroy')\n                    destroy = callback\n                return model\n            },\n            push () {\n                make(arguments[0])\n                Array.prototype.push.apply(this, arguments)\n            },\n            splice () {\n                var deleted = Array.prototype.splice.apply(this, arguments)\n                deleted.forEach(a => destroy(a.layer))\n                return deleted\n            },\n            find (query) {\n                return arr.find(model, query)\n            },\n            delete (query) {\n                return arr.delete(model, query)\n            },\n            filterMap (query) {\n                return arr.filterMap(model, query)\n            },\n        }\n        for (var key in methods)\n            Object.defineProperty(model, key,\n                {enumerable: false, value: methods[key]})\n        return model\n    },\n    \n    /*\n        var boxes = fw.model.put({\n            count : 10,\n            model : {\n                album  : fw.model.iterate(i => {return custom[i].album}),\n                id     : '{type: int, mode: forward, from: 1}',\n            },\n            shuffle : [{\n                someParam : 'testest'\n            },{\n                others : '{type: int, mode: random, min: 1, max: 10}',\n                image  : '{type: image, source: local}' \n            }]\n        })\n    */\n    \n    put (opt) {\n        // modify values\n        for (var key in opt.model) {\n            var value = opt.model[key]\n            // reset integer with count type\n            if (value.type == 'expression' && value.expressions)\n                value.expressions.forEach(expression => {\n                    // reset int expression if loop\n                    if (expression.method == 'int' && expression.mode == 'loop')\n                        expression.i = 0\n                })\n        }\n        // render content\n        var model = []\n        for (var i = 0; i < (opt.count || 1); i ++) {\n            // copy raw model\n            var property = this.render(opt.model)\n            // make shuffle on model\n            if ('shuffle' in opt) {\n                var index = math.randInt(0, opt.shuffle.length)\n                Object.assign(property, this.render(opt.shuffle[index]))\n            }\n            // add rendered version of model to the output list\n            model.push(property)\n        }\n        // make watchable\n        return this.init(model)\n    },\n    \n    render (model) {\n        var out = {}\n        for (var key in model) {\n            // init expression\n            if (val.isStr(model[key]) && model[key].match(/{.*?}/))\n                model[key] = this._parseExpressions(model[key])\n            // render value if expression\n            if (model[key].type == 'expression')\n                out[key] = model[key].render()\n            // transfer value\n            else\n                out[key] = model[key]\n        }\n        return out\n    },\n    \n    _parseExpressions (string) {\n        var out = {type: 'expression', expressions: []}\n        // find all the queries and replace them with functions\n        var string = string.replace(/{.*?}/g, match => {\n            var query = {}\n            // parse match\n            match.replace(/{| |}/g, '').split(',').forEach(p => {\n                p = p.split(':')\n                query[p[0]] = parseInt(p[1]) || p[1]\n            })\n            // find method of this and push generated expression\n            out.expressions.push(expressions[query.type](query))\n            // save index of array {1}\n            return `{${out.expressions.length - 1}}`\n        })\n        out.render = function () {\n            // replace all {1} with expression result\n            var result = string.replace(/{.*?}/g, i => {\n                // bundle.expressions[{1}]\n                return this.expressions[i.match(/\\d+/)[0]].render()\n            })\n            // convert to int if no characters\n            return result.match(/[^\\d+]/)? result: parseInt(result)\n        }\n        return out\n    },\n    \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/model.js","\n\n\nimport {css, math} from './fw'\n\nexport default {\n    \n    ellipsis (dom, lineCount, symbol) {\n        // set target height\n        dom.style.height = this.getLineHeight(dom) * lineCount +'px'\n        var domRect      = dom.getBoundingClientRect()\n        var multiColumn  = css.computed(dom, 'column-count') > 1\n        // check if iteration is necessary\n        if (multiColumn\n        &&  dom.scrollWidth  > domRect.width  + 1\n        ||  dom.scrollHeight > domRect.height + 1\n        ){\n            // init range selection\n            var string = dom.firstChild\n            var length = dom.innerHTML.length\n            var range  = document.createRange()\n            range.setEnd(string, length)\n            // search for position\n            math.binarySearch(length, function (i, end) {\n                // make selection\n                range.setStart(string, end? i - 3: i)\n                // return check\n                var cursorRect = range.getBoundingClientRect()\n                return (multiColumn?\n                    cursorRect.left < domRect.right :\n                    cursorRect.top  < domRect.bottom - 1\n                )\n            })\n            // delete rest and add ellipsis\n            range.deleteContents()\n            dom.innerHTML += symbol || '&hellip;'\n        }\n        // restore height\n        dom.style.height = null\n    },\n\n\tlineCount (dom) {\n\t\treturn Math.floor(\n\t\t\tdom.offsetHeight / \n\t\t\tthis.getLineHeight(dom)\n\t\t)\n\t},\n\n    getLineHeight (dom) {\n        var string = dom.firstChild\n        var range  = document.createRange()\n        range.setStart(string, 0)\n        range.setEnd  (string, 1)\n        return range.getBoundingClientRect().height\n    },\n\n\tcapitalize (string) {\n    \treturn string.charAt(0).toUpperCase() + string.slice(1)\n\t},\n\n\thash (string) {\n\t    var hash = 0\n\t    for (i = 0; i < string.length; i ++) \n\t    \thash += string.charCodeAt(i)\n\t    return hash\n\t},\n    \n    numberPadding (num, symbol, length) {\n        var num = num + ''\n        while (num.length < length) num = symbol + num\n        return num\n    },\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/text.js","\n\n\nexport default {\n    \n    exists (val) {\n        return typeof val !== 'undefined'\n    },\n    \n    isBool (val) {\n        return typeof val === \"boolean\"\n    },\n    \n    isNum (val) {\n        return typeof val === 'number'\n    },\n    \n    isStr (val) {\n        return typeof val === 'string' || val instanceof String\n    },\n    \n    isArr (val) {\n        return Array.isArray(val)\n    },\n    \n    isDom (val) {\n        return val instanceof Element\n    },\n    \n    isObj (val) {\n        return typeof val == 'object' && val.constructor == Object\n    },\n    \n    isFn (val) {\n        return typeof val === 'function'\n    },\n\t\n\tisVec (val) {\n\t\treturn val.position || val.opposite\n\t},\n\t\n\tisDim (val) {\n\t\treturn val.l || val.r\n\t},\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/value.js","\n\n\nimport {val, math} from './fw'\n\nexport default class Vec {\n\n    constructor (x = 0, y = 0, z = 0) {\n        this.x = x\n        this.y = y\n        this.z = z\n    }\n\n    copy () {\n        return new Vec(this.x, this.y)\n    }\n\n    add (vec, set) {\n\t    if (set) {\n\t        this.x += (vec.x || 0)\n\t        this.y += (vec.y || 0)\n\t        this.z += (vec.z || 0)\n\t        return this\n        } else return new Vec(\n            this.x + (vec.x || 0),\n            this.y + (vec.y || 0),\n            this.z + (vec.z || 0)\n        )\n    }\n\n    sub (vec, set) {\n\t\tif (set){   \n\t        this.x -= (vec.x || 0)\n\t        this.y -= (vec.y || 0)\n\t        this.z -= (vec.z || 0)\n\t        return this\n\t\t} else return new Vec(\n            this.x - (vec.x || 0),\n            this.y - (vec.y || 0),\n            this.z - (vec.z || 0)\n        )\n    }\n    \n    div (vec, set) {\n\t    if (set) {\n\t        this.x /= (vec.x || 1)\n\t        this.y /= (vec.y || 1)\n\t        this.z /= (vec.z || 1)\n\t        return this\n        } else return new Vec(\n            this.x / (vec.x || 1),\n            this.y / (vec.y || 1),\n            this.z / (vec.z || 1)\n        )\n    }\n\n    len () {\n        return Math.sqrt(\n            Math.pow(this.x || 0, 2) +\n            Math.pow(this.y || 0, 2) +\n            Math.pow(this.z || 0, 2)\n        )\n    }\n\n    scale (len, set) {\n\t    if (set) {\t\n\t\t\tthis.x *= len\n\t\t\tthis.y *= len\n\t\t\tthis.z *= len\n\t\t\treturn this\n\t\t} else return new Vec(\n            this.x * len,\n            this.y * len,\n            this.z * len\n        )\n    }\n\n    norm (set) {\n\t    if (set) {\n\t\t    var len = 1 / this.len()\n\t        this.x *= len\n\t        this.y *= len\n\t        this.z *= len\n\t        return this\n\t    } else {\n\t\t    var len = 1 / this.len()\n\t        return new Vec(\n\t            this.x * len,\n\t            this.y * len,\n\t            this.z * len\n\t        )\n        }\n    }\n \n    resize (len) {\n        var norm = this.getNorm()\n        return new Vec(\n            norm.x * len,\n            norm.y * len,\n            norm.z * len\n        )\n    }\n\n    to (vec, i) {\n    \treturn new Vec(\n\t    \ti * ((vec.x || 0) - this.x) + this.x,\n\t    \ti * ((vec.y || 0) - this.y) + this.y,\n\t    \ti * ((vec.z || 0) - this.z) + this.z\n    \t)\n    }\n    \n    rotate (angle, set) {\n        var rad = Math.PI / 180 * angle\n        var cos = Math.cos(rad)\n        var sin = Math.sin(rad)\n        var x   = (cos * this.x) + (sin * this.y)\n        var y   = (cos * this.y) - (sin * this.x)\n\t    if (set) {\n\t        this.x = x\n\t        this.y = y\n\t        return this\n\t    } else {\n\t        return new Vec(x, y)\n        }\n    }\n\n    angle2d () {\n\t    return Math.atan2(this.x, this.y) * 180 / Math.PI\n    }\n\n    unit (unit) {\n        var data = {}\n        if (val.exists(this.x)) data.x = this.x + unit\n        if (val.exists(this.y)) data.y = this.y + unit\n        if (val.exists(this.z)) data.z = this.z + unit\n    \treturn data\n    }\n    \n    ununit() {\n        if (val.exists(this.x)) this.x = parseFloat(this.x)\n        if (val.exists(this.y)) this.y = parseFloat(this.y)\n        if (val.exists(this.z)) this.z = parseFloat(this.z)\n    \treturn this\n    }\n    \n    reset () {\n        if (val.exists(this.x)) this.x = 0\n        if (val.exists(this.y)) this.y = 0\n        if (val.exists(this.z)) this.z = 0\n    \treturn this\n    }\n\n    log (name) {\n        var data = {x: this.x}\n        if (val.exists(this.y)) data.y = this.y\n        if (val.exists(this.z)) data.z = this.z\n        if (typeof name === 'undefined') \n            console.log(data)\n        else\n            console.log(name, data)\n    }\n    \n    set (params) {\n        for (var i in params)\n            this[i](params[i])\n    }\n    \n    apply (fn) {\n        return new Vec(\n            fn({dimension: 'x', value: this.x}),\n            fn({dimension: 'y', value: this.y}),\n            fn({dimension: 'z', value: this.z})\n        )\n    }\n    \n    fill (value) {\n        this.x = value\n        this.y = value\n        this.z = value\n        return this\n    }\n    \n    mix (list) {\n        var sum = new Vec()\n        var len = 1\n        if (val.isArr(list)) {\n            len = list.length\n            for (var i = 0; i < len; i ++) \n                sum.add(list[i], true)\n        } else if (val.isObj(list)) {\n            len = Object.keys(list).length\n            for (var v in list)\n                sum.add(list[v], true)\n        }\n        return sum.div(new Vec().fill(len))\n    }\n    \n\trange (rect, set) {\n        var range = val.exists(rect.length)? (\n                val.isNum(rect.length)? \n                {x: rect.length, y: rect.length}: \n                rect.length\n            ): {x: 100, y: 100}\n        rect.onLimit = rect.onLimit || {}\n        var vec = new Vec(\n\t\t\tmath.rubberRange(this.x, rect.l, rect.r, range.x, rect.onLimit.x),\n\t\t\tmath.rubberRange(this.y, rect.t, rect.b, range.y, rect.onLimit.y)\n\t\t)\n        if (set) {\n            this.x = vec.x\n            this.y = vec.y\n        } else return vec\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./libs/vector.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js?sourceMap!./style.sass\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js?sourceMap!./style.sass\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./libs/style.sass\n// module id = 19\n// module chunks = 0","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  margin: 0;\\n  box-sizing: border-box; }\\n\\nbody {\\n  background-color: #1f2428;\\n  perspective: 500; }\\n\\n.layer {\\n  font-family: 'arial';\\n  font-size: 13;\\n  transition: box-shadow .2s; }\\n  .layer.default {\\n    position: relative;\\n    display: inline-block;\\n    width: 100;\\n    height: 100;\\n    background-color: rgba(255, 255, 255, 0.7);\\n    background-size: cover;\\n    background-position: center; }\\n  .layer.drag {\\n    box-shadow: 0 0 100px 0 rgba(0, 0, 0, 0.5) !important; }\\n\\n.scroller {\\n  width: 100%;\\n  height: 100%;\\n  -webkit-scroll-snap-type: mandatory;\\n  -webkit-scroll-snap-destination: 50% 50%; }\\n  .scroller > .layer {\\n    width: 100%;\\n    height: 100%;\\n    -webkit-scroll-snap-coordinate: 50% 50%; }\\n  .scroller.x {\\n    overflow-y: hidden;\\n    white-space: nowrap; }\\n    .scroller.x > .layer {\\n      display: inline-block;\\n      white-space: normal; }\\n  .scroller.y {\\n    overflow-x: hidden; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader?sourceMap!./libs/style.sass\n// module id = 20\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 21\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 22\n// module chunks = 0"],"sourceRoot":""}