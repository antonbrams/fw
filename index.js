!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.fw=n():t.fw=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,n,e){Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=13)}([function(t,n,e){"use strict";n.a={computed:function(t,n){return parseInt(document.defaultView.getComputedStyle(t,null).getPropertyValue(n))},vendor:function(){var t=function(t){if("undefined"!=typeof document){var n=document.createElement("div");t.forEach(function(t){if("undefined"!=typeof n.style[t])return t})}};return{transform:t(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),origin:t(["transformOrigin","msTransformOrigin","webkitTransformOrigin","mozTransformOrigin","oTransformOrigin"]),columnCount:t(["columnCount","msColumnCount","webkitColumnCount","mozColumnCount","oColumnCount"])}}()}},function(t,n,e){"use strict";n.a={fromString:function(t){var n=document.createElement("div");return n.innerHTML=t,n.firstChild},prepend:function(t,n){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},selection:function(t){document.ondragstart=document.onselectstart=t?null:function(){return!1}},clone:function r(t){var n=this,r=t.cloneNode(!0);return r.remove=function(){return n.parentNode.removeChild(n)},t.parentNode.appendChild(r),r},getDimensions:function(t){var n=this;return{l:t.offsetLeft,w:t.offsetWidth,t:t.offsetTop,h:t.offsetHeight,r:function(){return n.l+n.w}(),b:function(){return n.t+n.h}()}}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.a={hsva:function(){function t(n,e,i,o){r(this,t),this.hue=n,this.saturation=e,this.value=i,this.alpha=o}return i(t,[{key:"get",value:function(){var t=100-50*this.saturation;return"hsla("+360*this.hue+", "+100*this.saturation+"%, "+t*this.value+"%, "+this.alpha+")"}}]),t}(),rand:function(t){var n=function(){return parseInt(200*Math.random()+55)};return"rgba("+n()+", "+n()+", "+n()+", "+(t?t:.3)+")"}}},function(t,n,e){"use strict";var r=e(0),i=e(1);n.a={viewPortOffset:function(t){var n=t.getBoundingClientRect();return{l:n.left,t:n.top}},offset:function o(t,n){for(var t=_dom,o={l:0,t:0},n=n||document.body;t&&t.parentNode&&t!=n;){var e={l:t.offsetLeft,t:t.offsetTop},i={l:t.parentNode.scrollLeft,t:t.parentNode.scrollTop},a={l:r.a.computed(t,"margin-left"),t:r.a.computed(t,"margin-top")};o.l+=e.l-i.l-a.l,o.t+=e.t-i.t-a.t,t=t.parentNode}return o},domCollision:function(t,n){return this.boxCollision(i.a.getDimensions(t),i.a.getDimensions(n))},boxCollision:function(t,n){return t.l<n.l+n.w&&t.t<n.t+n.h&&n.l<t.l+t.w&&n.t<t.t+t.h},viewPortSize:function(t,n,e,r,i,o){var a=new Object,u=t/n,s=r-2*i,l=e/u,c=s*u<o?o/u:s;if(e<t&&l<c)a.w=e,a.h=l,a.m=0;else{var f=c*u,h=f<t?f:t,v=(e-h)/2;a.w=h,a.h=c<n?c:n,a.m=v<i?v:i}return a}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}n.a={easing:{linear:function(t){return t},easeOutExpo:function(t){return 1-Math.pow(2,-10*t)},easeInQuad:function(t){return Math.sin(t*(Math.PI/2))},easeOutQuad:function(t){return t*(2-t)},easeInOutQuint:function(t){return t<.5?16*Math.pow(t,5):16*--t*Math.pow(t,4)+1},easeOutElastic:function(t){var n=.8;return Math.pow(2,-10*t)*Math.sin((t-n/4)*(2*Math.PI)/n)+1},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*t*(t-=1.5/2.75)+.75:t<2.5/2.75?7.5625*t*(t-=2.25/2.75)+.9375:7.5625*t*(t-=2.625/2.75)+.984375}},fps:60,jobs:new Array,loop:!1,Job:function i(t,n,e,o){r(this,i),this.onEnd=o;var a=new Date;e(0),this.count=function(){var r=(new Date-a)/1e3/t;return e(r<1?n(r):1),r<1?r:1}},start:function(){var t=this;this.loop=setInterval(function(){for(var n=new Array,e=0;e<t.jobs.length;e++)1==t.jobs[e].count()?t.jobs[e].onEnd&&t.jobs[e].onEnd():n.push(t.jobs[e]);t.jobs=n,0==t.jobs.length&&(clearInterval(t.loop),t.loop=null)}.bind(this),1e3/this.fps)},play:function(t,n,e,r){this.jobs.push(new this.Job(t,this.easing[n],e,r)),this.loop||this.start()},getSinus:function(t,n,e){var r=.001*(new Date).getTime(),i=Math.sin(r*(e||1));return this.root.math.map(i,-1,1,t,n)}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.a={splitQuery:function(t){var n=t.split(".");return{level:n,last:n.length-1}},level:function(t,n,e){for(var r=t,i=0;i<n.last;i++)r=r[n.level[i]];return e?void(r[n.level[n.last]]=e):r[n.level[n.last]]},map:function(t,n){var e=this,r=this.splitQuery(n);return t.map(function(t){return e.level(t,r)}.bind(this))},find:function(t,n){var e=t.slice();for(var r in n){for(var i=[],o=this.map(e,r),a=0;a<o.length;a++)o[a]==n[r]&&i.push(e[a]);e=i.slice()}return e},del:function(t,n){var e=this.find(t,n);return e.forEach(function(n){return t.splice(t.indexOf(n),1)}),e},updateColumn:function(t,n){var e=this;for(var r in n)if(t.length==n[r].length){var i=this.splitQuery(r);t.forEach(function(t,o){return e.level(t,i,n[r][o])}.bind(this))}else console.log("different lenghtes")},filterMap:function(t,n){var e=[];return t.forEach(function(t){var r={};for(var i in n)r[n[i]]=t[i];e.push(r)}),e},buffer:function(){function t(n){r(this,t),this.array=new Array,this.size=n}return i(t,[{key:"get",value:function(t){var n=0,e=this.array.length;e>this.size&&this.array.shift(),this.array.push(t);for(var r=0;r<e;r++)isFinite(this.array[r])&&(n+=parseFloat(this.array[r]));return n/e}}]),t}()}},function(t,n,e){"use strict";n.a={argExist:function(t){return"undefined"!=typeof t},cloneObject:function(t){return JSON.parse(JSON.stringify(t))},readFile:function(t,n){var e=this;if(/\.(jpe?g|png|gif)$/i.test(t.name)){var r=new FileReader;r.onload=function(){n({name:t.name,data:e.result})},r.readAsDataURL(t)}},dropFile:function(t,n){var e=this;t.ondragover=function(){return t.classList.add("drop"),!1},t.ondragleave=function(){t.classList.remove("drop")},t.ondrop=function(){t.classList.remove("drop");for(var r=window.event,i=r.dataTransfer.files,o=[],a=0;a<i.length;a++)e.readFile(i[a],function(t){o.push(t),o.length==i.length&&n(o)});r.preventDefault()}.bind(this)},uploadFile:function(t,n){var e=this;t.onchange=function(){for(var t=window.event,r=t.target.files,i=[],o=0;o<r.length;o++)e.readFile(r[o],function(t){i.push(t),i.length==r.length&&n(i)})}.bind(this)},compressImage:function(t,n,e,r){var i=this,o=[];t.forEach(function(a){var u=document.createElement("img");u.onload=function(){var a=document.createElement("canvas"),u=a.getContext("2d"),s=i.width*n,l=i.height*n;a.width=s,a.height=l,u.drawImage(i,0,0,s,l),o.push(a.toDataURL("image/jpeg",e)),o.length==t.length&&r(o)},u.src=a})},cookie:{get:function(t){var n={};if(t){var e=t.split("; ");e.forEach(function(t){var e=t.split("=");n[e[0]]=e[1]})}return n},set:function(t){var n="";for(var e in t)n+=e+"="+t[e]+"; ";return n},del:function(t,n){t[n]="; expires=Thu, 01 Jan 1970 00:00:01 GMT"}},search:{get:function(t){var n={},e=t.split("?")[1];if(e&&e.length>0){var r=e.split("&");r.forEach(function(t){var e=t.split("=");n[e[0]]=e[1]})}return n},set:function(t){var n="";for(var e in t)n+=e+"="+t[e]+(Object.keys(t).length>1?"&":"");return n}},timeout:function(t,n,e,r,i){var o=t/n,a=setInterval(function(){e(function(t){t&&(r(),clearInterval(a))}),0==o&&(i&&i(),clearInterval(a)),o--},1e3*n)}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=e(1),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.a={type:function(){if("undefined"!=typeof window){var t="ontouchstart"in window;return{touch:t,down:t?"ontouchstart":"onmousedown",move:t?"ontouchmove":"onmousemove",up:t?"ontouchend":"onmouseup",out:"onmouseleave"}}}(),drag:function(t,n,e,r){var o=this,a=new Object,u=function(){i.a.selection(!1),a.event=o.type.touch?window.event.targetTouches[0]:window.event,n(a),t[o.type.down]=null,document.body[o.type.move]=s.bind(o),document.body[o.type.up]=l.bind(o),document.body[o.type.out]=l.bind(o)},s=function(){window.event.preventDefault(),a.event=o.type.touch?window.event.targetTouches[0]:window.event,e(a)},l=function(){i.a.selection(!0),document.body[o.type.move]=null,document.body[o.type.up]=null,t[o.type.down]=u.bind(o),r(a)};t[this.type.down]=u.bind(this)},resize:function(){function t(n,e,i){r(this,t),this.timeout=null,this.onDragStartFlag=null,this.onDragStart=n,this.onDragUpdate=e,this.onDragRelease=i}return o(t,[{key:"call",value:function(){this.checkStart(),this.onDragUpdate&&this.onDragUpdate(),clearTimeout(this.timeout),this.timeout=setTimeout(this.onEnd.bind(this),200)}},{key:"checkStart",value:function(){this.onDragStartFlag||(this.onDragStartFlag=!0,this.onDragStart&&this.onDragStart())}},{key:"onEnd",value:function(){this.onDragStartFlag&&(this.onDragStartFlag=!1,this.onDragRelease&&this.onDragRelease())}}]),t}()}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=e(3),o=e(2),a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.a={box:function(){function t(){r(this,t),this.l=0,this.w=0,this.t=0,this.h=0}return a(t,[{key:"r",value:function(){return this.l+this.w}},{key:"b",value:function(){return this.t+this.h}}]),t}(),get:function(t,n){for(var e=new Array,r=t.w*t.h,i=0;i<r;i++){var o=new this.box;if(o.l=i%t.w,o.t=parseInt(i/t.w),!this.collide(n,o))for(var a={x:!0,y:!0};a.x;){for(;a.y;)this.collide(n,this.shift(o,"y",1))||o.b()==t.h?a.y=!1:o.h+=1;this.collide(n,o)||o.r()>t.w?(a.x=!1,e=this.detach(e)):(a.y=!0,e=this.append(e,o),o.h=1,o.w+=1)}}return e=this.filter(e)},append:function(t,n){var e=t.length-1,r=new this.box;return r.l=n.l,r.t=n.t,r.w=n.w,r.h=n.h,t[e]&&t[e].h==n.h&&t[e].l==n.l?t[e]=r:t.push(r),t},detach:function(t){return prev=t.length-2,last=t.length-1,t[prev]&&t[prev].h==t[last].h&&t[prev].r()==t[last].r()&&t.pop(),t},filter:function(t){for(var n=t.length,e=0;e<n;e++)for(var r=0;r<n;r++)e!=r&&t[e]&&t[r]&&t[e].l<=t[r].l&&t[e].r()>=t[r].r()&&t[e].t<=t[r].t&&t[e].b()>=t[r].b()&&(t[r]=void 0);return t.filter(function(t){return t})},shift:function(t,n,e){var r=new this.box;return r.l=t.l,r.t=t.t,r.w=t.w+("x"==n?e:0),r.h=t.h+("y"==n?e:0),r},collide:function(t,n){for(var e=_list.length,r=0;r<e;r++)if(i.a.boxCollision(_list[r],_box))return!0;return!1},test:function u(t){for(var n=document.body.getElementsByClassName("collider");n.length>0;)document.body.removeChild(n[0]);for(var e=function(){return(Math.random()-.5)*gl.grid.gutter/2},r=0;r<t.length;r++){var u=document.createElement("div");u.className="collider",u.style.backgroundColor=o.a.rand(),u.style.position="absolute",u.style.left=e()+gl.grid.PTtoPX(t[r].l+1,!0),u.style.top=e()+gl.grid.PTtoPX(t[r].t+1,!0),u.style.width=e()+gl.grid.PTtoPX(t[r].w,!1),u.style.height=e()+gl.grid.PTtoPX(t[r].h,!1),document.body.appendChild(u)}}}},function(t,n,e){"use strict";n.a={map:function(t,n,e,r,i,o){var a=1==o?t<n?n:t>e?e:t:t;return(a-n)/(e-n)*(i-r)+r},binarySearch:function(t,n,e,r){for(var i=length=t;length>=n;)length*=.5,i+=length*(e()?1:-1),r(i)},linearInterpolation:function(t,n){for(var e=[],r=0,i=0;i<n.length-1&&t>=n[i][0];i++)r=i;for(var o=n[r],a=n[r+1],i=1;i<o.length;i++)e.push(this.map(t,o[0],a[0],o[i],a[i]));return e},getValueBySize:function(t,n){for(var e=null,r=0;r<n.length;r++)t>=n[r][0]&&(e=n[r][1]);return e},rubberEffect:function(t,n,e,r,i){var o=1.3,a="undefined"!=typeof e,u="undefined"!=typeof n;if(a||u)var s=t<e,r=(s?1:-1)*r,l=s?e:n,c=(l-t)/r,f=l-r*(1-Math.pow(1+c,-o));var h=a&&t<e,v=u&&t>n;return i&&i(h?"max":v?"min":null),h||v?f:t}}},function(t,n,e){"use strict";var r=e(0);n.a={ellipsis:function(t,n,e,r){if(t.innerHTML=n,!r())for(var i=n.split(" "),o=i.length,a=function(n){t.innerHTML=i.slice(0,n).join(" ")+e},u=0;u<o;u++)if(a(u),!r()){a(u-1);break}},lineCount:function(t){return t.offsetHeight/parseInt(r.a.computed(t,"line-height"))},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},hash:function o(t){var o=0;for(i=0;i<t.length;i++)o+=t.charCodeAt(i);return o}}},function(t,n,e){"use strict";var r=e(0);n.a=function(t){var n=function(t){var n="translate("+t.value.translation.x+"px, "+t.value.translation.y+"px)",e="scale("+t.value.scale.x+",   "+t.value.scale.y+")";t.style[r.a.vendorPrefix+"Transform"]=n+" "+e},e=function(t){t.style[r.a.vendorPrefix+"TransformOrigin"]=t.value.origin.x+" "+t.value.origin.y};t.value={origin:{x:0,y:0},translation:{x:0,y:0},scale:{x:1,y:1},rotation:{z:0}},t.originXY=function(t,n){return this.value.origin.x=t,this.value.origin.y=n,e(this),this},t.originX=function(t){return this.value.origin.x=t,e(this),this},t.originY=function(t){return this.value.origin.y=t,e(this),this},t.translateXY=function(t,e){return this.value.translation.x=t,this.value.translation.y=e,n(this),this},t.translateX=function(t){return this.value.translation.x=t,n(this),this},t.translateY=function(t){return this.value.translation.y=t,n(this),this},t.scale=function(t){return this.value.scale.x=this.value.scale.y=t,n(this),this},t.scaleXY=function(t,e){return this.value.scale.x=t,this.value.scale.y=e,n(this),this},t.scaleX=function(t){return this.value.scale.x=t,n(this),this},t.scaleY=function(t){return this.value.scale.y=t,n(this),this},t.rotate=function(t){return this.value.rotation.z=t,n(this),this}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(){var n=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];r(this,t),this.x=n,this.y=e,this.z=i,console.log("vector not cutted")}return i(t,[{key:"copy",value:function(){return new t(this.x,this.y,this.z)}},{key:"add",value:function(n,e){return e?(this.x+=n.x,this.y+=n.y,this.z+=n.z,this):new t(this.x+n.x,this.y+n.y,this.z+n.z)}},{key:"sub",value:function(n,e){return e?(this.x-=n.x,this.y-=n.y,this.z-=n.z,this):new t(this.x-n.x,this.y-n.y,this.z-n.z)}},{key:"div",value:function(n,e){return e?(this.x/=n.x,this.y/=n.y,this.z/=n.z,this):new t(this.x/n.x,this.y/n.y,this.z/n.z)}},{key:"len",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}},{key:"scale",value:function(n,e){return e?(this.x*=n,this.y*=n,this.z*=n,this):new t(this.x*n,this.y*n,this.z*n)}},{key:"norm",value:function(n){if(n){var e=1/this.len();return this.x*=e,this.y*=e,this.z*=e,this}var e=1/this.len();return new t(this.x*e,this.y*e,this.z*e)}},{key:"resize",value:function(n){var e=this.getNorm();return new t(e.x*n,e.y*n,e.z*n)}},{key:"getTween",value:function(n,e){return new t(e*(n.x-this.x)+this.x,e*(n.y-this.y)+this.y,e*(n.z-this.z)+this.z)}},{key:"getAngle2D",value:function(){return 180*Math.atan2(this.x,this.y)/Math.PI}}]),t}();n.a=o},function(t,n,e){"use strict";var r=e(4),i=e(8),o=e(3),a=e(11),u=e(5),s=e(12),l=e(9),c=e(2),f=e(1),h=e(7),v=e(6),d=e(0),p=e(10);e.o(r,"a")&&e.d(n,"animation",function(){return r.a}),e.o(i,"a")&&e.d(n,"freespace",function(){return i.a}),e.o(o,"a")&&e.d(n,"geometry",function(){return o.a}),e.o(a,"a")&&e.d(n,"transform",function(){return a.a}),e.o(u,"a")&&e.d(n,"arr",function(){return u.a}),e.o(s,"a")&&e.d(n,"vec",function(){return s.a}),e.o(l,"a")&&e.d(n,"math",function(){return l.a}),e.o(c,"a")&&e.d(n,"color",function(){return c.a}),e.o(f,"a")&&e.d(n,"dom",function(){return f.a}),e.o(h,"a")&&e.d(n,"event",function(){return h.a}),e.o(v,"a")&&e.d(n,"etc",function(){return v.a}),e.o(d,"a")&&e.d(n,"style",function(){return d.a}),e.o(p,"a")&&e.d(n,"text",function(){return p.a})}])});