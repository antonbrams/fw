!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fw=e():t.fw=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=13)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={computed:function(t,e){return parseInt(document.defaultView.getComputedStyle(t,null).getPropertyValue(e))},vendor:function(t){var e={};if("undefined"==typeof document)return e;var n=[null,"ms","webkit","moz","o"],r=document.createElement("div");return t.forEach(function(t){for(var i=0;i<n.length;i++){var o=n[i]+n[i]?t:t.charAt(0).toUpperCase()+t.slice(1);if("undefined"!=typeof r.style[o]){e[t]=o;break}}}),t}(["transform","transformOrigin","columnCount"])}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={fromString:function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},prepend:function(t,e){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},selection:function(t){document.ondragstart=document.onselectstart=t?null:function(){return!1}},clone:function n(t){var e=this,n=t.cloneNode(!0);return n.remove=function(){return e.parentNode.removeChild(e)},t.parentNode.appendChild(n),n},getDimensions:function(t){var e=this;return{l:t.offsetLeft,w:t.offsetWidth,t:t.offsetTop,h:t.offsetHeight,r:function(){return e.l+e.w}(),b:function(){return e.t+e.h}()}}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e["default"]={hsva:function(){function t(e,r,i,o){n(this,t),this.hue=e,this.saturation=r,this.value=i,this.alpha=o}return r(t,[{key:"get",value:function(){var t=100-50*this.saturation;return"hsla("+360*this.hue+", "+100*this.saturation+"%, "+t*this.value+"%, "+this.alpha+")"}}]),t}(),rand:function(t){var e=function(){return parseInt(200*Math.random()+55)};return"rgba("+e()+", "+e()+", "+e()+", "+(t?t:.3)+")"}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),u=n(1),a=r(u);e["default"]={viewPortOffset:function(t){var e=t.getBoundingClientRect();return{l:e.left,t:e.top}},offset:function l(t,e){for(var t=_dom,l={l:0,t:0},e=e||document.body;t&&t.parentNode&&t!=e;){var n={l:t.offsetLeft,t:t.offsetTop},r={l:t.parentNode.scrollLeft,t:t.parentNode.scrollTop},i={l:o["default"].computed(t,"margin-left"),t:o["default"].computed(t,"margin-top")};l.l+=n.l-r.l-i.l,l.t+=n.t-r.t-i.t,t=t.parentNode}return l},domCollision:function(t,e){return this.boxCollision(a["default"].getDimensions(t),a["default"].getDimensions(e))},boxCollision:function(t,e){return t.l<e.l+e.w&&t.t<e.t+e.h&&e.l<t.l+t.w&&e.t<t.t+t.h},viewPortSize:function(t,e,n,r,i,o){var u=new Object,a=t/e,l=r-2*i,s=n/a,f=l*a<o?o/a:l;if(n<t&&s<f)u.w=n,u.h=s,u.m=0;else{var c=f*a,h=c<t?c:t,d=(n-h)/2;u.w=h,u.h=f<e?f:e,u.m=d<i?d:i}return u}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={easing:{linear:function(t){return t},easeOutExpo:function(t){return 1-Math.pow(2,-10*t)},easeInQuad:function(t){return Math.sin(t*(Math.PI/2))},easeOutQuad:function(t){return t*(2-t)},easeInOutQuint:function(t){return t<.5?16*Math.pow(t,5):16*--t*Math.pow(t,4)+1},easeOutElastic:function(t){var e=.8;return Math.pow(2,-10*t)*Math.sin((t-e/4)*(2*Math.PI)/e)+1},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*t*(t-=1.5/2.75)+.75:t<2.5/2.75?7.5625*t*(t-=2.25/2.75)+.9375:7.5625*t*(t-=2.625/2.75)+.984375}},fps:60,jobs:new Array,loop:!1,Job:function r(t,e,i,o){n(this,r),this.onEnd=o;var u=new Date;i(0),this.count=function(){var n=(new Date-u)/1e3/t;return i(n<1?e(n):1),n<1?n:1}},start:function(){var t=this;this.loop=setInterval(function(){for(var e=new Array,n=0;n<t.jobs.length;n++)1==t.jobs[n].count()?t.jobs[n].onEnd&&t.jobs[n].onEnd():e.push(t.jobs[n]);t.jobs=e,0==t.jobs.length&&(clearInterval(t.loop),t.loop=null)}.bind(this),1e3/this.fps)},play:function(t,e,n,r){this.jobs.push(new this.Job(t,this.easing[e],n,r)),this.loop||this.start()},getSinus:function(t,e,n){var r=.001*(new Date).getTime(),i=Math.sin(r*(n||1));return this.root.math.map(i,-1,1,t,e)}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e["default"]={splitQuery:function(t){var e=t.split(".");return{level:e,last:e.length-1}},level:function(t,e,n){for(var r=t,i=0;i<e.last;i++)r=r[e.level[i]];return n?void(r[e.level[e.last]]=n):r[e.level[e.last]]},map:function(t,e){var n=this,r=this.splitQuery(e);return t.map(function(t){return n.level(t,r)}.bind(this))},find:function(t,e){var n=t.slice();for(var r in e){for(var i=[],o=this.map(n,r),u=0;u<o.length;u++)o[u]==e[r]&&i.push(n[u]);n=i.slice()}return n},del:function(t,e){var n=this.find(t,e);return n.forEach(function(e){return t.splice(t.indexOf(e),1)}),n},updateColumn:function(t,e){var n=this;for(var r in e)if(t.length==e[r].length){var i=this.splitQuery(r);t.forEach(function(t,o){return n.level(t,i,e[r][o])}.bind(this))}else console.log("different lenghtes")},filterMap:function(t,e){var n=[];return t.forEach(function(t){var r={};for(var i in e)r[e[i]]=t[i];n.push(r)}),n},buffer:function(){function t(e){n(this,t),this.array=new Array,this.size=e}return r(t,[{key:"get",value:function(t){var e=0,n=this.array.length;n>this.size&&this.array.shift(),this.array.push(t);for(var r=0;r<n;r++)isFinite(this.array[r])&&(e+=parseFloat(this.array[r]));return e/n}}]),t}()}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={argExist:function(t){return"undefined"!=typeof t},cloneObject:function(t){return JSON.parse(JSON.stringify(t))},readFile:function(t,e){var n=this;if(/\.(jpe?g|png|gif)$/i.test(t.name)){var r=new FileReader;r.onload=function(){e({name:t.name,data:n.result})},r.readAsDataURL(t)}},dropFile:function(t,e){var n=this;t.ondragover=function(){return t.classList.add("drop"),!1},t.ondragleave=function(){t.classList.remove("drop")},t.ondrop=function(){t.classList.remove("drop");for(var r=window.event,i=r.dataTransfer.files,o=[],u=0;u<i.length;u++)n.readFile(i[u],function(t){o.push(t),o.length==i.length&&e(o)});r.preventDefault()}.bind(this)},uploadFile:function(t,e){var n=this;t.onchange=function(){for(var t=window.event,r=t.target.files,i=[],o=0;o<r.length;o++)n.readFile(r[o],function(t){i.push(t),i.length==r.length&&e(i)})}.bind(this)},compressImage:function(t,e,n,r){var i=this,o=[];t.forEach(function(u){var a=document.createElement("img");a.onload=function(){var u=document.createElement("canvas"),a=u.getContext("2d"),l=i.width*e,s=i.height*e;u.width=l,u.height=s,a.drawImage(i,0,0,l,s),o.push(u.toDataURL("image/jpeg",n)),o.length==t.length&&r(o)},a.src=u})},cookie:{get:function(t){var e={};if(t){var n=t.split("; ");n.forEach(function(t){var n=t.split("=");e[n[0]]=n[1]})}return e},set:function(t){var e="";for(var n in t)e+=n+"="+t[n]+"; ";return e},del:function(t,e){t[e]="; expires=Thu, 01 Jan 1970 00:00:01 GMT"}},search:{get:function(t){var e={},n=t.split("?")[1];if(n&&n.length>0){var r=n.split("&");r.forEach(function(t){var n=t.split("=");e[n[0]]=n[1]})}return e},set:function(t){var e="";for(var n in t)e+=n+"="+t[n]+(Object.keys(t).length>1?"&":"");return e}},timeout:function(t,e,n,r,i){var o=t/e,u=setInterval(function(){n(function(t){t&&(r(),clearInterval(u))}),0==o&&(i&&i(),clearInterval(u)),o--},1e3*e)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),a=r(u);e["default"]={type:function(){if("undefined"!=typeof window){var t="ontouchstart"in window;return{touch:t,down:t?"ontouchstart":"onmousedown",move:t?"ontouchmove":"onmousemove",up:t?"ontouchend":"onmouseup",out:"onmouseleave"}}}(),drag:function(t,e,n,r){var i=this,o=new Object,u=function(){a["default"].selection(!1),o.event=i.type.touch?window.event.targetTouches[0]:window.event,e(o),t[i.type.down]=null,document.body[i.type.move]=l.bind(i),document.body[i.type.up]=s.bind(i),document.body[i.type.out]=s.bind(i)},l=function(){window.event.preventDefault(),o.event=i.type.touch?window.event.targetTouches[0]:window.event,n(o)},s=function(){a["default"].selection(!0),document.body[i.type.move]=null,document.body[i.type.up]=null,t[i.type.down]=u.bind(i),r(o)};t[this.type.down]=u.bind(this)},resize:function(){function t(e,n,r){i(this,t),this.timeout=null,this.onDragStartFlag=null,this.onDragStart=e,this.onDragUpdate=n,this.onDragRelease=r}return o(t,[{key:"call",value:function(){this.checkStart(),this.onDragUpdate&&this.onDragUpdate(),clearTimeout(this.timeout),this.timeout=setTimeout(this.onEnd.bind(this),200)}},{key:"checkStart",value:function(){this.onDragStartFlag||(this.onDragStartFlag=!0,this.onDragStart&&this.onDragStart())}},{key:"onEnd",value:function(){this.onDragStartFlag&&(this.onDragStartFlag=!1,this.onDragRelease&&this.onDragRelease())}}]),t}()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),a=r(u),l=n(2),s=r(l);e["default"]={box:function(){function t(){i(this,t),this.l=0,this.w=0,this.t=0,this.h=0}return o(t,[{key:"r",value:function(){return this.l+this.w}},{key:"b",value:function(){return this.t+this.h}}]),t}(),get:function(t,e){for(var n=new Array,r=t.w*t.h,i=0;i<r;i++){var o=new this.box;if(o.l=i%t.w,o.t=parseInt(i/t.w),!this.collide(e,o))for(var u={x:!0,y:!0};u.x;){for(;u.y;)this.collide(e,this.shift(o,"y",1))||o.b()==t.h?u.y=!1:o.h+=1;this.collide(e,o)||o.r()>t.w?(u.x=!1,n=this.detach(n)):(u.y=!0,n=this.append(n,o),o.h=1,o.w+=1)}}return n=this.filter(n)},append:function(t,e){var n=t.length-1,r=new this.box;return r.l=e.l,r.t=e.t,r.w=e.w,r.h=e.h,t[n]&&t[n].h==e.h&&t[n].l==e.l?t[n]=r:t.push(r),t},detach:function(t){return prev=t.length-2,last=t.length-1,t[prev]&&t[prev].h==t[last].h&&t[prev].r()==t[last].r()&&t.pop(),t},filter:function(t){for(var e=t.length,n=0;n<e;n++)for(var r=0;r<e;r++)n!=r&&t[n]&&t[r]&&t[n].l<=t[r].l&&t[n].r()>=t[r].r()&&t[n].t<=t[r].t&&t[n].b()>=t[r].b()&&(t[r]=void 0);return t.filter(function(t){return t})},shift:function(t,e,n){var r=new this.box;return r.l=t.l,r.t=t.t,r.w=t.w+("x"==e?n:0),r.h=t.h+("y"==e?n:0),r},collide:function(t,e){for(var n=_list.length,r=0;r<n;r++)if(a["default"].boxCollision(_list[r],_box))return!0;return!1},test:function f(t){for(var e=document.body.getElementsByClassName("collider");e.length>0;)document.body.removeChild(e[0]);for(var n=function(){return(Math.random()-.5)*gl.grid.gutter/2},r=0;r<t.length;r++){var f=document.createElement("div");f.className="collider",f.style.backgroundColor=s["default"].rand(),f.style.position="absolute",f.style.left=n()+gl.grid.PTtoPX(t[r].l+1,!0),f.style.top=n()+gl.grid.PTtoPX(t[r].t+1,!0),f.style.width=n()+gl.grid.PTtoPX(t[r].w,!1),f.style.height=n()+gl.grid.PTtoPX(t[r].h,!1),document.body.appendChild(f)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={map:function(t,e,n,r,i,o){var u=1==o?t<e?e:t>n?n:t:t;return(u-e)/(n-e)*(i-r)+r},binarySearch:function(t,e,n,r){for(var i=length=t;length>=e;)length*=.5,i+=length*(n()?1:-1),r(i)},linearInterpolation:function(t,e){for(var n=[],r=0,i=0;i<e.length-1&&t>=e[i][0];i++)r=i;for(var o=e[r],u=e[r+1],i=1;i<o.length;i++)n.push(this.map(t,o[0],u[0],o[i],u[i]));return n},getValueBySize:function(t,e){for(var n=null,r=0;r<e.length;r++)t>=e[r][0]&&(n=e[r][1]);return n},rubberEffect:function(t,e,n,r,i){var o=1.3,u="undefined"!=typeof n,a="undefined"!=typeof e;if(u||a)var l=t<n,r=(l?1:-1)*r,s=l?n:e,f=(s-t)/r,c=s-r*(1-Math.pow(1+f,-o));var h=u&&t<n,d=a&&t>e;return i&&i(h?"max":d?"min":null),h||d?c:t}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),u=r(o);e["default"]={ellipsis:function(t,e,n,r){if(t.innerHTML=e,!r())for(var i=e.split(" "),o=i.length,u=function(e){t.innerHTML=i.slice(0,e).join(" ")+n},a=0;a<o;a++)if(u(a),!r()){u(a-1);break}},lineCount:function(t){return t.offsetHeight/parseInt(u["default"].computed(t,"line-height"))},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},hash:function a(t){var a=0;for(i=0;i<t.length;i++)a+=t.charCodeAt(i);return a}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i);e["default"]=function(t){var e=function(t){var e="translate("+t.value.translation.x+"px, "+t.value.translation.y+"px)",n="scale("+t.value.scale.x+",   "+t.value.scale.y+")";t.style[o["default"].vendorPrefix+"Transform"]=e+" "+n},n=function(t){t.style[o["default"].vendorPrefix+"TransformOrigin"]=t.value.origin.x+" "+t.value.origin.y};t.value={origin:{x:0,y:0},translation:{x:0,y:0},scale:{x:1,y:1},rotation:{z:0}},t.originXY=function(t,e){return this.value.origin.x=t,this.value.origin.y=e,n(this),this},t.originX=function(t){return this.value.origin.x=t,n(this),this},t.originY=function(t){return this.value.origin.y=t,n(this),this},t.translateXY=function(t,n){return this.value.translation.x=t,this.value.translation.y=n,e(this),this},t.translateX=function(t){return this.value.translation.x=t,e(this),this},t.translateY=function(t){return this.value.translation.y=t,e(this),this},t.scale=function(t){return this.value.scale.x=this.value.scale.y=t,e(this),this},t.scaleXY=function(t,n){return this.value.scale.x=t,this.value.scale.y=n,e(this),this},t.scaleX=function(t){return this.value.scale.x=t,e(this),this},t.scaleY=function(t){return this.value.scale.y=t,e(this),this},t.rotate=function(t){return this.value.rotation.z=t,e(this),this}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];n(this,t),this.x=e,this.y=r,this.z=i,console.log("vector not cutted")}return r(t,[{key:"copy",value:function(){return new t(this.x,this.y,this.z)}},{key:"add",value:function(e,n){return n?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this):new t(this.x+e.x,this.y+e.y,this.z+e.z)}},{key:"sub",value:function(e,n){return n?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this):new t(this.x-e.x,this.y-e.y,this.z-e.z)}},{key:"div",value:function(e,n){return n?(this.x/=e.x,this.y/=e.y,this.z/=e.z,this):new t(this.x/e.x,this.y/e.y,this.z/e.z)}},{key:"len",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}},{key:"scale",value:function(e,n){return n?(this.x*=e,this.y*=e,this.z*=e,this):new t(this.x*e,this.y*e,this.z*e)}},{key:"norm",value:function(e){if(e){var n=1/this.len();return this.x*=n,this.y*=n,this.z*=n,this}var n=1/this.len();return new t(this.x*n,this.y*n,this.z*n)}},{key:"resize",value:function(e){var n=this.getNorm();return new t(n.x*e,n.y*e,n.z*e)}},{key:"getTween",value:function(e,n){return new t(n*(e.x-this.x)+this.x,n*(e.y-this.y)+this.y,n*(e.z-this.z)+this.z)}},{key:"getAngle2D",value:function(){return 180*Math.atan2(this.x,this.y)/Math.PI}}]),t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);Object.defineProperty(e,"animation",{enumerable:!0,get:function(){return r(i)["default"]}});var o=n(8);Object.defineProperty(e,"freespace",{enumerable:!0,get:function(){return r(o)["default"]}});var u=n(3);Object.defineProperty(e,"geometry",{enumerable:!0,get:function(){return r(u)["default"]}});var a=n(11);Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return r(a)["default"]}});var l=n(5);Object.defineProperty(e,"arr",{enumerable:!0,get:function(){return r(l)["default"]}});var s=n(12);Object.defineProperty(e,"vec",{enumerable:!0,get:function(){return r(s)["default"]}});var f=n(9);Object.defineProperty(e,"math",{enumerable:!0,get:function(){return r(f)["default"]}});var c=n(2);Object.defineProperty(e,"color",{enumerable:!0,get:function(){return r(c)["default"]}});var h=n(1);Object.defineProperty(e,"dom",{enumerable:!0,get:function(){return r(h)["default"]}});var d=n(7);Object.defineProperty(e,"event",{enumerable:!0,get:function(){return r(d)["default"]}});var v=n(6);Object.defineProperty(e,"etc",{enumerable:!0,get:function(){return r(v)["default"]}});var p=n(0);Object.defineProperty(e,"style",{enumerable:!0,get:function(){return r(p)["default"]}});var y=n(10);Object.defineProperty(e,"text",{enumerable:!0,get:function(){return r(y)["default"]}})}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTM0MzdkMTFmMWYzMjcwZWQxNzUiLCJ3ZWJwYWNrOi8vLy4vbGlicy9zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL2NvbG9yLmpzIiwid2VicGFjazovLy8uL2xpYnMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4vbGlicy9hbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbGlicy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL2V0Yy5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL2V2ZW50LmpzIiwid2VicGFjazovLy8uL2xpYnMvZnJlZXNwYWNlLmpzIiwid2VicGFjazovLy8uL2xpYnMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL3RleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbGlicy90cmFuc2Zvcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9saWJzL3ZlY3Rvci5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb21wdXRlZCIsImRvbSIsInByb3AiLCJwYXJzZUludCIsImRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInZlbmRvciIsInByb3BzIiwib3V0IiwicHJlZml4IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImZvckVhY2giLCJsZW5ndGgiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwic3R5bGUiLCJmcm9tU3RyaW5nIiwiaHRtbCIsInBhcmVudCIsImlubmVySFRNTCIsImZpcnN0Q2hpbGQiLCJwcmVwZW5kIiwiY2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsInNlbGVjdGlvbiIsIm1vZGUiLCJvbmRyYWdzdGFydCIsIm9uc2VsZWN0c3RhcnQiLCJjbG9uZSIsIl90aGlzIiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZ2V0RGltZW5zaW9ucyIsIl90aGlzMiIsIm9mZnNldExlZnQiLCJ3Iiwib2Zmc2V0V2lkdGgiLCJ0Iiwib2Zmc2V0VG9wIiwiaCIsIm9mZnNldEhlaWdodCIsInIiLCJiIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJoc3ZhIiwiaHVlIiwic2F0dXJhdGlvbiIsImFscGhhIiwidHJuIiwicmFuZCIsIl9hbHBoYSIsInJnYiIsIk1hdGgiLCJyYW5kb20iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiZGVmYXVsdCIsIl9zdHlsZSIsIl9zdHlsZTIiLCJfZG9tMiIsIl9kb20zIiwidmlld1BvcnRPZmZzZXQiLCJwYXJhbXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwib2Zmc2V0IiwiX2RvbSIsImJvZHkiLCJwb3NpdGlvbiIsInNjcm9sbCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJtYXJnaW4iLCJkb21Db2xsaXNpb24iLCJhIiwiYm94Q29sbGlzaW9uIiwidmlld1BvcnRTaXplIiwid2luVyIsIndpbkgiLCJtaW5XaWR0aFZhbCIsIm91dHB1dCIsImFzcGVjdCIsIndpbkhlaWdodCIsImNhbGNIZWlnaHQiLCJtYXhIZWlnaHQiLCJvcmlnQ2FsY1dpZHRoIiwibm9ybUNhbGNXaWR0aCIsImNhbGNTaWRlIiwiZWFzaW5nIiwibGluZWFyIiwiZWFzZU91dEV4cG8iLCJwb3ciLCJlYXNlSW5RdWFkIiwic2luIiwiUEkiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1aW50IiwiZWFzZU91dEVsYXN0aWMiLCJlYXNlT3V0Qm91bmNlIiwiZnBzIiwiam9icyIsIkFycmF5IiwibG9vcCIsIkpvYiIsIl9kdXJhdGlvbiIsIl9lYXNpbmciLCJfb25VcGRhdGUiLCJfb25FbmQiLCJvbkVuZCIsInN0YXJ0IiwiRGF0ZSIsImNvdW50IiwidGltZSIsInNldEludGVydmFsIiwiam9ic1RlbXAiLCJwdXNoIiwiY2xlYXJJbnRlcnZhbCIsImJpbmQiLCJwbGF5IiwiX3R5cGUiLCJnZXRTaW51cyIsImZyb20iLCJ0byIsInNwZWVkIiwiZ2V0VGltZSIsIm1hdGgiLCJtYXAiLCJzcGxpdFF1ZXJ5IiwicXVlcnkiLCJsZXZlbHMiLCJzcGxpdCIsImxldmVsIiwibGFzdCIsInBhdGgiLCJhcnJheSIsImxpc3QiLCJmaW5kIiwidGVtcCIsImRlbCIsImRlbGV0ZWQiLCJmb3VuZCIsInNwbGljZSIsImluZGV4T2YiLCJ1cGRhdGVDb2x1bW4iLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJmaWx0ZXJNYXAiLCJrZXlzIiwib3JpZ2luYWwiLCJidWZmZXIiLCJzaXplIiwic3VtIiwic2hpZnQiLCJpc0Zpbml0ZSIsInBhcnNlRmxvYXQiLCJhcmdFeGlzdCIsIl9hcmd1bWVudCIsImNsb25lT2JqZWN0IiwiX29iamVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInJlYWRGaWxlIiwiZmlsZSIsImNhbGxiYWNrIiwidGVzdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJkYXRhIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImRyb3BGaWxlIiwiem9uZSIsIm9ucmVhZHkiLCJvbmRyYWdvdmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwib25kcmFnbGVhdmUiLCJvbmRyb3AiLCJldmVudCIsIndpbmRvdyIsImZpbGVzIiwiZGF0YVRyYW5zZmVyIiwicHJldmVudERlZmF1bHQiLCJ1cGxvYWRGaWxlIiwiaW5wdXQiLCJfdGhpczMiLCJvbmNoYW5nZSIsImNvbXByZXNzSW1hZ2UiLCJzY2FsZSIsInF1YWxpdHkiLCJfdGhpczQiLCJpbWFnZSIsImNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJzcmMiLCJjb29raWUiLCJjb29raWVzIiwicGFyYW0iLCJidW5kbGUiLCJzZXQiLCJzdHJpbmciLCJzZWFyY2giLCJhZGRyZXNzIiwidGltZW91dCIsImR1cmF0aW9uIiwiaW50ZXJ2YWwiLCJjaGVjayIsImV4ZWN1dGUiLCJzdWNjZXNzIiwidHlwZSIsImlzVG91Y2giLCJ0b3VjaCIsImRvd24iLCJtb3ZlIiwidXAiLCJkcmFnIiwidG91Y2hzdGFydCIsInRhcmdldFRvdWNoZXMiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInJlc2l6ZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnVXBkYXRlIiwib25EcmFnUmVsZWFzZSIsIm9uRHJhZ1N0YXJ0RmxhZyIsImNoZWNrU3RhcnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiX2dlb21ldHJ5IiwiX2dlb21ldHJ5MiIsIl9jb2xvciIsIl9jb2xvcjIiLCJib3giLCJfbWF4IiwiX2JveGVzIiwiYm94ZXMiLCJhcmVhIiwibkNlbGwiLCJoZWFkIiwiY29sbGlkZSIsImV4cGFuc2lvbiIsIngiLCJ5IiwiZGV0YWNoIiwiYXBwZW5kIiwiZmlsdGVyIiwicHJldiIsInBvcCIsImJveGVzTGVuZ3RoIiwidW5kZWZpbmVkIiwiX2JveCIsImRpcmVjdGlvbiIsInBvaW50ZXIiLCJsaXN0TGVuZ3RoIiwiX2xpc3QiLCJvbGRCb3hlcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnbCIsImdyaWQiLCJndXR0ZXIiLCJjbGFzc05hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJQVHRvUFgiLCJhTWluIiwiYU1heCIsImJNaW4iLCJiTWF4IiwiY2xhbXAiLCJiaW5hcnlTZWFyY2giLCJtYXgiLCJtaW4iLCJsaW5lYXJJbnRlcnBvbGF0aW9uIiwicG9pbnRzIiwibFZhbHVlIiwiclZhbHVlIiwiZ2V0VmFsdWVCeVNpemUiLCJzaXplcyIsImxpbmVDb3VudHMiLCJydWJiZXJFZmZlY3QiLCJ0aHJlc2hvbGQiLCJzdGF0ZSIsImZhY3RvciIsIm1heFRydWUiLCJtaW5UcnVlIiwicmFuZ2UiLCJtYXhTdGF0ZSIsIm1pblN0YXRlIiwiZWxsaXBzaXMiLCJ0ZXh0IiwiZWxscHNpcyIsIndvcmRzIiwiX2kiLCJqb2luIiwibGluZUNvdW50IiwiY2FwaXRhbGl6ZSIsImhhc2giLCJjaGFyQ29kZUF0IiwiZWxlbWVudCIsInNldFRyYW5zZm9ybWF0aW9uIiwidHJhbnNsYXRlIiwidHJhbnNsYXRpb24iLCJ2ZW5kb3JQcmVmaXgiLCJzZXRPcmlnaW4iLCJvcmlnaW4iLCJyb3RhdGlvbiIsInoiLCJvcmlnaW5YWSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwidHJhbnNsYXRlWFkiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInNjYWxlWFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGUiLCJWZWMiLCJhcmd1bWVudHMiLCJ2ZWMiLCJhcHBseSIsInNxcnQiLCJsZW4iLCJub3JtIiwiZ2V0Tm9ybSIsImF0YW4yIiwiX2FuaW1hdGlvbiIsIl9mcmVlc3BhY2UiLCJfdHJhbnNmb3JtYXRpb24iLCJfYXJyYXkiLCJfdmVjdG9yIiwiX21hdGgiLCJfZXZlbnQiLCJfZXRjIiwi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LElBQUlnUyxHQUFRbFksRUFBb0IsR0FFaENZLFFBQU9DLGVBQWVuQixFQUFTLFFBQzdCcUIsWUFBWSxFQUNaQyxJQUFLLFdBQ0gsTUFBT2tGLEdBQXVCZ1MsR0FBdkJoUyIsImZpbGUiOiIuL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZndcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZndcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZndcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZndcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vcnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9yeSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0fSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgY29tcHV0ZWQ6IGZ1bmN0aW9uIGNvbXB1dGVkKGRvbSwgcHJvcCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShkb20sIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCkpO1xuICAgIH0sXG5cblxuICAgIHZlbmRvcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBvdXQgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIG91dDtcbiAgICAgICAgdmFyIHByZWZpeCA9IFtudWxsLCAnbXMnLCAnd2Via2l0JywgJ21veicsICdvJ107XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcmVmaXgubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHByZWZpeFtuXSArIHByZWZpeFtuXSA/IHByb3AgOiBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpdi5zdHlsZVtwXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0W3Byb3BdID0gcDticmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfShbJ3RyYW5zZm9ybScsICd0cmFuc2Zvcm1PcmlnaW4nLCAnY29sdW1uQ291bnQnXSlcbn07XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cdGZyb21TdHJpbmc6IGZ1bmN0aW9uIGZyb21TdHJpbmcoaHRtbCkge1xuXHRcdHZhciBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRwYXJlbnQuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRyZXR1cm4gcGFyZW50LmZpcnN0Q2hpbGQ7XG5cdH0sXG5cblxuXHQvLyBBZGQgRE9NIEVsZW1lbnQgYXQgQmVnaW4gb2YgdGhlIExpc3Rcblx0cHJlcGVuZDogZnVuY3Rpb24gcHJlcGVuZChwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKHBhcmVudC5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuZmlyc3RDaGlsZCk7ZWxzZSBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXHR9LFxuXHRzZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdGlvbihtb2RlKSB7XG5cdFx0ZG9jdW1lbnQub25kcmFnc3RhcnQgPSBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gbW9kZSA/IG51bGwgOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblx0fSxcblx0Y2xvbmU6IGZ1bmN0aW9uIGNsb25lKGRvbSkge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHR2YXIgY2xvbmUgPSBkb20uY2xvbmVOb2RlKHRydWUpO1xuXHRcdGNsb25lLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBfdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzKTtcblx0XHR9O1xuXHRcdGRvbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsb25lKTtcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cdGdldERpbWVuc2lvbnM6IGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZG9tKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bDogZG9tLm9mZnNldExlZnQsXG5cdFx0XHR3OiBkb20ub2Zmc2V0V2lkdGgsXG5cdFx0XHR0OiBkb20ub2Zmc2V0VG9wLFxuXHRcdFx0aDogZG9tLm9mZnNldEhlaWdodCxcblx0XHRcdHI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIF90aGlzMi5sICsgX3RoaXMyLnc7XG5cdFx0XHR9KCksXG5cdFx0XHRiOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBfdGhpczIudCArIF90aGlzMi5oO1xuXHRcdFx0fSgpXG5cdFx0fTtcblx0fVxufTtcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG5cdGhzdmE6IGZ1bmN0aW9uICgpIHtcblx0XHRmdW5jdGlvbiBoc3ZhKGh1ZSwgc2F0dXJhdGlvbiwgdmFsdWUsIGFscGhhKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgaHN2YSk7XG5cblx0XHRcdHRoaXMuaHVlID0gaHVlO1xuXHRcdFx0dGhpcy5zYXR1cmF0aW9uID0gc2F0dXJhdGlvbjtcblx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHRcdHRoaXMuYWxwaGEgPSBhbHBoYTtcblx0XHR9XG5cblx0XHRfY3JlYXRlQ2xhc3MoaHN2YSwgW3tcblx0XHRcdGtleTogJ2dldCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdFx0XHR2YXIgdHJuID0gMTAwIC0gNTAgKiB0aGlzLnNhdHVyYXRpb247XG5cdFx0XHRcdHJldHVybiAnaHNsYSgnICsgMzYwICogdGhpcy5odWUgKyAnLCAnICsgMTAwICogdGhpcy5zYXR1cmF0aW9uICsgJyUsICcgKyB0cm4gKiB0aGlzLnZhbHVlICsgJyUsICcgKyB0aGlzLmFscGhhICsgJyknO1xuXHRcdFx0fVxuXHRcdH1dKTtcblxuXHRcdHJldHVybiBoc3ZhO1xuXHR9KCksXG5cblx0cmFuZDogZnVuY3Rpb24gcmFuZChfYWxwaGEpIHtcblx0XHR2YXIgcmdiID0gZnVuY3Rpb24gcmdiKCkge1xuXHRcdFx0cmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAyMDAgKyA1NSk7XG5cdFx0fTtcblx0XHRyZXR1cm4gJ3JnYmEoJyArIHJnYigpICsgJywgJyArIHJnYigpICsgJywgJyArIHJnYigpICsgJywgJyArIChfYWxwaGEgPyBfYWxwaGEgOiAwLjMpICsgJyknO1xuXHR9XG59O1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9zdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSk7XG5cbnZhciBfZG9tMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfZG9tMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cdHZpZXdQb3J0T2Zmc2V0OiBmdW5jdGlvbiB2aWV3UG9ydE9mZnNldChkb20pIHtcblx0XHR2YXIgcGFyYW1zID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRsOiBwYXJhbXMubGVmdCxcblx0XHRcdHQ6IHBhcmFtcy50b3Bcblx0XHR9O1xuXHR9LFxuXHRvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldChkb20sIHBhcmVudCkge1xuXHRcdHZhciBkb20gPSBfZG9tO1xuXHRcdHZhciBvZmZzZXQgPSB7IGw6IDAsIHQ6IDAgfTtcblx0XHR2YXIgcGFyZW50ID0gcGFyZW50IHx8IGRvY3VtZW50LmJvZHk7XG5cdFx0d2hpbGUgKGRvbSAmJiBkb20ucGFyZW50Tm9kZSAmJiBkb20gIT0gcGFyZW50KSB7XG5cdFx0XHR2YXIgcG9zaXRpb24gPSB7XG5cdFx0XHRcdGw6IGRvbS5vZmZzZXRMZWZ0LFxuXHRcdFx0XHR0OiBkb20ub2Zmc2V0VG9wXG5cdFx0XHR9O1xuXHRcdFx0dmFyIHNjcm9sbCA9IHtcblx0XHRcdFx0bDogZG9tLnBhcmVudE5vZGUuc2Nyb2xsTGVmdCxcblx0XHRcdFx0dDogZG9tLnBhcmVudE5vZGUuc2Nyb2xsVG9wXG5cdFx0XHR9O1xuXHRcdFx0dmFyIG1hcmdpbiA9IHtcblx0XHRcdFx0bDogX3N0eWxlMi5kZWZhdWx0LmNvbXB1dGVkKGRvbSwgJ21hcmdpbi1sZWZ0JyksXG5cdFx0XHRcdHQ6IF9zdHlsZTIuZGVmYXVsdC5jb21wdXRlZChkb20sICdtYXJnaW4tdG9wJylcblx0XHRcdH07XG5cdFx0XHRvZmZzZXQubCArPSBwb3NpdGlvbi5sIC0gc2Nyb2xsLmwgLSBtYXJnaW4ubDtcblx0XHRcdG9mZnNldC50ICs9IHBvc2l0aW9uLnQgLSBzY3JvbGwudCAtIG1hcmdpbi50O1xuXHRcdFx0ZG9tID0gZG9tLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdHJldHVybiBvZmZzZXQ7XG5cdH0sXG5cdGRvbUNvbGxpc2lvbjogZnVuY3Rpb24gZG9tQ29sbGlzaW9uKGEsIGIpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3hDb2xsaXNpb24oX2RvbTMuZGVmYXVsdC5nZXREaW1lbnNpb25zKGEpLCBfZG9tMy5kZWZhdWx0LmdldERpbWVuc2lvbnMoYikpO1xuXHR9LFxuXHRib3hDb2xsaXNpb246IGZ1bmN0aW9uIGJveENvbGxpc2lvbihhLCBiKSB7XG5cdFx0cmV0dXJuIGEubCA8IGIubCArIGIudyAmJiBhLnQgPCBiLnQgKyBiLmggJiYgYi5sIDwgYS5sICsgYS53ICYmIGIudCA8IGEudCArIGEuaDtcblx0fSxcblx0dmlld1BvcnRTaXplOiBmdW5jdGlvbiB2aWV3UG9ydFNpemUodywgaCwgd2luVywgd2luSCwgbWFyZ2luLCBtaW5XaWR0aFZhbCkge1xuXHRcdHZhciBvdXRwdXQgPSBuZXcgT2JqZWN0KCk7XG5cdFx0dmFyIGFzcGVjdCA9IHcgLyBoO1xuXHRcdHZhciB3aW5IZWlnaHQgPSB3aW5IIC0gMiAqIG1hcmdpbjtcblx0XHR2YXIgY2FsY0hlaWdodCA9IHdpblcgLyBhc3BlY3Q7XG5cdFx0dmFyIG1heEhlaWdodCA9IHdpbkhlaWdodCAqIGFzcGVjdCA8IG1pbldpZHRoVmFsID8gbWluV2lkdGhWYWwgLyBhc3BlY3QgOiB3aW5IZWlnaHQ7XG5cdFx0aWYgKHdpblcgPCB3ICYmIGNhbGNIZWlnaHQgPCBtYXhIZWlnaHQpIHtcblx0XHRcdG91dHB1dC53ID0gd2luVztcblx0XHRcdG91dHB1dC5oID0gY2FsY0hlaWdodDtcblx0XHRcdG91dHB1dC5tID0gMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIG9yaWdDYWxjV2lkdGggPSBtYXhIZWlnaHQgKiBhc3BlY3Q7XG5cdFx0XHR2YXIgbm9ybUNhbGNXaWR0aCA9IG9yaWdDYWxjV2lkdGggPCB3ID8gb3JpZ0NhbGNXaWR0aCA6IHc7XG5cdFx0XHR2YXIgY2FsY1NpZGUgPSAod2luVyAtIG5vcm1DYWxjV2lkdGgpIC8gMjtcblx0XHRcdG91dHB1dC53ID0gbm9ybUNhbGNXaWR0aDtcblx0XHRcdG91dHB1dC5oID0gbWF4SGVpZ2h0IDwgaCA/IG1heEhlaWdodCA6IGg7XG5cdFx0XHRvdXRwdXQubSA9IGNhbGNTaWRlIDwgbWFyZ2luID8gY2FsY1NpZGUgOiBtYXJnaW47XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cbn07XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcblx0YW5pbWF0aW9uLnBsYXkoMC41LCAnbGluZWFyJywgdCA9PiB7XG5cdFx0ZG9tLnN0eWxlLm9wYWNpdHkgPSAxLXRcblx0fSwgKCkgPT4ge1xuXHRcdG9iai5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHRcblx0fSlcbiovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuXHRlYXNpbmc6IHtcblx0XHRsaW5lYXI6IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG5cdFx0XHRyZXR1cm4gdDtcblx0XHR9LFxuXHRcdGVhc2VPdXRFeHBvOiBmdW5jdGlvbiBlYXNlT3V0RXhwbyh0KSB7XG5cdFx0XHRyZXR1cm4gMSAtIE1hdGgucG93KDIsIC0xMCAqIHQpO1xuXHRcdH0sXG5cdFx0ZWFzZUluUXVhZDogZnVuY3Rpb24gZWFzZUluUXVhZCh0KSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5zaW4odCAqIChNYXRoLlBJIC8gMikpO1xuXHRcdH0sXG5cdFx0ZWFzZU91dFF1YWQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWFkKHQpIHtcblx0XHRcdHJldHVybiB0ICogKDIgLSB0KTtcblx0XHR9LFxuXHRcdGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiBlYXNlSW5PdXRRdWludCh0KSB7XG5cdFx0XHRyZXR1cm4gdCA8IDAuNSA/IDE2ICogTWF0aC5wb3codCwgNSkgOiAtLXQgKiAxNiAqIE1hdGgucG93KHQsIDQpICsgMTtcblx0XHR9LFxuXHRcdGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyh0KSB7XG5cdFx0XHR2YXIgcCA9IDAuODtcblx0XHRcdHJldHVybiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0IC0gcCAvIDQpICogKDIgKiBNYXRoLlBJKSAvIHApICsgMTtcblx0XHR9LFxuXHRcdGVhc2VPdXRCb3VuY2U6IGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2UodCkge1xuXHRcdFx0aWYgKHQgPCAxLjAgLyAyLjc1KSB7XG5cdFx0XHRcdHJldHVybiA3LjU2MjUgKiB0ICogdDtcblx0XHRcdH0gZWxzZSBpZiAodCA8IDIuMCAvIDIuNzUpIHtcblx0XHRcdFx0cmV0dXJuIDcuNTYyNSAqIHQgKiAodCAtPSAxLjUwMCAvIDIuNzUpICsgMC43NTAwMDA7XG5cdFx0XHR9IGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG5cdFx0XHRcdHJldHVybiA3LjU2MjUgKiB0ICogKHQgLT0gMi4yNTAgLyAyLjc1KSArIDAuOTM3NTAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIDcuNTYyNSAqIHQgKiAodCAtPSAyLjYyNSAvIDIuNzUpICsgMC45ODQzNzU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGZwczogNjAsXG5cdGpvYnM6IG5ldyBBcnJheSgpLFxuXHRsb29wOiBmYWxzZSxcblxuXHRKb2I6IGZ1bmN0aW9uIEpvYihfZHVyYXRpb24sIF9lYXNpbmcsIF9vblVwZGF0ZSwgX29uRW5kKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEpvYik7XG5cblx0XHR0aGlzLm9uRW5kID0gX29uRW5kO1xuXHRcdHZhciBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFx0X29uVXBkYXRlKDAuMCk7XG5cdFx0dGhpcy5jb3VudCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciB0aW1lID0gKG5ldyBEYXRlKCkgLSBzdGFydCkgLyAxMDAwIC8gX2R1cmF0aW9uO1xuXHRcdFx0X29uVXBkYXRlKHRpbWUgPCAxLjAgPyBfZWFzaW5nKHRpbWUpIDogMS4wKTtcblx0XHRcdHJldHVybiB0aW1lIDwgMS4wID8gdGltZSA6IDEuMDtcblx0XHR9O1xuXHR9LFxuXG5cdHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0Ly8gU3RhcnQgTG9vcFxuXHRcdHRoaXMubG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIENvdW50IEpvYnNcblx0XHRcdHZhciBqb2JzVGVtcCA9IG5ldyBBcnJheSgpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5qb2JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChfdGhpcy5qb2JzW2ldLmNvdW50KCkgPT0gMS4wKSB7XG5cdFx0XHRcdFx0aWYgKF90aGlzLmpvYnNbaV0ub25FbmQpIF90aGlzLmpvYnNbaV0ub25FbmQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRqb2JzVGVtcC5wdXNoKF90aGlzLmpvYnNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9X3RoaXMuam9icyA9IGpvYnNUZW1wO1xuXHRcdFx0Ly8gSWYgTGlzdCBpcyBFbXB0eSA+IFN0b3AgTG9vcFxuXHRcdFx0aWYgKF90aGlzLmpvYnMubGVuZ3RoID09IDApIHtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbChfdGhpcy5sb29wKTtcblx0XHRcdFx0X3RoaXMubG9vcCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fS5iaW5kKHRoaXMpLCAxMDAwIC8gdGhpcy5mcHMpO1xuXHR9LFxuXHRwbGF5OiBmdW5jdGlvbiBwbGF5KF9kdXJhdGlvbiwgX3R5cGUsIF9vblVwZGF0ZSwgX29uRW5kKSB7XG5cdFx0dGhpcy5qb2JzLnB1c2gobmV3IHRoaXMuSm9iKF9kdXJhdGlvbiwgdGhpcy5lYXNpbmdbX3R5cGVdLCBfb25VcGRhdGUsIF9vbkVuZCkpO1xuXHRcdGlmICghdGhpcy5sb29wKSB0aGlzLnN0YXJ0KCk7XG5cdH0sXG5cblxuXHQvLyBPdGhlciBGdW5jdGlvbnNcblx0Z2V0U2ludXM6IGZ1bmN0aW9uIGdldFNpbnVzKGZyb20sIHRvLCBzcGVlZCkge1xuXHRcdHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKiAwLjAwMTtcblx0XHR2YXIgc2luID0gTWF0aC5zaW4odGltZSAqIChzcGVlZCB8fCAxKSk7XG5cdFx0cmV0dXJuIHRoaXMucm9vdC5tYXRoLm1hcChzaW4sIC0xLCAxLCBmcm9tLCB0byk7XG5cdH1cbn07XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG4gICAgLy8gc3BsaXRRdWVyeSgncGFyZW50LmNoaWxkLmVsZW1lbnQnKVxuICAgIHNwbGl0UXVlcnk6IGZ1bmN0aW9uIHNwbGl0UXVlcnkocXVlcnkpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IHF1ZXJ5LnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZXZlbDogbGV2ZWxzLFxuICAgICAgICAgICAgbGFzdDogbGV2ZWxzLmxlbmd0aCAtIDFcbiAgICAgICAgfTtcbiAgICB9LFxuXG5cbiAgICAvLyBsZXZlbCh7aWQ6IFsxMCwgMTVdfSwgc3BsaXRRdWVyeSgnaWQuMCcpLCAyMCk7IC0+IHtpZDogWzIwLCAxNV19XG4gICAgbGV2ZWw6IGZ1bmN0aW9uIGxldmVsKG9iamVjdCwgcXVlcnksIHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXRoID0gb2JqZWN0O1xuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHF1ZXJ5Lmxhc3Q7IG4rKykge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGhbcXVlcnkubGV2ZWxbbl1dO1xuICAgICAgICB9aWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBwYXRoW3F1ZXJ5LmxldmVsW3F1ZXJ5Lmxhc3RdXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhbcXVlcnkubGV2ZWxbcXVlcnkubGFzdF1dO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLy8gbWFwKHdvcmtzcGFjZXMsICd3b3Jrc3BhY2UuaXRlbXMuMScpXG4gICAgbWFwOiBmdW5jdGlvbiBtYXAoYXJyYXksIHF1ZXJ5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGxldmVscyA9IHRoaXMuc3BsaXRRdWVyeShxdWVyeSk7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5sZXZlbChsaXN0LCBsZXZlbHMpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cblxuICAgIC8vIHZhciBidW5kbGUgPSBmaW5kKHdvcmtzcGFjZXMsIHtpZDogaWR9KTtcbiAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKGFycmF5LCBxdWVyeSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLm1hcChvdXRwdXQsIGkpO1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBtYXAubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWFwW25dID09IHF1ZXJ5W2ldKSB0ZW1wLnB1c2gob3V0cHV0W25dKTtcbiAgICAgICAgICAgIH1vdXRwdXQgPSB0ZW1wLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9LFxuXG5cbiAgICAvLyB2YXIgZGVsZXRlZCA9IGRlbCh3b3Jrc3BhY2VzLCB7J3RpdGxlLmNvbG9yJzogY29sb3J9KTtcbiAgICBkZWw6IGZ1bmN0aW9uIGRlbChhcnJheSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSB0aGlzLmZpbmQoYXJyYXksIHF1ZXJ5KTtcbiAgICAgICAgZGVsZXRlZC5mb3JFYWNoKGZ1bmN0aW9uIChmb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNwbGljZShhcnJheS5pbmRleE9mKGZvdW5kKSwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVsZXRlZDtcbiAgICB9LFxuXG5cbiAgICAvLyB1cGRhdGVDb2x1bW4oW3tpZDogMTV9LCB7aWQ6IDMwfV0sIHtpZDogWzIwLCAxNV19KTsgLT4gW3tpZDogMjB9LCB7aWQ6IDE1fV1cbiAgICB1cGRhdGVDb2x1bW46IGZ1bmN0aW9uIHVwZGF0ZUNvbHVtbihhcnJheSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PSBxdWVyeVtpXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5zcGxpdFF1ZXJ5KGkpO1xuICAgICAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5sZXZlbChvYmplY3QsIGxldmVscywgcXVlcnlbaV1baW5kZXhdKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGlmZmVyZW50IGxlbmdodGVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG5cbiAgICAvL2ZpbHRlck1hcCh3b3Jrc3BhY2VzLCB7X2lkLCAnaWQnLCBhbGlhczogJ25hbWUnfSk7XG4gICAgZmlsdGVyTWFwOiBmdW5jdGlvbiBmaWx0ZXJNYXAoYXJyYXksIGtleXMpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xuICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGtleXMpIHtcbiAgICAgICAgICAgICAgICBvYmplY3Rba2V5c1trZXldXSA9IG9yaWdpbmFsW2tleV07XG4gICAgICAgICAgICB9b3V0cHV0LnB1c2gob2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSxcblxuXG4gICAgLy8gdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIoMTApIHRoZW4gdmFyIHZhbHVlID0gYnVmZmVyLmdldCgyMy40NDUpIFxuICAgIGJ1ZmZlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBidWZmZXIoc2l6ZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGJ1ZmZlcik7XG5cbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoYnVmZmVyLCBbe1xuICAgICAgICAgICAga2V5OiAnZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5hcnJheS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA+IHRoaXMuc2l6ZSkgdGhpcy5hcnJheS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUodGhpcy5hcnJheVtpXSkpIHN1bSArPSBwYXJzZUZsb2F0KHRoaXMuYXJyYXlbaV0pO1xuICAgICAgICAgICAgICAgIH1yZXR1cm4gc3VtIC8gbGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9KClcbn07XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cdGFyZ0V4aXN0OiBmdW5jdGlvbiBhcmdFeGlzdChfYXJndW1lbnQpIHtcblx0XHRyZXR1cm4gdHlwZW9mIF9hcmd1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cdH0sXG5cdGNsb25lT2JqZWN0OiBmdW5jdGlvbiBjbG9uZU9iamVjdChfb2JqZWN0KSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX29iamVjdCkpO1xuXHR9LFxuXHRyZWFkRmlsZTogZnVuY3Rpb24gcmVhZEZpbGUoZmlsZSwgY2FsbGJhY2spIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0aWYgKC9cXC4oanBlP2d8cG5nfGdpZikkL2kudGVzdChmaWxlLm5hbWUpKSB7XG5cdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNhbGxiYWNrKHtcblx0XHRcdFx0XHRuYW1lOiBmaWxlLm5hbWUsXG5cdFx0XHRcdFx0ZGF0YTogX3RoaXMucmVzdWx0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuXHRcdH1cblx0fSxcblx0ZHJvcEZpbGU6IGZ1bmN0aW9uIGRyb3BGaWxlKHpvbmUsIG9ucmVhZHkpIHtcblx0XHR2YXIgX3RoaXMyID0gdGhpcztcblxuXHRcdHpvbmUub25kcmFnb3ZlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHpvbmUuY2xhc3NMaXN0LmFkZCgnZHJvcCcpO3JldHVybiBmYWxzZTtcblx0XHR9O1xuXHRcdHpvbmUub25kcmFnbGVhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AnKTtcblx0XHR9O1xuXHRcdHpvbmUub25kcm9wID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0em9uZS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wJyk7XG5cdFx0XHR2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG5cdFx0XHR2YXIgZmlsZXMgPSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG5cdFx0XHR2YXIgb3V0cHV0ID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdF90aGlzMi5yZWFkRmlsZShmaWxlc1tpXSwgZnVuY3Rpb24gKGZpbGUpIHtcblx0XHRcdFx0XHRvdXRwdXQucHVzaChmaWxlKTtcblx0XHRcdFx0XHRpZiAob3V0cHV0Lmxlbmd0aCA9PSBmaWxlcy5sZW5ndGgpIG9ucmVhZHkob3V0cHV0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9LmJpbmQodGhpcyk7XG5cdH0sXG5cdHVwbG9hZEZpbGU6IGZ1bmN0aW9uIHVwbG9hZEZpbGUoaW5wdXQsIG9ucmVhZHkpIHtcblx0XHR2YXIgX3RoaXMzID0gdGhpcztcblxuXHRcdGlucHV0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGV2ZW50ID0gd2luZG93LmV2ZW50O1xuXHRcdFx0dmFyIGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuXHRcdFx0dmFyIG91dHB1dCA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRfdGhpczMucmVhZEZpbGUoZmlsZXNbaV0sIGZ1bmN0aW9uIChmaWxlKSB7XG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goZmlsZSk7XG5cdFx0XHRcdFx0aWYgKG91dHB1dC5sZW5ndGggPT0gZmlsZXMubGVuZ3RoKSBvbnJlYWR5KG91dHB1dCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0uYmluZCh0aGlzKTtcblx0fSxcblx0Y29tcHJlc3NJbWFnZTogZnVuY3Rpb24gY29tcHJlc3NJbWFnZShsaXN0LCBzY2FsZSwgcXVhbGl0eSwgY2FsbGJhY2spIHtcblx0XHR2YXIgX3RoaXM0ID0gdGhpcztcblxuXHRcdHZhciBvdXRwdXQgPSBbXTtcblx0XHRsaXN0LmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXHRcdFx0aW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHRcdHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cdFx0XHRcdHZhciB3aWR0aCA9IF90aGlzNC53aWR0aCAqIHNjYWxlO1xuXHRcdFx0XHR2YXIgaGVpZ2h0ID0gX3RoaXM0LmhlaWdodCAqIHNjYWxlO1xuXHRcdFx0XHRjYW52YXMud2lkdGggPSB3aWR0aDtcblx0XHRcdFx0Y2FudmFzLmhlaWdodCA9IGhlaWdodDtcblx0XHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoX3RoaXM0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblx0XHRcdFx0b3V0cHV0LnB1c2goY2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwgcXVhbGl0eSkpO1xuXHRcdFx0XHRpZiAob3V0cHV0Lmxlbmd0aCA9PSBsaXN0Lmxlbmd0aCkgY2FsbGJhY2sob3V0cHV0KTtcblx0XHRcdH07XG5cdFx0XHRpbWFnZS5zcmMgPSBkYXRhO1xuXHRcdH0pO1xuXHR9LFxuXG5cblx0LypcbiBcdGRlY29kZUJhc2U2NCAoZGF0YVN0cmluZykge1xuIFx0XHRpZiAodHlwZW9mIEJ1ZmZlciAhPT0gdW5kZWZpbmVkKSB7XG4gXHRcdFx0dmFyIG1hdGNoZXMgPSBkYXRhU3RyaW5nLm1hdGNoKC9eZGF0YTooW0EtWmEtei0rXFwvXSspO2Jhc2U2NCwoLispJC8pXG4gXHRcdFx0aWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSByZXR1cm4gbmV3IEVycm9yKCdpbnZhbGlkIGlucHV0IHN0cmluZycpXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGUgOiBtYXRjaGVzWzFdLFxuIFx0XHRcdFx0ZGF0YSA6IG5ldyBCdWZmZXIobWF0Y2hlc1syXSwgJ2Jhc2U2NCcpXG4gXHRcdFx0fVxuIFx0XHR9XG4gXHR9LFxuICovXG5cblx0Y29va2llOiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiBnZXQoY29va2llcykge1xuXHRcdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdFx0aWYgKGNvb2tpZXMpIHtcblx0XHRcdFx0dmFyIHBhcmFtcyA9IGNvb2tpZXMuc3BsaXQoJzsgJyk7XG5cdFx0XHRcdHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXHRcdFx0XHRcdHZhciBidW5kbGUgPSBwYXJhbS5zcGxpdCgnPScpO1xuXHRcdFx0XHRcdG9iamVjdFtidW5kbGVbMF1dID0gYnVuZGxlWzFdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvYmplY3Q7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIHNldChjb29raWVzKSB7XG5cdFx0XHR2YXIgc3RyaW5nID0gJyc7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gY29va2llcykge1xuXHRcdFx0XHRzdHJpbmcgKz0ga2V5ICsgJz0nICsgY29va2llc1trZXldICsgJzsgJztcblx0XHRcdH1yZXR1cm4gc3RyaW5nO1xuXHRcdH0sXG5cdFx0ZGVsOiBmdW5jdGlvbiBkZWwoY29va2llcywga2V5KSB7XG5cdFx0XHRjb29raWVzW2tleV0gPSAnOyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UJztcblx0XHR9XG5cdH0sXG5cblx0c2VhcmNoOiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiBnZXQoYWRkcmVzcykge1xuXHRcdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdFx0dmFyIHF1ZXJ5ID0gYWRkcmVzcy5zcGxpdCgnPycpWzFdO1xuXHRcdFx0aWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG5cdFx0XHRcdHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXHRcdFx0XHRcdHZhciBidW5kbGUgPSBwYXJhbS5zcGxpdCgnPScpO1xuXHRcdFx0XHRcdG9iamVjdFtidW5kbGVbMF1dID0gYnVuZGxlWzFdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvYmplY3Q7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIHNldChxdWVyeSkge1xuXHRcdFx0dmFyIHN0cmluZyA9ICcnO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIHF1ZXJ5KSB7XG5cdFx0XHRcdHN0cmluZyArPSBrZXkgKyAnPScgKyBxdWVyeVtrZXldICsgKE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPiAxID8gJyYnIDogJycpO1xuXHRcdFx0fXJldHVybiBzdHJpbmc7XG5cdFx0fVxuXHR9LFxuXG5cdHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQoZHVyYXRpb24sIGludGVydmFsLCBjaGVjaywgZXhlY3V0ZSwgX3RpbWVvdXQpIHtcblx0XHR2YXIgY291bnQgPSBkdXJhdGlvbiAvIGludGVydmFsO1xuXHRcdHZhciBsb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0Y2hlY2soZnVuY3Rpb24gKHN1Y2Nlc3MpIHtcblx0XHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRleGVjdXRlKCk7XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChsb29wKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoY291bnQgPT0gMCkge1xuXHRcdFx0XHRpZiAoX3RpbWVvdXQpIF90aW1lb3V0KCk7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwobG9vcCk7XG5cdFx0XHR9XG5cdFx0XHRjb3VudC0tO1xuXHRcdH0sIGludGVydmFsICogMTAwMCk7XG5cdH1cbn07XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG5cdHR5cGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhciBpc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG91Y2g6IGlzVG91Y2gsXG5cdFx0XHRcdGRvd246IGlzVG91Y2ggPyAnb250b3VjaHN0YXJ0JyA6ICdvbm1vdXNlZG93bicsXG5cdFx0XHRcdG1vdmU6IGlzVG91Y2ggPyAnb250b3VjaG1vdmUnIDogJ29ubW91c2Vtb3ZlJyxcblx0XHRcdFx0dXA6IGlzVG91Y2ggPyAnb250b3VjaGVuZCcgOiAnb25tb3VzZXVwJyxcblx0XHRcdFx0b3V0OiAnb25tb3VzZWxlYXZlJ1xuXHRcdFx0fTtcblx0XHR9XG5cdH0oKSxcblxuXHRkcmFnOiBmdW5jdGlvbiBkcmFnKGRvbSwgZG93biwgbW92ZSwgdXApIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0dmFyIHBhcmFtcyA9IG5ldyBPYmplY3QoKTtcblx0XHR2YXIgdG91Y2hzdGFydCA9IGZ1bmN0aW9uIHRvdWNoc3RhcnQoKSB7XG5cdFx0XHRfZG9tMi5kZWZhdWx0LnNlbGVjdGlvbihmYWxzZSk7XG5cdFx0XHRwYXJhbXMuZXZlbnQgPSBfdGhpcy50eXBlLnRvdWNoID8gd2luZG93LmV2ZW50LnRhcmdldFRvdWNoZXNbMF0gOiB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRkb3duKHBhcmFtcyk7XG5cdFx0XHRkb21bX3RoaXMudHlwZS5kb3duXSA9IG51bGw7XG5cdFx0XHRkb2N1bWVudC5ib2R5W190aGlzLnR5cGUubW92ZV0gPSB0b3VjaG1vdmUuYmluZChfdGhpcyk7XG5cdFx0XHRkb2N1bWVudC5ib2R5W190aGlzLnR5cGUudXBdID0gdG91Y2hlbmQuYmluZChfdGhpcyk7XG5cdFx0XHRkb2N1bWVudC5ib2R5W190aGlzLnR5cGUub3V0XSA9IHRvdWNoZW5kLmJpbmQoX3RoaXMpO1xuXHRcdH07XG5cblx0XHR2YXIgdG91Y2htb3ZlID0gZnVuY3Rpb24gdG91Y2htb3ZlKCkge1xuXHRcdFx0d2luZG93LmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRwYXJhbXMuZXZlbnQgPSBfdGhpcy50eXBlLnRvdWNoID8gd2luZG93LmV2ZW50LnRhcmdldFRvdWNoZXNbMF0gOiB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRtb3ZlKHBhcmFtcyk7XG5cdFx0fTtcblxuXHRcdHZhciB0b3VjaGVuZCA9IGZ1bmN0aW9uIHRvdWNoZW5kKCkge1xuXHRcdFx0X2RvbTIuZGVmYXVsdC5zZWxlY3Rpb24odHJ1ZSk7XG5cdFx0XHRkb2N1bWVudC5ib2R5W190aGlzLnR5cGUubW92ZV0gPSBudWxsO1xuXHRcdFx0ZG9jdW1lbnQuYm9keVtfdGhpcy50eXBlLnVwXSA9IG51bGw7XG5cdFx0XHRkb21bX3RoaXMudHlwZS5kb3duXSA9IHRvdWNoc3RhcnQuYmluZChfdGhpcyk7XG5cdFx0XHR1cChwYXJhbXMpO1xuXHRcdH07XG5cdFx0ZG9tW3RoaXMudHlwZS5kb3duXSA9IHRvdWNoc3RhcnQuYmluZCh0aGlzKTtcblx0fSxcblxuXG5cdHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXHRcdGZ1bmN0aW9uIHJlc2l6ZShvbkRyYWdTdGFydCwgb25EcmFnVXBkYXRlLCBvbkRyYWdSZWxlYXNlKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgcmVzaXplKTtcblxuXHRcdFx0dGhpcy50aW1lb3V0ID0gbnVsbDtcblx0XHRcdHRoaXMub25EcmFnU3RhcnRGbGFnID0gbnVsbDtcblx0XHRcdHRoaXMub25EcmFnU3RhcnQgPSBvbkRyYWdTdGFydDtcblx0XHRcdHRoaXMub25EcmFnVXBkYXRlID0gb25EcmFnVXBkYXRlO1xuXHRcdFx0dGhpcy5vbkRyYWdSZWxlYXNlID0gb25EcmFnUmVsZWFzZTtcblx0XHR9XG5cblx0XHRfY3JlYXRlQ2xhc3MocmVzaXplLCBbe1xuXHRcdFx0a2V5OiAnY2FsbCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gY2FsbCgpIHtcblx0XHRcdFx0dGhpcy5jaGVja1N0YXJ0KCk7XG5cdFx0XHRcdGlmICh0aGlzLm9uRHJhZ1VwZGF0ZSkgdGhpcy5vbkRyYWdVcGRhdGUoKTtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdFx0XHRcdHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5vbkVuZC5iaW5kKHRoaXMpLCAyMDApO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NoZWNrU3RhcnQnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGNoZWNrU3RhcnQoKSB7XG5cdFx0XHRcdGlmICghdGhpcy5vbkRyYWdTdGFydEZsYWcpIHtcblx0XHRcdFx0XHR0aGlzLm9uRHJhZ1N0YXJ0RmxhZyA9IHRydWU7XG5cdFx0XHRcdFx0aWYgKHRoaXMub25EcmFnU3RhcnQpIHRoaXMub25EcmFnU3RhcnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ29uRW5kJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBvbkVuZCgpIHtcblx0XHRcdFx0aWYgKHRoaXMub25EcmFnU3RhcnRGbGFnKSB7XG5cdFx0XHRcdFx0dGhpcy5vbkRyYWdTdGFydEZsYWcgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAodGhpcy5vbkRyYWdSZWxlYXNlKSB0aGlzLm9uRHJhZ1JlbGVhc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1dKTtcblxuXHRcdHJldHVybiByZXNpemU7XG5cdH0oKVxufTtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZW9tZXRyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfZ2VvbWV0cnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VvbWV0cnkpO1xuXG52YXIgX2NvbG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jb2xvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2xvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuXHRib3g6IGZ1bmN0aW9uICgpIHtcblx0XHRmdW5jdGlvbiBib3goKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgYm94KTtcblxuXHRcdFx0dGhpcy5sID0gMDtcblx0XHRcdHRoaXMudyA9IDA7XG5cdFx0XHR0aGlzLnQgPSAwO1xuXHRcdFx0dGhpcy5oID0gMDtcblx0XHR9XG5cblx0XHRfY3JlYXRlQ2xhc3MoYm94LCBbe1xuXHRcdFx0a2V5OiAncicsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gcigpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMubCArIHRoaXMudztcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdiJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBiKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50ICsgdGhpcy5oO1xuXHRcdFx0fVxuXHRcdH1dKTtcblxuXHRcdHJldHVybiBib3g7XG5cdH0oKSxcblxuXHRnZXQ6IGZ1bmN0aW9uIGdldChfbWF4LCBfYm94ZXMpIHtcblx0XHR2YXIgYm94ZXMgPSBuZXcgQXJyYXkoKTtcblx0XHR2YXIgYXJlYSA9IF9tYXgudyAqIF9tYXguaDtcblx0XHRmb3IgKHZhciBuQ2VsbCA9IDA7IG5DZWxsIDwgYXJlYTsgbkNlbGwrKykge1xuXHRcdFx0Ly8gSGVhZFxuXHRcdFx0dmFyIGhlYWQgPSBuZXcgdGhpcy5ib3goKTtcblx0XHRcdGhlYWQubCA9IG5DZWxsICUgX21heC53O1xuXHRcdFx0aGVhZC50ID0gcGFyc2VJbnQobkNlbGwgLyBfbWF4LncpO1xuXHRcdFx0Ly8gQ2hlY2sgb25seSBmcmVlIFBvc2l0aW9uc1xuXHRcdFx0aWYgKCF0aGlzLmNvbGxpZGUoX2JveGVzLCBoZWFkKSkge1xuXHRcdFx0XHQvLyBFeHBhbnNpb24gdG8gUmlnaHQgYW5kIEJvdHRvbVxuXHRcdFx0XHR2YXIgZXhwYW5zaW9uID0geyB4OiB0cnVlLCB5OiB0cnVlIH07XG5cdFx0XHRcdC8vIFN0YXJ0IEV4cGFuc2lvbiB0byBSaWdodFxuXHRcdFx0XHR3aGlsZSAoZXhwYW5zaW9uLngpIHtcblx0XHRcdFx0XHQvLyBTdGFydCBFeHBhbnNpb24gdG8gQm90dG9tXG5cdFx0XHRcdFx0d2hpbGUgKGV4cGFuc2lvbi55KSB7XG5cdFx0XHRcdFx0XHQvLyBDaGVjayBmdXR1cmUgUmFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5jb2xsaWRlKF9ib3hlcywgdGhpcy5zaGlmdChoZWFkLCAneScsIDEpKSB8fCBoZWFkLmIoKSA9PSBfbWF4LmgpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU3RvcCBleHBhbnNpb24gdG8gQm90dG9tXG5cdFx0XHRcdFx0XHRcdGV4cGFuc2lvbi55ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBFeHBhbmQgdG8gQm90dG9tXG5cdFx0XHRcdFx0XHRcdGhlYWQuaCArPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBDaGVjayBjdXJyZW50IFJhbmdlXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29sbGlkZShfYm94ZXMsIGhlYWQpIHx8IGhlYWQucigpID4gX21heC53KSB7XG5cdFx0XHRcdFx0XHQvLyBTdG9wIEV4cGFuc2lvbiB0byBSaWdodFxuXHRcdFx0XHRcdFx0ZXhwYW5zaW9uLnggPSBmYWxzZTtcblx0XHRcdFx0XHRcdGJveGVzID0gdGhpcy5kZXRhY2goYm94ZXMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBTdGFydCBuZXcgRXhwYW5zaW9uIHRvIEJvdHRvbVxuXHRcdFx0XHRcdFx0ZXhwYW5zaW9uLnkgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ym94ZXMgPSB0aGlzLmFwcGVuZChib3hlcywgaGVhZCk7XG5cdFx0XHRcdFx0XHQvLyBSZXNldCBIZWlnaHQgYW5kIEV4cGFuZCB0byBSaWdodFxuXHRcdFx0XHRcdFx0aGVhZC5oID0gMTtcblx0XHRcdFx0XHRcdGhlYWQudyArPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRib3hlcyA9IHRoaXMuZmlsdGVyKGJveGVzKTtcblx0XHRpZiAoMCkge1xuXHRcdFx0dGhpcy50ZXN0KGJveGVzKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJveGVzO1xuXHR9LFxuXHRhcHBlbmQ6IGZ1bmN0aW9uIGFwcGVuZChib3hlcywgaGVhZCkge1xuXHRcdHZhciBsYXN0ID0gYm94ZXMubGVuZ3RoIC0gMTtcblx0XHR2YXIgYm94ID0gbmV3IHRoaXMuYm94KCk7XG5cdFx0Ym94LmwgPSBoZWFkLmw7Ym94LnQgPSBoZWFkLnQ7XG5cdFx0Ym94LncgPSBoZWFkLnc7Ym94LmggPSBoZWFkLmg7XG5cdFx0aWYgKGJveGVzW2xhc3RdICYmIGJveGVzW2xhc3RdLmggPT0gaGVhZC5oICYmIGJveGVzW2xhc3RdLmwgPT0gaGVhZC5sKSBib3hlc1tsYXN0XSA9IGJveDtlbHNlIGJveGVzLnB1c2goYm94KTtcblx0XHRyZXR1cm4gYm94ZXM7XG5cdH0sXG5cdGRldGFjaDogZnVuY3Rpb24gZGV0YWNoKGJveGVzKSB7XG5cdFx0cHJldiA9IGJveGVzLmxlbmd0aCAtIDI7XG5cdFx0bGFzdCA9IGJveGVzLmxlbmd0aCAtIDE7XG5cdFx0aWYgKGJveGVzW3ByZXZdICYmIGJveGVzW3ByZXZdLmggPT0gYm94ZXNbbGFzdF0uaCAmJiBib3hlc1twcmV2XS5yKCkgPT0gYm94ZXNbbGFzdF0ucigpKSBib3hlcy5wb3AoKTtcblx0XHRyZXR1cm4gYm94ZXM7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGJveGVzKSB7XG5cdFx0dmFyIGJveGVzTGVuZ3RoID0gYm94ZXMubGVuZ3RoO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYm94ZXNMZW5ndGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgbiA9IDA7IG4gPCBib3hlc0xlbmd0aDsgbisrKSB7XG5cdFx0XHRcdGlmIChpICE9IG4gJiYgYm94ZXNbaV0gJiYgYm94ZXNbbl0gJiYgYm94ZXNbaV0ubCA8PSBib3hlc1tuXS5sICYmIGJveGVzW2ldLnIoKSA+PSBib3hlc1tuXS5yKCkgJiYgYm94ZXNbaV0udCA8PSBib3hlc1tuXS50ICYmIGJveGVzW2ldLmIoKSA+PSBib3hlc1tuXS5iKCkpIHtcblx0XHRcdFx0XHRib3hlc1tuXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYm94ZXMuZmlsdGVyKGZ1bmN0aW9uIChfYm94KSB7XG5cdFx0XHRyZXR1cm4gX2JveDtcblx0XHR9KTtcblx0fSxcblx0c2hpZnQ6IGZ1bmN0aW9uIHNoaWZ0KGhlYWQsIGRpcmVjdGlvbiwgdmFsdWUpIHtcblx0XHR2YXIgcG9pbnRlciA9IG5ldyB0aGlzLmJveCgpO1xuXHRcdHBvaW50ZXIubCA9IGhlYWQubDtcblx0XHRwb2ludGVyLnQgPSBoZWFkLnQ7XG5cdFx0cG9pbnRlci53ID0gaGVhZC53ICsgKGRpcmVjdGlvbiA9PSAneCcgPyB2YWx1ZSA6IDApO1xuXHRcdHBvaW50ZXIuaCA9IGhlYWQuaCArIChkaXJlY3Rpb24gPT0gJ3knID8gdmFsdWUgOiAwKTtcblx0XHRyZXR1cm4gcG9pbnRlcjtcblx0fSxcblx0Y29sbGlkZTogZnVuY3Rpb24gY29sbGlkZShsaXN0LCBib3gpIHtcblx0XHR2YXIgbGlzdExlbmd0aCA9IF9saXN0Lmxlbmd0aDtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RMZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKF9nZW9tZXRyeTIuZGVmYXVsdC5ib3hDb2xsaXNpb24oX2xpc3RbaV0sIF9ib3gpKSByZXR1cm4gdHJ1ZTtcblx0XHR9cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHR0ZXN0OiBmdW5jdGlvbiB0ZXN0KGJveCkge1xuXHRcdC8vIERlbGV0ZSBPbGQgQm94ZXNcdFx0XG5cdFx0dmFyIG9sZEJveGVzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2xsaWRlcicpO1xuXHRcdHdoaWxlIChvbGRCb3hlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG9sZEJveGVzWzBdKTtcblx0XHR9IC8vIENyZWF0ZSBOZXdcblx0XHR2YXIgc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCgpIHtcblx0XHRcdHJldHVybiAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBnbC5ncmlkLmd1dHRlciAvIDI7XG5cdFx0fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJveC5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHRlc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dGVzdC5jbGFzc05hbWUgPSAnY29sbGlkZXInO1xuXHRcdFx0dGVzdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfY29sb3IyLmRlZmF1bHQucmFuZCgpO1xuXHRcdFx0dGVzdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRcdHRlc3Quc3R5bGUubGVmdCA9IHNoaWZ0KCkgKyBnbC5ncmlkLlBUdG9QWChib3hbaV0ubCArIDEsIHRydWUpO1xuXHRcdFx0dGVzdC5zdHlsZS50b3AgPSBzaGlmdCgpICsgZ2wuZ3JpZC5QVHRvUFgoYm94W2ldLnQgKyAxLCB0cnVlKTtcblx0XHRcdHRlc3Quc3R5bGUud2lkdGggPSBzaGlmdCgpICsgZ2wuZ3JpZC5QVHRvUFgoYm94W2ldLncsIGZhbHNlKTtcblx0XHRcdHRlc3Quc3R5bGUuaGVpZ2h0ID0gc2hpZnQoKSArIGdsLmdyaWQuUFR0b1BYKGJveFtpXS5oLCBmYWxzZSk7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlc3QpO1xuXHRcdH1cblx0fVxufTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcblx0bWFwOiBmdW5jdGlvbiBtYXAodmFsdWUsIGFNaW4sIGFNYXgsIGJNaW4sIGJNYXgsIGNsYW1wKSB7XG5cdFx0dmFyIHggPSBjbGFtcCA9PSB0cnVlID8gdmFsdWUgPCBhTWluID8gYU1pbiA6IHZhbHVlID4gYU1heCA/IGFNYXggOiB2YWx1ZSA6IHZhbHVlO1xuXHRcdHJldHVybiAoeCAtIGFNaW4pIC8gKGFNYXggLSBhTWluKSAqIChiTWF4IC0gYk1pbikgKyBiTWluO1xuXHR9LFxuXG5cblx0Ly8gQmluYXJ5IFNlYXJjaFxuXHRiaW5hcnlTZWFyY2g6IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChtYXgsIG1pbiwgY2hlY2ssIHNldCkge1xuXHRcdHZhciB0YXJnZXQgPSBsZW5ndGggPSBtYXg7XG5cdFx0d2hpbGUgKGxlbmd0aCA+PSBtaW4pIHtcblx0XHRcdGxlbmd0aCAqPSAwLjU7XG5cdFx0XHR0YXJnZXQgKz0gbGVuZ3RoICogKGNoZWNrKCkgPyAxIDogLTEpO1xuXHRcdFx0c2V0KHRhcmdldCk7XG5cdFx0fVxuXHR9LFxuXHRsaW5lYXJJbnRlcnBvbGF0aW9uOiBmdW5jdGlvbiBsaW5lYXJJbnRlcnBvbGF0aW9uKHQsIHBvaW50cykge1xuXHRcdC8vIEluaXRcblx0XHR2YXIgcGFyYW1zID0gW107XG5cdFx0dmFyIHggPSAwO1xuXHRcdC8vIEZpbmQgU2VjdG9yXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdFx0XHRpZiAodCA+PSBwb2ludHNbaV1bMF0pIHggPSBpO2Vsc2UgYnJlYWs7XG5cdFx0fSAvLyBGaW5kIExlZnQgYW5kIFJpZ2h0IFNpZGVcblx0XHR2YXIgbFZhbHVlID0gcG9pbnRzW3hdO1xuXHRcdHZhciByVmFsdWUgPSBwb2ludHNbeCArIDFdO1xuXHRcdC8vIEludGVycG9sYXRlIFBhcmFtZXRlcnNcblx0XHRmb3IgKHZhciBpID0gMTsgaSA8IGxWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0cGFyYW1zLnB1c2godGhpcy5tYXAodCwgbFZhbHVlWzBdLCByVmFsdWVbMF0sIGxWYWx1ZVtpXSwgclZhbHVlW2ldKSk7XG5cdFx0fSAvLyBSZXR1cm5cblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9LFxuXHRnZXRWYWx1ZUJ5U2l6ZTogZnVuY3Rpb24gZ2V0VmFsdWVCeVNpemUodmFsdWUsIHNpemVzKSB7XG5cdFx0dmFyIGxpbmVDb3VudHMgPSBudWxsO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh2YWx1ZSA+PSBzaXplc1tpXVswXSkgbGluZUNvdW50cyA9IHNpemVzW2ldWzFdO1xuXHRcdH1yZXR1cm4gbGluZUNvdW50cztcblx0fSxcblx0cnViYmVyRWZmZWN0OiBmdW5jdGlvbiBydWJiZXJFZmZlY3QodmFsdWUsIG1pbiwgbWF4LCB0aHJlc2hvbGQsIHN0YXRlKSB7XG5cdFx0Ly8gaHR0cHM6Ly93d3cuZGVzbW9zLmNvbS9jYWxjdWxhdG9yXG5cdFx0Ly8gQmFzZWQgb24gMS1wb3coMSt4LC0xKVxuXHRcdHZhciBmYWN0b3IgPSAxLjM7XG5cdFx0dmFyIG1heFRydWUgPSB0eXBlb2YgbWF4ICE9PSAndW5kZWZpbmVkJztcblx0XHR2YXIgbWluVHJ1ZSA9IHR5cGVvZiBtaW4gIT09ICd1bmRlZmluZWQnO1xuXHRcdGlmIChtYXhUcnVlIHx8IG1pblRydWUpIHtcblx0XHRcdHZhciBkaXJlY3Rpb24gPSB2YWx1ZSA8IG1heDtcblx0XHRcdHZhciB0aHJlc2hvbGQgPSAoZGlyZWN0aW9uID8gMSA6IC0xKSAqIHRocmVzaG9sZDtcblx0XHRcdHZhciByYW5nZSA9IGRpcmVjdGlvbiA/IG1heCA6IG1pbjtcblx0XHRcdHZhciB4ID0gKHJhbmdlIC0gdmFsdWUpIC8gdGhyZXNob2xkO1xuXHRcdFx0dmFyIHkgPSByYW5nZSAtIHRocmVzaG9sZCAqICgxIC0gTWF0aC5wb3coMSArIHgsIC1mYWN0b3IpKTtcblx0XHR9XG5cdFx0dmFyIG1heFN0YXRlID0gbWF4VHJ1ZSAmJiB2YWx1ZSA8IG1heDtcblx0XHR2YXIgbWluU3RhdGUgPSBtaW5UcnVlICYmIHZhbHVlID4gbWluO1xuXHRcdGlmIChzdGF0ZSkgc3RhdGUobWF4U3RhdGUgPyAnbWF4JyA6IG1pblN0YXRlID8gJ21pbicgOiBudWxsKTtcblx0XHRyZXR1cm4gbWF4U3RhdGUgfHwgbWluU3RhdGUgPyB5IDogdmFsdWU7XG5cdH1cbn07XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9zdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ZWxsaXBzaXM6IGZ1bmN0aW9uIGVsbGlwc2lzKGRvbSwgdGV4dCwgZWxscHNpcywgY2hlY2spIHtcblx0XHRkb20uaW5uZXJIVE1MID0gdGV4dDtcblx0XHRpZiAoIWNoZWNrKCkpIHtcblx0XHRcdHZhciB3b3JkcyA9IHRleHQuc3BsaXQoJyAnKTtcblx0XHRcdHZhciBsZW5ndGggPSB3b3Jkcy5sZW5ndGg7XG5cdFx0XHR2YXIgc2V0ID0gZnVuY3Rpb24gc2V0KF9pKSB7XG5cdFx0XHRcdGRvbS5pbm5lckhUTUwgPSB3b3Jkcy5zbGljZSgwLCBfaSkuam9pbignICcpICsgZWxscHNpcztcblx0XHRcdH07XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHNldChpKTtcblx0XHRcdFx0aWYgKCFjaGVjaygpKSB7XG5cdFx0XHRcdFx0c2V0KGkgLSAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0bGluZUNvdW50OiBmdW5jdGlvbiBsaW5lQ291bnQoZG9tKSB7XG5cdFx0cmV0dXJuIGRvbS5vZmZzZXRIZWlnaHQgLyBwYXJzZUludChfc3R5bGUyLmRlZmF1bHQuY29tcHV0ZWQoZG9tLCAnbGluZS1oZWlnaHQnKSk7XG5cdH0sXG5cdGNhcGl0YWxpemU6IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblx0fSxcblx0aGFzaDogZnVuY3Rpb24gaGFzaChzdHJpbmcpIHtcblx0XHR2YXIgaGFzaCA9IDA7XG5cdFx0Zm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCArPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblx0XHR9cmV0dXJuIGhhc2g7XG5cdH1cbn07XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9zdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cblx0Ly8gTWV0aG9kc1xuXHR2YXIgc2V0VHJhbnNmb3JtYXRpb24gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm1hdGlvbihkb20pIHtcblx0XHR2YXIgdHJhbnNsYXRlID0gJ3RyYW5zbGF0ZSgnICsgZG9tLnZhbHVlLnRyYW5zbGF0aW9uLnggKyAncHgsICcgKyBkb20udmFsdWUudHJhbnNsYXRpb24ueSArICdweCknO1xuXHRcdHZhciBzY2FsZSA9ICdzY2FsZSgnICsgZG9tLnZhbHVlLnNjYWxlLnggKyAnLCAgICcgKyBkb20udmFsdWUuc2NhbGUueSArICcpJztcblx0XHRkb20uc3R5bGVbX3N0eWxlMi5kZWZhdWx0LnZlbmRvclByZWZpeCArICdUcmFuc2Zvcm0nXSA9IHRyYW5zbGF0ZSArICcgJyArIHNjYWxlO1xuXHR9O1xuXG5cdHZhciBzZXRPcmlnaW4gPSBmdW5jdGlvbiBzZXRPcmlnaW4oZG9tKSB7XG5cdFx0ZG9tLnN0eWxlW19zdHlsZTIuZGVmYXVsdC52ZW5kb3JQcmVmaXggKyAnVHJhbnNmb3JtT3JpZ2luJ10gPSBkb20udmFsdWUub3JpZ2luLnggKyAnICcgKyBkb20udmFsdWUub3JpZ2luLnk7XG5cdH07XG5cblx0Ly8gU3RvcmUgVmFsdWVzXG5cdGVsZW1lbnQudmFsdWUgPSB7XG5cdFx0b3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcblx0XHR0cmFuc2xhdGlvbjogeyB4OiAwLCB5OiAwIH0sXG5cdFx0c2NhbGU6IHsgeDogMSwgeTogMSB9LFxuXHRcdHJvdGF0aW9uOiB7IHo6IDAgfVxuXHR9O1xuXG5cdC8vIE9yaWdpblxuXHRlbGVtZW50Lm9yaWdpblhZID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0XHR0aGlzLnZhbHVlLm9yaWdpbi54ID0geDtcblx0XHR0aGlzLnZhbHVlLm9yaWdpbi55ID0geTtcblx0XHRzZXRPcmlnaW4odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0ZWxlbWVudC5vcmlnaW5YID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS5vcmlnaW4ueCA9IHZhbHVlO1xuXHRcdHNldE9yaWdpbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRlbGVtZW50Lm9yaWdpblkgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLnZhbHVlLm9yaWdpbi55ID0gdmFsdWU7XG5cdFx0c2V0T3JpZ2luKHRoaXMpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIFRyYW5zbGF0ZVxuXHRlbGVtZW50LnRyYW5zbGF0ZVhZID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0XHR0aGlzLnZhbHVlLnRyYW5zbGF0aW9uLnggPSB4O1xuXHRcdHRoaXMudmFsdWUudHJhbnNsYXRpb24ueSA9IHk7XG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0ZWxlbWVudC50cmFuc2xhdGVYID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS50cmFuc2xhdGlvbi54ID0gdmFsdWU7XG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0ZWxlbWVudC50cmFuc2xhdGVZID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS50cmFuc2xhdGlvbi55ID0gdmFsdWU7XG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Ly8gU2NhbGVcblx0ZWxlbWVudC5zY2FsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMudmFsdWUuc2NhbGUueCA9IHRoaXMudmFsdWUuc2NhbGUueSA9IHZhbHVlO1xuXHRcdHNldFRyYW5zZm9ybWF0aW9uKHRoaXMpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdGVsZW1lbnQuc2NhbGVYWSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdFx0dGhpcy52YWx1ZS5zY2FsZS54ID0geDtcblx0XHR0aGlzLnZhbHVlLnNjYWxlLnkgPSB5O1xuXHRcdHNldFRyYW5zZm9ybWF0aW9uKHRoaXMpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdGVsZW1lbnQuc2NhbGVYID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS5zY2FsZS54ID0gdmFsdWU7XG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0ZWxlbWVudC5zY2FsZVkgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLnZhbHVlLnNjYWxlLnkgPSB2YWx1ZTtcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBSb3RhdGVcblx0ZWxlbWVudC5yb3RhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLnZhbHVlLnJvdGF0aW9uLnogPSB2YWx1ZTtcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcbn07XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBWZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmVjKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMF07XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgdmFyIHogPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWMpO1xuXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIGNvbnNvbGUubG9nKCd2ZWN0b3Igbm90IGN1dHRlZCcpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhWZWMsIFt7XG4gICAgICAgIGtleTogJ2NvcHknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKHZlYywgc2V0KSB7XG4gICAgICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy54ICs9IHZlYy54O1xuICAgICAgICAgICAgICAgIHRoaXMueSArPSB2ZWMueTtcbiAgICAgICAgICAgICAgICB0aGlzLnogKz0gdmVjLno7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG5ldyBWZWModGhpcy54ICsgdmVjLngsIHRoaXMueSArIHZlYy55LCB0aGlzLnogKyB2ZWMueik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N1YicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdWIodmVjLCBzZXQpIHtcbiAgICAgICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggLT0gdmVjLng7XG4gICAgICAgICAgICAgICAgdGhpcy55IC09IHZlYy55O1xuICAgICAgICAgICAgICAgIHRoaXMueiAtPSB2ZWMuejtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbmV3IFZlYyh0aGlzLnggLSB2ZWMueCwgdGhpcy55IC0gdmVjLnksIHRoaXMueiAtIHZlYy56KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGl2JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpdih2ZWMsIGFwcGx5KSB7XG4gICAgICAgICAgICBpZiAoYXBwbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggLz0gdmVjLng7XG4gICAgICAgICAgICAgICAgdGhpcy55IC89IHZlYy55O1xuICAgICAgICAgICAgICAgIHRoaXMueiAvPSB2ZWMuejtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbmV3IFZlYyh0aGlzLnggLyB2ZWMueCwgdGhpcy55IC8gdmVjLnksIHRoaXMueiAvIHZlYy56KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGVuJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxlbigpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LCAyKSArIE1hdGgucG93KHRoaXMueSwgMikgKyBNYXRoLnBvdyh0aGlzLnosIDIpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2NhbGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2NhbGUobGVuLCBzZXQpIHtcbiAgICAgICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggKj0gbGVuO1xuICAgICAgICAgICAgICAgIHRoaXMueSAqPSBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy56ICo9IGxlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbmV3IFZlYyh0aGlzLnggKiBsZW4sIHRoaXMueSAqIGxlbiwgdGhpcy56ICogbGVuKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbm9ybScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtKHNldCkge1xuICAgICAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSAxIC8gdGhpcy5sZW4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnggKj0gbGVuO1xuICAgICAgICAgICAgICAgIHRoaXMueSAqPSBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy56ICo9IGxlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IDEgLyB0aGlzLmxlbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVmVjKHRoaXMueCAqIGxlbiwgdGhpcy55ICogbGVuLCB0aGlzLnogKiBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZXNpemUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGxlbikge1xuICAgICAgICAgICAgdmFyIG5vcm0gPSB0aGlzLmdldE5vcm0oKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjKG5vcm0ueCAqIGxlbiwgbm9ybS55ICogbGVuLCBub3JtLnogKiBsZW4pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUd2VlbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUd2Vlbih2ZWMsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjKGkgKiAodmVjLnggLSB0aGlzLngpICsgdGhpcy54LCBpICogKHZlYy55IC0gdGhpcy55KSArIHRoaXMueSwgaSAqICh2ZWMueiAtIHRoaXMueikgKyB0aGlzLnopO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBbmdsZTJEJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuZ2xlMkQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLngsIHRoaXMueSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFZlYztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmVjO1xuO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hbmltYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FuaW1hdGlvbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuaW1hdGlvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZnJlZXNwYWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmcmVlc3BhY2UnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcmVlc3BhY2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2dlb21ldHJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZW9tZXRyeScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlb21ldHJ5KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90cmFuc2Zvcm1hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RyYW5zZm9ybScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zZm9ybWF0aW9uKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9hcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYXJyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3ZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3ZlYycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZlY3RvcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfbWF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbWF0aCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2NvbG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb2xvcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbG9yKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RvbScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2V2ZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V0YyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXRjJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXRjKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9zdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnc3R5bGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb3J5IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vcnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOTM0MzdkMTFmMWYzMjcwZWQxNzUiLCJcblxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBjb21wdXRlZCAoZG9tLCBwcm9wKSB7XG5cdCAgICByZXR1cm4gcGFyc2VJbnQoXG5cdCAgICBcdGRvY3VtZW50LmRlZmF1bHRWaWV3XG5cdCAgICBcdC5nZXRDb21wdXRlZFN0eWxlKGRvbSwgbnVsbClcblx0ICAgIFx0LmdldFByb3BlcnR5VmFsdWUocHJvcClcblx0ICAgIClcblx0fSxcblxuICAgIHZlbmRvciA6IChwcm9wcyA9PiB7XG4gICAgICAgIHZhciBvdXQgPSB7fVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gb3V0XG4gICAgICAgIHZhciBwcmVmaXhcdD0gW251bGwsICdtcycsICd3ZWJraXQnLCAnbW96JywgJ28nXVxuICAgICAgICB2YXIgZGl2ICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHByZWZpeC5sZW5ndGg7IG4gKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHByZWZpeFtuXSArIHByZWZpeFtuXT8gcHJvcDogcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpdi5zdHlsZVtwXSAhPT0gJ3VuZGVmaW5lZCcpe291dFtwcm9wXSA9IHA7IGJyZWFrfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gcHJvcHNcbiAgICB9KShbJ3RyYW5zZm9ybScsICd0cmFuc2Zvcm1PcmlnaW4nLCAnY29sdW1uQ291bnQnXSksXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGlicy9zdHlsZS5qcyIsIlxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGZyb21TdHJpbmcgKGh0bWwpIHtcblx0XHR2YXIgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0ICAgIHBhcmVudC5pbm5lckhUTUwgPSBodG1sXG5cdCAgICByZXR1cm4gcGFyZW50LmZpcnN0Q2hpbGRcblx0fSxcblxuXHQvLyBBZGQgRE9NIEVsZW1lbnQgYXQgQmVnaW4gb2YgdGhlIExpc3Rcblx0cHJlcGVuZCAocGFyZW50LCBjaGlsZCkge1xuICAgIFx0aWYgKHBhcmVudC5maXJzdENoaWxkKSBcbiAgICBcdFx0cGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGQpIFxuICAgIFx0ZWxzZSBcbiAgICBcdFx0cGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKVxuXHR9LFxuXG5cdHNlbGVjdGlvbiAobW9kZSkge1xuXHRcdGRvY3VtZW50Lm9uZHJhZ3N0YXJ0ICAgPVxuXHRcdGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSBtb2RlID8gbnVsbCA6ICgpID0+IGZhbHNlXG5cdH0sXG5cblx0Y2xvbmUgKGRvbSkge1xuXHRcdHZhciBjbG9uZSA9IGRvbS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0Y2xvbmUucmVtb3ZlID0gKCkgPT4gdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpXG5cdFx0ZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRnZXREaW1lbnNpb25zIChkb20pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bDogZG9tLm9mZnNldExlZnQsIFxuXHRcdFx0dzogZG9tLm9mZnNldFdpZHRoLFxuXHRcdFx0dDogZG9tLm9mZnNldFRvcCwgIFxuXHRcdFx0aDogZG9tLm9mZnNldEhlaWdodCxcblx0XHRcdHI6ICgoKSA9PiB0aGlzLmwgKyB0aGlzLncpKCksXG5cdFx0XHRiOiAoKCkgPT4gdGhpcy50ICsgdGhpcy5oKSgpXG5cdFx0fVxuXHR9LFxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYnMvZG9tLmpzIiwiXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgaHN2YSA6IGNsYXNzIHtcblxuXHQgICAgY29uc3RydWN0b3IgKGh1ZSwgc2F0dXJhdGlvbiwgdmFsdWUsIGFscGhhKSB7XG5cdFx0ICAgIHRoaXMuaHVlIFx0XHQ9IGh1ZVxuXHRcdCAgICB0aGlzLnNhdHVyYXRpb24gPSBzYXR1cmF0aW9uXG5cdFx0ICAgIHRoaXMudmFsdWUgXHRcdD0gdmFsdWVcblx0XHQgICAgdGhpcy5hbHBoYSBcdFx0PSBhbHBoYVxuXHRcdH1cblxuXHRcdGdldCAoKSB7XG5cdCAgICBcdHZhciB0cm4gPSAxMDAgLSA1MCAqIHRoaXMuc2F0dXJhdGlvbjtcblx0XHQgICAgcmV0dXJuICdoc2xhKCcrXG5cdFx0ICAgIFx0MzYwICogdGhpcy5odWUgKycsICcrXG5cdFx0ICAgIFx0MTAwICogdGhpcy5zYXR1cmF0aW9uICsnJSwgJysgXG5cdFx0ICAgIFx0dHJuICogdGhpcy52YWx1ZSArJyUsICcrXG5cdFx0ICAgIFx0dGhpcy5hbHBoYSArICcpJ1xuXHRcdH1cbiAgICB9LFxuXG5cdHJhbmQgKF9hbHBoYSkge1xuXHRcdHZhciByZ2IgXHQ9ICgpID0+IHtyZXR1cm4gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDIwMCArIDU1KX1cblx0XHRyZXR1cm4gICdyZ2JhKCcrIHJnYigpICsnLCAnKyByZ2IoKSArJywgJysgcmdiKCkgKycsICcrIChfYWxwaGE/IF9hbHBoYTogMC4zKSArJyknXG5cdH0sXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGlicy9jb2xvci5qcyIsIlxuXG5cbmltcG9ydCB7ZGVmYXVsdCBhcyBmd1N0eWxlfSBmcm9tICcuL3N0eWxlJ1xuaW1wb3J0IHtkZWZhdWx0IGFzIGZ3RG9tfSBcdGZyb20gJy4vZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cblx0dmlld1BvcnRPZmZzZXQgKGRvbSkge1xuXHRcdHZhciBwYXJhbXMgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBcdHJldHVybiB7XG5cdCAgICBcdGw6IHBhcmFtcy5sZWZ0LFxuXHQgICAgXHR0OiBwYXJhbXMudG9wXG4gICAgXHR9XG5cdH0sXG5cdFxuXHRvZmZzZXQgKGRvbSwgcGFyZW50KSB7XG5cdFx0dmFyIGRvbSAgICA9IF9kb21cblx0XHR2YXIgb2Zmc2V0ID0ge2w6IDAsIHQ6IDB9XG4gICAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnQgfHwgZG9jdW1lbnQuYm9keVxuXHRcdHdoaWxlIChkb20gJiYgZG9tLnBhcmVudE5vZGUgJiYgZG9tICE9IHBhcmVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGw6IGRvbS5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICAgIHQ6IGRvbS5vZmZzZXRUb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzY3JvbGwgPSB7XG4gICAgICAgICAgICAgICAgbDogZG9tLnBhcmVudE5vZGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICB0OiBkb20ucGFyZW50Tm9kZS5zY3JvbGxUb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSB7XG4gICAgICAgICAgICAgICAgbDogZndTdHlsZS5jb21wdXRlZChkb20sICdtYXJnaW4tbGVmdCcpLFxuICAgICAgICAgICAgICAgIHQ6IGZ3U3R5bGUuY29tcHV0ZWQoZG9tLCAnbWFyZ2luLXRvcCcpLFxuICAgICAgICAgICAgfVxuXHRcdFx0b2Zmc2V0LmwgKz0gcG9zaXRpb24ubCAtIHNjcm9sbC5sIC0gbWFyZ2luLmxcblx0XHRcdG9mZnNldC50ICs9IHBvc2l0aW9uLnQgLSBzY3JvbGwudCAtIG1hcmdpbi50XG5cdFx0XHRkb20gPSBkb20ucGFyZW50Tm9kZVxuXHRcdH1cblx0XHRyZXR1cm4gb2Zmc2V0XG5cdH0sXG4gICAgXG5cdGRvbUNvbGxpc2lvbiAoYSwgYikge1xuXHRcdHJldHVybiB0aGlzLmJveENvbGxpc2lvbihcblx0XHRcdGZ3RG9tLmdldERpbWVuc2lvbnMoYSksXG5cdFx0XHRmd0RvbS5nZXREaW1lbnNpb25zKGIpXG5cdFx0KVxuXHR9LFxuXG5cdGJveENvbGxpc2lvbiAoYSwgYikge1xuXHRcdHJldHVybiAoXG5cdFx0XHRhLmwgPCBiLmwgKyBiLncgJiYgYS50IDwgYi50ICsgYi5oICYmXG5cdFx0XHRiLmwgPCBhLmwgKyBhLncgJiYgYi50IDwgYS50ICsgYS5oXG5cdFx0KVxuXHR9LFxuXG4gICAgdmlld1BvcnRTaXplICh3LCBoLCB3aW5XLCB3aW5ILCBtYXJnaW4sIG1pbldpZHRoVmFsKSB7XG5cdFx0dmFyIG91dHB1dFx0IFx0PSBuZXcgT2JqZWN0KClcblx0XHR2YXIgYXNwZWN0XHRcdD0gdyAvIGhcblx0XHR2YXIgd2luSGVpZ2h0IFx0PSB3aW5IIC0gMiAqIG1hcmdpblxuXHRcdHZhciBjYWxjSGVpZ2h0IFx0PSB3aW5XIC8gYXNwZWN0XG5cdFx0dmFyIG1heEhlaWdodCAgXHQ9IFxuXHRcdFx0d2luSGVpZ2h0IFx0KiBhc3BlY3QgPCBtaW5XaWR0aFZhbD9cblx0XHRcdG1pbldpZHRoVmFsIC8gYXNwZWN0OlxuXHRcdFx0d2luSGVpZ2h0XG5cdFx0aWYgKHdpblcgPCB3ICYmIGNhbGNIZWlnaHQgPCBtYXhIZWlnaHQgKSB7XG5cdFx0XHRvdXRwdXQudyBcdD0gd2luV1xuXHRcdFx0b3V0cHV0LmggXHQ9IGNhbGNIZWlnaHRcblx0XHRcdG91dHB1dC5tIFx0PSAwXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBvcmlnQ2FsY1dpZHRoIFx0PSBtYXhIZWlnaHQgKiBhc3BlY3Rcblx0XHRcdHZhciBub3JtQ2FsY1dpZHRoIFx0PSBvcmlnQ2FsY1dpZHRoIDwgdz8gb3JpZ0NhbGNXaWR0aDogd1xuXHRcdFx0dmFyIGNhbGNTaWRlICBcdFx0PSAod2luVyAtIG5vcm1DYWxjV2lkdGgpIC8gMlxuXHRcdFx0b3V0cHV0LncgXHQ9IG5vcm1DYWxjV2lkdGhcblx0XHRcdG91dHB1dC5oIFx0PSBtYXhIZWlnaHQgPCBoPyBtYXhIZWlnaHQ6IGhcblx0XHRcdG91dHB1dC5tIFx0PSBjYWxjU2lkZSAgPCBtYXJnaW4/IGNhbGNTaWRlOiBtYXJnaW5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dFxuXHR9LFxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYnMvZ2VvbWV0cnkuanMiLCJcblxuXG4vKlxuXHRhbmltYXRpb24ucGxheSgwLjUsICdsaW5lYXInLCB0ID0+IHtcblx0XHRkb20uc3R5bGUub3BhY2l0eSA9IDEtdFxuXHR9LCAoKSA9PiB7XG5cdFx0b2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcdFxuXHR9KVxuKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuXG5cdGVhc2luZyA6IHtcblxuXHRcdGxpbmVhciAodCkge1xuXHRcdFx0cmV0dXJuIHRcblx0XHR9LFxuXG5cdCAgICBlYXNlT3V0RXhwbyAodCkgeyBcblx0XHQgICByZXR1cm4gMSAtIE1hdGgucG93KDIsIC0xMCAqIHQpXG5cdFx0fSxcblx0XHRcblx0XHRlYXNlSW5RdWFkICh0KSB7IFxuXHRcdFx0cmV0dXJuIE1hdGguc2luKHQgKiAoTWF0aC5QSS8yKSlcblx0XHR9LFxuXHRcdFxuXHRcdGVhc2VPdXRRdWFkICh0KSB7IFxuXHRcdFx0cmV0dXJuIHQqKDItdClcblx0XHR9LFxuXHRcdFx0XG5cdFx0ZWFzZUluT3V0UXVpbnQgKHQpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdHQgPCAwLjUgPyBcblx0XHRcdFx0MTYgKiBNYXRoLnBvdyh0LCA1KSA6ICgtLXQpICogXG5cdFx0XHRcdDE2ICogTWF0aC5wb3codCwgNCkgKyAxXG5cdFx0XHQpXG5cdFx0fSxcblx0XHRcblx0XHRlYXNlT3V0RWxhc3RpYyAodCkge1xuXHRcdFx0dmFyIHAgPSAwLjhcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdE1hdGgucG93KDIsIC0xMCAqIHQpICogXG5cdFx0XHRcdE1hdGguc2luKCh0IC0gcCAvIDQpICogKDIgKiBNYXRoLlBJKSAvIHApICsgMVxuXHRcdFx0KSBcblx0XHR9LFxuXHRcblx0XHRlYXNlT3V0Qm91bmNlICh0KSB7XG5cdFx0XHRcdCBpZiAodCA8IDEuMCAvIDIuNzUpIHsgcmV0dXJuIDcuNTYyNSAqIHQgKiAgdCB9XG5cdFx0XHRlbHNlIGlmICh0IDwgMi4wIC8gMi43NSkgeyByZXR1cm4gNy41NjI1ICogdCAqICh0IC09ICgxLjUwMCAvIDIuNzUpKSArIDAuNzUwMDAwIH0gXG5cdFx0XHRlbHNlIGlmICh0IDwgMi41IC8gMi43NSkgeyByZXR1cm4gNy41NjI1ICogdCAqICh0IC09ICgyLjI1MCAvIDIuNzUpKSArIDAuOTM3NTAwIH0gXG5cdFx0XHRlbHNlIFx0XHRcdFx0XHQgeyByZXR1cm4gNy41NjI1ICogdCAqICh0IC09ICgyLjYyNSAvIDIuNzUpKSArIDAuOTg0Mzc1IH1cblx0XHR9XG5cdH0sXG5cdFxuXHRmcHMgIDogNjAsXG5cdGpvYnMgOiBuZXcgQXJyYXkoKSxcblx0bG9vcCA6IGZhbHNlLFxuXG5cdEpvYiAgOiBjbGFzcyB7XG5cdFx0Y29uc3RydWN0b3IgKF9kdXJhdGlvbiwgX2Vhc2luZywgX29uVXBkYXRlLCBfb25FbmQpIHtcblx0XHRcdHRoaXMub25FbmRcdD0gX29uRW5kXG5cdFx0XHR2YXIgc3RhcnQgXHQ9IG5ldyBEYXRlKClcblx0XHRcdF9vblVwZGF0ZSgwLjApXG5cdFx0XHR0aGlzLmNvdW50ID0gKCkgPT4ge1xuXHRcdFx0XHR2YXIgdGltZSA9IChuZXcgRGF0ZSgpIC0gc3RhcnQpIC8gMTAwMCAvIF9kdXJhdGlvblxuXHRcdFx0XHRfb25VcGRhdGUodGltZSA8IDEuMD8gX2Vhc2luZyh0aW1lKTogMS4wKVxuXHRcdFx0XHRyZXR1cm4gdGltZSA8IDEuMD8gdGltZTogMS4wXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHN0YXJ0ICgpIHtcblx0XHQvLyBTdGFydCBMb29wXG5cdFx0dGhpcy5sb29wID0gc2V0SW50ZXJ2YWwoKCgpID0+IHtcblx0XHRcdC8vIENvdW50IEpvYnNcblx0XHRcdHZhciBqb2JzVGVtcCA9IG5ldyBBcnJheSAoKVx0XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuam9icy5sZW5ndGg7IGkgKyspXG5cdFx0XHRcdGlmICh0aGlzLmpvYnNbaV0uY291bnQoKSA9PSAxLjApIHtcblx0XHRcdFx0XHRpZiAodGhpcy5qb2JzW2ldLm9uRW5kKSB0aGlzLmpvYnNbaV0ub25FbmQoKVxuICAgIFx0XHRcdH0gZWxzZSB7XG5cdCAgICBcdFx0XHRqb2JzVGVtcC5wdXNoKHRoaXMuam9ic1tpXSlcbiAgICBcdFx0XHR9XG5cdFx0XHR0aGlzLmpvYnMgPSBqb2JzVGVtcFxuXHRcdFx0Ly8gSWYgTGlzdCBpcyBFbXB0eSA+IFN0b3AgTG9vcFxuXHRcdFx0aWYgKHRoaXMuam9icy5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKHRoaXMubG9vcClcblx0XHRcdFx0dGhpcy5sb29wID0gbnVsbFxuXHRcdFx0fVxuXHRcdH0pLmJpbmQodGhpcyksIDEwMDAgLyB0aGlzLmZwcylcblx0fSxcblxuXHRwbGF5IChfZHVyYXRpb24sIF90eXBlLCBfb25VcGRhdGUsIF9vbkVuZCkge1xuXHRcdHRoaXMuam9icy5wdXNoKG5ldyB0aGlzLkpvYihcblx0XHRcdF9kdXJhdGlvbiwgXG5cdFx0XHR0aGlzLmVhc2luZ1tfdHlwZV0sIFxuXHRcdFx0X29uVXBkYXRlLFxuXHRcdFx0X29uRW5kXG5cdFx0KSlcblx0XHRpZiAoIXRoaXMubG9vcCkgdGhpcy5zdGFydCgpXG5cdH0sXG5cblx0Ly8gT3RoZXIgRnVuY3Rpb25zXG5cdGdldFNpbnVzIDogZnVuY3Rpb24gKGZyb20sIHRvLCBzcGVlZCkge1xuXHRcdHZhciB0aW1lIFx0PSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDAuMDAxO1xuXHRcdHZhciBzaW5cdFx0PSBNYXRoLnNpbih0aW1lICogKHNwZWVkIHx8IDEpKVxuXHRcdHJldHVybiBcdFx0dGhpcy5yb290Lm1hdGgubWFwKHNpbiwgLTEsIDEsIGZyb20sIHRvKVxuXHR9XG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGlicy9hbmltYXRpb24uanMiLCJcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgXG4gICAgLy8gc3BsaXRRdWVyeSgncGFyZW50LmNoaWxkLmVsZW1lbnQnKVxuICAgIHNwbGl0UXVlcnkgKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBsZXZlbHMgPSBxdWVyeS5zcGxpdCgnLicpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZXZlbCA6IGxldmVscyxcbiAgICAgICAgICAgIGxhc3QgIDogbGV2ZWxzLmxlbmd0aCAtIDFcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBsZXZlbCh7aWQ6IFsxMCwgMTVdfSwgc3BsaXRRdWVyeSgnaWQuMCcpLCAyMCk7IC0+IHtpZDogWzIwLCAxNV19XG4gICAgbGV2ZWwgKG9iamVjdCwgcXVlcnksIHZhbHVlKSB7XG5cdCAgICB2YXIgcGF0aCA9IG9iamVjdFxuXHQgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBxdWVyeS5sYXN0OyBuICsrKVxuXHQgICAgXHRwYXRoID0gcGF0aFtxdWVyeS5sZXZlbFtuXV1cblx0ICAgIGlmICh2YWx1ZSkge1xuXHRcdCAgICBwYXRoW3F1ZXJ5LmxldmVsW3F1ZXJ5Lmxhc3RdXSA9IHZhbHVlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBwYXRoW3F1ZXJ5LmxldmVsW3F1ZXJ5Lmxhc3RdXVxuXHRcdH1cbiAgICB9LFxuXG4gICAgLy8gbWFwKHdvcmtzcGFjZXMsICd3b3Jrc3BhY2UuaXRlbXMuMScpXG4gICAgbWFwIChhcnJheSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IHRoaXMuc3BsaXRRdWVyeShxdWVyeSlcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcCgobGlzdCA9PiB0aGlzLmxldmVsKGxpc3QsIGxldmVscykpLmJpbmQodGhpcykpXG4gICAgfSxcblxuICAgIC8vIHZhciBidW5kbGUgPSBmaW5kKHdvcmtzcGFjZXMsIHtpZDogaWR9KTtcbiAgICBmaW5kIChhcnJheSwgcXVlcnkpIHtcblx0ICAgIHZhciBvdXRwdXQgPSBhcnJheS5zbGljZSgpXG4gICAgICAgIGZvciAodmFyIGkgaW4gcXVlcnkpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gW11cbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLm1hcChvdXRwdXQsIGkpXG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IG1hcC5sZW5ndGg7IG4gKyspXG4gICAgICAgICAgICAgICAgaWYgKG1hcFtuXSA9PSBxdWVyeVtpXSkgdGVtcC5wdXNoKG91dHB1dFtuXSlcbiAgICAgICAgICAgIG91dHB1dCA9IHRlbXAuc2xpY2UoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRcbiAgICB9LFxuXG4gICAgLy8gdmFyIGRlbGV0ZWQgPSBkZWwod29ya3NwYWNlcywgeyd0aXRsZS5jb2xvcic6IGNvbG9yfSk7XG4gICAgZGVsIChhcnJheSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSB0aGlzLmZpbmQoYXJyYXksIHF1ZXJ5KVxuICAgICAgICBkZWxldGVkLmZvckVhY2goKGZvdW5kKSA9PiBhcnJheS5zcGxpY2UoYXJyYXkuaW5kZXhPZihmb3VuZCksIDEpKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZWQ7XG4gICAgfSxcblxuXHQvLyB1cGRhdGVDb2x1bW4oW3tpZDogMTV9LCB7aWQ6IDMwfV0sIHtpZDogWzIwLCAxNV19KTsgLT4gW3tpZDogMjB9LCB7aWQ6IDE1fV1cbiAgICB1cGRhdGVDb2x1bW4gKGFycmF5LCBxdWVyeSkge1xuXHQgICAgZm9yICh2YXIgaSBpbiBxdWVyeSkge1xuXHQgICAgICAgIGlmIChhcnJheS5sZW5ndGggPT0gcXVlcnlbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVscyA9IHRoaXMuc3BsaXRRdWVyeShpKVxuXHQgICAgICAgICAgICBhcnJheS5mb3JFYWNoKCgob2JqZWN0LCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbChvYmplY3QsIGxldmVscywgcXVlcnlbaV1baW5kZXhdKSkuYmluZCh0aGlzKSlcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjb25zb2xlLmxvZygnZGlmZmVyZW50IGxlbmdodGVzJylcblx0ICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vZmlsdGVyTWFwKHdvcmtzcGFjZXMsIHtfaWQsICdpZCcsIGFsaWFzOiAnbmFtZSd9KTtcbiAgICBmaWx0ZXJNYXAgKGFycmF5LCBrZXlzKSB7XG4gICAgXHR2YXIgb3V0cHV0ID0gW11cbiAgICBcdGFycmF5LmZvckVhY2goKG9yaWdpbmFsKSA9PiB7XG5cdCAgICBcdHZhciBvYmplY3QgPSB7fVxuXHQgICAgXHRmb3IgKHZhciBrZXkgaW4ga2V5cykgXG5cdCAgICBcdFx0b2JqZWN0W2tleXNba2V5XV0gPSBvcmlnaW5hbFtrZXldXG5cdCAgICBcdG91dHB1dC5wdXNoKG9iamVjdClcbiAgICBcdH0pXG4gICAgXHRyZXR1cm4gb3V0cHV0XG4gICAgfSxcblx0XG5cdC8vIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKDEwKSB0aGVuIHZhciB2YWx1ZSA9IGJ1ZmZlci5nZXQoMjMuNDQ1KSBcbiAgICBidWZmZXIgOiBjbGFzcyB7XG5cblx0XHRjb25zdHJ1Y3RvciAoc2l6ZSkge1xuICAgICAgICBcdHRoaXMuYXJyYXkgID0gbmV3IEFycmF5ICgpO1xuICAgICAgICBcdHRoaXMuc2l6ZSAgID0gc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzdW0gICAgPSAwO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYXJyYXkubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IHRoaXMuc2l6ZSkgdGhpcy5hcnJheS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5hcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICsrKSBcbiAgICAgICAgICAgIFx0aWYgKGlzRmluaXRlKHRoaXMuYXJyYXlbaV0pKSBzdW0gKz0gcGFyc2VGbG9hdCh0aGlzLmFycmF5W2ldKVxuICAgICAgICAgICAgcmV0dXJuIHN1bSAvIGxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWJzL2FycmF5LmpzIiwiXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG5cdGFyZ0V4aXN0IChfYXJndW1lbnQpIHtcblx0XHRyZXR1cm4gdHlwZW9mIF9hcmd1bWVudCAhPT0gJ3VuZGVmaW5lZCdcblx0fSxcblxuXHRjbG9uZU9iamVjdCAoX29iamVjdCkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9vYmplY3QpKVxuXHR9LFxuXG5cdHJlYWRGaWxlIChmaWxlLCBjYWxsYmFjaykge1xuXHQgICAgaWYgKC9cXC4oanBlP2d8cG5nfGdpZikkL2kudGVzdChmaWxlLm5hbWUpKSB7XG5cdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHRcdFx0cmVhZGVyLm9ubG9hZCA9ICgpID0+IHsgXG5cdFx0XHRcdGNhbGxiYWNrKHtcblx0XHRcdFx0XHRuYW1lOiBmaWxlLm5hbWUsXG5cdFx0XHRcdFx0ZGF0YTogdGhpcy5yZXN1bHRcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG5cdCAgICB9XG5cdH0sXG5cblx0ZHJvcEZpbGUgKHpvbmUsIG9ucmVhZHkpIHtcblx0XHR6b25lLm9uZHJhZ292ZXJcdFx0PSAoKSA9PiB7IHpvbmUuY2xhc3NMaXN0LmFkZCgnZHJvcCcpOyByZXR1cm4gZmFsc2UgfVxuXHRcdHpvbmUub25kcmFnbGVhdmVcdD0gKCkgPT4geyB6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AnKSB9XG5cdFx0em9uZS5vbmRyb3AgXHRcdD0gKCgpID0+IHtcblx0XHRcdHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcCcpXG5cdFx0XHR2YXIgZXZlbnQgXHQ9IHdpbmRvdy5ldmVudFxuXHRcdFx0dmFyIGZpbGVzIFx0PSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXNcblx0XHRcdHZhciBvdXRwdXRcdD0gW11cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpICsrKVxuXHRcdFx0XHR0aGlzLnJlYWRGaWxlKGZpbGVzW2ldLCBmdW5jdGlvbiAoZmlsZSkge1xuXHRcdFx0XHRcdG91dHB1dC5wdXNoKGZpbGUpO1xuXHRcdFx0XHRcdGlmIChvdXRwdXQubGVuZ3RoID09IGZpbGVzLmxlbmd0aCkgb25yZWFkeShvdXRwdXQpXG5cdFx0XHRcdH0pXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0fSkuYmluZCh0aGlzKVxuXHR9LFxuXHRcblx0dXBsb2FkRmlsZSAoaW5wdXQsIG9ucmVhZHkpIHtcblx0XHRpbnB1dC5vbmNoYW5nZSA9ICgoKSA9PiB7XG5cdFx0XHR2YXIgZXZlbnQgXHQ9IHdpbmRvdy5ldmVudFxuXHRcdFx0dmFyIGZpbGVzIFx0PSBldmVudC50YXJnZXQuZmlsZXNcblx0XHRcdHZhciBvdXRwdXRcdD0gW11cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpICsrKVxuXHRcdFx0XHR0aGlzLnJlYWRGaWxlKGZpbGVzW2ldLCBmdW5jdGlvbiAoZmlsZSkge1xuXHRcdFx0XHRcdG91dHB1dC5wdXNoKGZpbGUpXG5cdFx0XHRcdFx0aWYgKG91dHB1dC5sZW5ndGggPT0gZmlsZXMubGVuZ3RoKSBvbnJlYWR5KG91dHB1dClcblx0XHRcdFx0fSlcblx0XHR9KS5iaW5kKHRoaXMpXG5cdH0sXG5cdFxuXHRjb21wcmVzc0ltYWdlIChsaXN0LCBzY2FsZSwgcXVhbGl0eSwgY2FsbGJhY2spIHtcblx0XHR2YXIgb3V0cHV0ID0gW11cblx0XHRsaXN0LmZvckVhY2goZGF0YSA9PiB7XG5cdFx0XHR2YXIgaW1hZ2VcdFx0PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuXHRcdFx0aW1hZ2Uub25sb2FkIFx0PSAoKSA9PiB7XG5cdFx0XHRcdHZhciBjYW52YXMgXHRcdD0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcblx0XHRcdFx0dmFyIGNvbnRleHQgXHQ9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG5cdFx0XHRcdHZhciB3aWR0aCBcdFx0PSB0aGlzLndpZHRoICAqIHNjYWxlXG5cdFx0XHRcdHZhciBoZWlnaHQgXHRcdD0gdGhpcy5oZWlnaHQgKiBzY2FsZVxuXHRcdFx0XHRjYW52YXMud2lkdGggXHQ9IHdpZHRoXG5cdFx0XHRcdGNhbnZhcy5oZWlnaHQgXHQ9IGhlaWdodFxuXHRcdFx0ICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpXG5cdFx0XHQgICAgb3V0cHV0LnB1c2goY2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwgcXVhbGl0eSkpXG5cdFx0XHQgICAgaWYgKG91dHB1dC5sZW5ndGggPT0gbGlzdC5sZW5ndGgpIGNhbGxiYWNrKG91dHB1dClcblx0XHRcdH1cblx0XHRcdGltYWdlLnNyYyA9IGRhdGFcblx0XHR9KVxuXHR9LFxuXG4vKlxuXHRkZWNvZGVCYXNlNjQgKGRhdGFTdHJpbmcpIHtcblx0XHRpZiAodHlwZW9mIEJ1ZmZlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLylcblx0XHRcdGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykgcmV0dXJuIG5ldyBFcnJvcignaW52YWxpZCBpbnB1dCBzdHJpbmcnKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZSA6IG1hdGNoZXNbMV0sXG5cdFx0XHRcdGRhdGEgOiBuZXcgQnVmZmVyKG1hdGNoZXNbMl0sICdiYXNlNjQnKVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcbiovXG4gICAgXG4gICAgY29va2llIDoge1xuXG5cdCAgICBnZXQgKGNvb2tpZXMpIHtcblx0ICAgICAgICB2YXIgb2JqZWN0ID0ge31cblx0XHRcdGlmIChjb29raWVzKSB7XG5cdFx0ICAgICAgICB2YXIgcGFyYW1zID0gY29va2llcy5zcGxpdCgnOyAnKVxuXHRcdCAgICAgICAgcGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuXHRcdCAgICAgICAgICAgIHZhciBidW5kbGUgPSBwYXJhbS5zcGxpdCgnPScpXG5cdFx0ICAgICAgICAgICAgb2JqZWN0W2J1bmRsZVswXV0gPSBidW5kbGVbMV1cblx0XHQgICAgICAgIH0pXG5cdFx0ICAgIH1cblx0ICAgICAgICByZXR1cm4gb2JqZWN0XG5cdCAgICB9LFxuXHQgICAgXG5cdCAgICBzZXQgKGNvb2tpZXMpIHtcblx0ICAgICAgICB2YXIgc3RyaW5nID0gJydcblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29va2llcykgc3RyaW5nICs9IGtleSArJz0nKyBjb29raWVzW2tleV0gKyc7ICdcblx0ICAgICAgICByZXR1cm4gc3RyaW5nXG5cdCAgICB9LFxuXHRcblx0ICAgIGRlbCAoY29va2llcywga2V5KSB7XG5cdFx0ICAgIGNvb2tpZXNba2V5XSA9ICc7IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQnXG5cdCAgICB9LFxuICAgIH0sXG5cblx0c2VhcmNoIDoge1xuXG5cdFx0Z2V0IChhZGRyZXNzKSB7XG5cdCAgICAgICAgdmFyIG9iamVjdCA9IHt9XG5cdCAgICAgICAgdmFyIHF1ZXJ5ID0gYWRkcmVzcy5zcGxpdCgnPycpWzFdXG5cdFx0XHRpZiAocXVlcnkgJiYgcXVlcnkubGVuZ3RoID4gMCkge1xuXHRcdCAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJylcblx0XHQgICAgICAgIHBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcblx0XHQgICAgICAgICAgICB2YXIgYnVuZGxlID0gcGFyYW0uc3BsaXQoJz0nKVxuXHRcdCAgICAgICAgICAgIG9iamVjdFtidW5kbGVbMF1dID0gYnVuZGxlWzFdXG5cdFx0ICAgICAgICB9KVxuXHRcdCAgICB9XG5cdCAgICAgICAgcmV0dXJuIG9iamVjdFxuXHQgICAgfSxcblx0XG5cdCAgICBzZXQgKHF1ZXJ5KSB7XG5cdCAgICAgICAgdmFyIHN0cmluZyA9ICcnXG5cdCAgICAgICAgZm9yICh2YXIga2V5IGluIHF1ZXJ5KVxuXHQgICAgICAgICAgICBzdHJpbmcgKz0ga2V5ICsnPScrIHF1ZXJ5W2tleV0gK1xuXHQgICAgICAgICAgICAgICAgKE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPiAxPyAnJic6ICcnKVxuXHQgICAgICAgIHJldHVybiBzdHJpbmdcblx0ICAgIH0sXG5cdH0sXG5cbiAgICB0aW1lb3V0IDogZnVuY3Rpb24gKGR1cmF0aW9uLCBpbnRlcnZhbCwgY2hlY2ssIGV4ZWN1dGUsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGNvdW50XHQ9IGR1cmF0aW9uIC8gaW50ZXJ2YWw7XG4gICAgICAgIHZhciBsb29wIFx0PSBzZXRJbnRlcnZhbCAoKCkgPT4ge1xuICAgICAgICAgICAgY2hlY2sgKHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKGNvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dCkgdGltZW91dCgpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50IC0tO1xuICAgICAgICB9LCBpbnRlcnZhbCAqIDEwMDApO1xuICAgIH0sXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGlicy9ldGMuanMiLCJcblxuXG5pbXBvcnQge2RlZmF1bHQgYXMgZndEb219IGZyb20gJy4vZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICB0eXBlIDogKCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgdmFyIGlzVG91Y2ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3dcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB0b3VjaDogIGlzVG91Y2gsXG5cdCAgICAgICAgICAgIGRvd246ICAgaXNUb3VjaD8gJ29udG91Y2hzdGFydCcgOiAnb25tb3VzZWRvd24nLFxuXHQgICAgICAgICAgICBtb3ZlOiAgIGlzVG91Y2g/ICdvbnRvdWNobW92ZScgIDogJ29ubW91c2Vtb3ZlJyxcblx0ICAgICAgICAgICAgdXA6ICAgICBpc1RvdWNoPyAnb250b3VjaGVuZCcgICA6ICdvbm1vdXNldXAnLFxuXHQgICAgICAgICAgICBvdXQ6XHQnb25tb3VzZWxlYXZlJ1xuXHQgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKCksXG5cbiAgICBkcmFnIChkb20sIGRvd24sIG1vdmUsIHVwKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgIHZhciB0b3VjaHN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgICAgZndEb20uc2VsZWN0aW9uKGZhbHNlKTtcbiAgICAgICAgICAgIHBhcmFtcy5ldmVudCA9IHRoaXMudHlwZS50b3VjaD9cbiAgICAgICAgICAgICAgICB3aW5kb3cuZXZlbnQudGFyZ2V0VG91Y2hlc1swXTpcbiAgICAgICAgICAgICAgICB3aW5kb3cuZXZlbnRcbiAgICAgICAgICAgIGRvd24ocGFyYW1zKVxuICAgICAgICAgICAgZG9tW3RoaXMudHlwZS5kb3duXSAgICAgICAgICAgID0gbnVsbFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keVt0aGlzLnR5cGUubW92ZV0gID0gdG91Y2htb3ZlLmJpbmQodGhpcylcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHlbdGhpcy50eXBlLnVwXSAgICA9IHRvdWNoZW5kLmJpbmQodGhpcylcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHlbdGhpcy50eXBlLm91dF0gICA9IHRvdWNoZW5kLmJpbmQodGhpcylcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIHRvdWNobW92ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBwYXJhbXMuZXZlbnQgPSB0aGlzLnR5cGUudG91Y2g/XG4gICAgICAgICAgICAgICAgd2luZG93LmV2ZW50LnRhcmdldFRvdWNoZXNbMF06XG4gICAgICAgICAgICAgICAgd2luZG93LmV2ZW50XG4gICAgICAgICAgICBtb3ZlKHBhcmFtcylcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgXHRmd0RvbS5zZWxlY3Rpb24odHJ1ZSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHlbdGhpcy50eXBlLm1vdmVdICAgID0gbnVsbFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keVt0aGlzLnR5cGUudXBdICAgICAgPSBudWxsXG4gICAgICAgICAgICBkb21bdGhpcy50eXBlLmRvd25dICAgICAgICAgICAgICA9IHRvdWNoc3RhcnQuYmluZCh0aGlzKVxuICAgICAgICAgICAgdXAocGFyYW1zKVxuICAgICAgICB9XG4gICAgICAgIGRvbVt0aGlzLnR5cGUuZG93bl0gPSB0b3VjaHN0YXJ0LmJpbmQodGhpcylcbiAgICB9LFxuICAgIFxuXHRyZXNpemUgOiBjbGFzcyB7XG5cdFx0XG5cdFx0Y29uc3RydWN0b3IgKG9uRHJhZ1N0YXJ0LCBvbkRyYWdVcGRhdGUsIG9uRHJhZ1JlbGVhc2UpIHtcblx0XHRcdHRoaXMudGltZW91dCBcdFx0XHQ9IG51bGxcblx0XHRcdHRoaXMub25EcmFnU3RhcnRGbGFnIFx0PSBudWxsXG5cdFx0XHR0aGlzLm9uRHJhZ1N0YXJ0XHRcdD0gb25EcmFnU3RhcnRcblx0XHRcdHRoaXMub25EcmFnVXBkYXRlIFx0XHQ9IG9uRHJhZ1VwZGF0ZVxuXHRcdFx0dGhpcy5vbkRyYWdSZWxlYXNlIFx0XHQ9IG9uRHJhZ1JlbGVhc2Vcblx0XHR9XG5cblx0XHRjYWxsICgpIHtcblx0XHRcdHRoaXMuY2hlY2tTdGFydCgpXG5cdFx0XHRpZiAodGhpcy5vbkRyYWdVcGRhdGUpIHRoaXMub25EcmFnVXBkYXRlKClcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuXHQgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5vbkVuZC5iaW5kKHRoaXMpLCAyMDApXG5cdFx0fVxuXHRcdFxuXHRcdGNoZWNrU3RhcnQgKCkge1xuXHRcdFx0aWYgKCF0aGlzLm9uRHJhZ1N0YXJ0RmxhZykge1xuXHRcdFx0ICAgIHRoaXMub25EcmFnU3RhcnRGbGFnID0gdHJ1ZVxuXHRcdFx0ICAgIGlmICh0aGlzLm9uRHJhZ1N0YXJ0KSB0aGlzLm9uRHJhZ1N0YXJ0KClcblx0XHQgICAgfVxuXHRcdH1cblxuXHRcdG9uRW5kICgpIHtcblx0XHRcdGlmICh0aGlzLm9uRHJhZ1N0YXJ0RmxhZykge1xuXHRcdFx0XHR0aGlzLm9uRHJhZ1N0YXJ0RmxhZyA9IGZhbHNlXG5cdFx0XHRcdGlmICh0aGlzLm9uRHJhZ1JlbGVhc2UpIHRoaXMub25EcmFnUmVsZWFzZSgpXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYnMvZXZlbnQuanMiLCJcblxuXG5pbXBvcnQge2RlZmF1bHQgYXMgZndHZW9tZXRyeX0gXHRmcm9tICcuL2dlb21ldHJ5J1xuaW1wb3J0IHtkZWZhdWx0IGFzIGZ3Q29sb3J9IFx0ZnJvbSAnLi9jb2xvcidcblxuZXhwb3J0IGRlZmF1bHQge1xuXG5cdGJveCA6IGNsYXNzIHtcblx0XHRjb25zdHJ1Y3RvciAoKSB7XG5cdFx0XHR0aGlzLmwgPSAwXG5cdFx0XHR0aGlzLncgPSAwXG5cdFx0XHR0aGlzLnQgPSAwIFxuXHRcdFx0dGhpcy5oID0gMFxuXHRcdH1cblx0XHRyICgpIHtyZXR1cm4gdGhpcy5sICsgdGhpcy53fVxuXHRcdGIgKCkge3JldHVybiB0aGlzLnQgKyB0aGlzLmh9XG5cdH0sXG5cblx0Z2V0IChfbWF4LCBfYm94ZXMpIHtcblx0XHR2YXIgYm94ZXNcdD0gbmV3IEFycmF5KClcblx0XHR2YXIgYXJlYSBcdD0gX21heC53ICogX21heC5oXG5cdFx0Zm9yICh2YXIgbkNlbGwgPSAwOyBuQ2VsbCA8IGFyZWE7IG5DZWxsICsrKSB7XG5cdFx0XHQvLyBIZWFkXG5cdFx0XHR2YXIgaGVhZCBcdD0gbmV3IHRoaXMuYm94KClcblx0XHRcdGhlYWQubCBcdFx0PSBuQ2VsbCAlIF9tYXgud1xuXHRcdFx0aGVhZC50IFx0XHQ9IHBhcnNlSW50KG5DZWxsIC8gX21heC53KVxuXHRcdFx0Ly8gQ2hlY2sgb25seSBmcmVlIFBvc2l0aW9uc1xuXHRcdFx0aWYgKCF0aGlzLmNvbGxpZGUoX2JveGVzLCBoZWFkKSkge1xuXHRcdFx0XHQvLyBFeHBhbnNpb24gdG8gUmlnaHQgYW5kIEJvdHRvbVxuXHRcdFx0XHR2YXIgZXhwYW5zaW9uID0ge3g6IHRydWUsIHk6IHRydWV9XG5cdFx0XHRcdC8vIFN0YXJ0IEV4cGFuc2lvbiB0byBSaWdodFxuXHRcdFx0XHR3aGlsZSAoZXhwYW5zaW9uLngpIHtcdFx0XG5cdFx0XHRcdFx0Ly8gU3RhcnQgRXhwYW5zaW9uIHRvIEJvdHRvbVxuXHRcdFx0XHRcdHdoaWxlIChleHBhbnNpb24ueSkge1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZnV0dXJlIFJhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHR0aGlzLmNvbGxpZGUoX2JveGVzLCB0aGlzLnNoaWZ0KGhlYWQsICd5JywgMSkpIHx8IFxuXHRcdFx0XHRcdFx0XHRoZWFkLmIoKSA9PSBfbWF4Lmhcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHQvLyBTdG9wIGV4cGFuc2lvbiB0byBCb3R0b21cblx0XHRcdFx0XHRcdFx0ZXhwYW5zaW9uLnkgPSBmYWxzZVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gRXhwYW5kIHRvIEJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgXHRoZWFkLmggKz0gMVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBDaGVjayBjdXJyZW50IFJhbmdlXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0dGhpcy5jb2xsaWRlKF9ib3hlcywgaGVhZCkgfHwgXG5cdFx0XHRcdFx0XHRoZWFkLnIoKSA+IF9tYXgud1xuXHRcdFx0XHRcdCkge1x0XG5cdFx0XHRcdFx0XHQvLyBTdG9wIEV4cGFuc2lvbiB0byBSaWdodFxuXHRcdFx0XHRcdFx0ZXhwYW5zaW9uLnggPSBmYWxzZVxuXHRcdFx0XHRcdFx0Ym94ZXMgPSB0aGlzLmRldGFjaChib3hlcylcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gU3RhcnQgbmV3IEV4cGFuc2lvbiB0byBCb3R0b21cblx0XHRcdFx0XHRcdGV4cGFuc2lvbi55ID0gdHJ1ZVxuXHRcdFx0XHRcdFx0Ym94ZXMgPSB0aGlzLmFwcGVuZChib3hlcywgaGVhZClcblx0XHRcdFx0XHRcdC8vIFJlc2V0IEhlaWdodCBhbmQgRXhwYW5kIHRvIFJpZ2h0XG5cdFx0XHRcdFx0XHRoZWFkLmggID0gMVxuXHRcdFx0XHRcdFx0aGVhZC53ICs9IDFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ym94ZXMgPSB0aGlzLmZpbHRlcihib3hlcylcblx0XHRpZiAoMCkgeyB0aGlzLnRlc3QoYm94ZXMpIH1cblx0XHRyZXR1cm4gYm94ZXNcblx0fSxcblxuXHRhcHBlbmQgKGJveGVzLCBoZWFkKSB7XG5cdFx0dmFyIGxhc3QgPSBib3hlcy5sZW5ndGggLSAxXG5cdFx0dmFyIGJveCAgPSBuZXcgdGhpcy5ib3goKVxuXHRcdGJveC5sID0gaGVhZC5sOyBib3gudCA9IGhlYWQudFxuXHRcdGJveC53ID0gaGVhZC53OyBib3guaCA9IGhlYWQuaFxuXHRcdGlmIChcblx0XHRcdGJveGVzW2xhc3RdICAgJiYgXG5cdFx0XHRib3hlc1tsYXN0XS5oID09IGhlYWQuaCAmJlxuXHRcdFx0Ym94ZXNbbGFzdF0ubCA9PSBoZWFkLmxcblx0XHQpXG5cdFx0XHRib3hlc1tsYXN0XSA9IGJveFxuXHRcdGVsc2Vcblx0XHRcdGJveGVzLnB1c2goYm94KVxuXHRcdHJldHVybiBib3hlc1xuXHR9LFxuXHRcblx0ZGV0YWNoIChib3hlcykge1xuXHRcdHByZXYgPSBib3hlcy5sZW5ndGggLSAyXG5cdFx0bGFzdCA9IGJveGVzLmxlbmd0aCAtIDFcblx0XHRpZiAoXG5cdFx0XHRib3hlc1twcmV2XSAgICAgJiYgXG5cdFx0XHRib3hlc1twcmV2XS5oIFx0PT0gYm94ZXNbbGFzdF0uaCAgICYmXG5cdFx0XHRib3hlc1twcmV2XS5yKCkgPT0gYm94ZXNbbGFzdF0ucigpXG5cdFx0KSBib3hlcy5wb3AoKVxuXHRcdHJldHVybiBib3hlc1xuXHR9LFxuXHRcblx0ZmlsdGVyIChib3hlcykge1xuXHRcdHZhciBib3hlc0xlbmd0aCA9IGJveGVzLmxlbmd0aFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYm94ZXNMZW5ndGg7IGkgKyspIHtcblx0XHRcdGZvciAodmFyIG4gPSAwOyBuIDwgYm94ZXNMZW5ndGg7IG4gKyspIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCBpICE9IG4gJiYgXG5cdFx0XHRcdFx0Ym94ZXNbaV0gICAmJiBib3hlc1tuXSAgICYmXG5cdFx0XHRcdFx0Ym94ZXNbaV0ubCA8PSBib3hlc1tuXS5sICYmIGJveGVzW2ldLnIoKSA+PSBib3hlc1tuXS5yKCkgJiZcblx0XHRcdFx0XHRib3hlc1tpXS50IDw9IGJveGVzW25dLnQgJiYgYm94ZXNbaV0uYigpID49IGJveGVzW25dLmIoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRib3hlc1tuXSA9IHVuZGVmaW5lZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBib3hlcy5maWx0ZXIoX2JveCA9PiBfYm94KVxuXHR9LFxuXG5cdHNoaWZ0IChoZWFkLCBkaXJlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHBvaW50ZXIgPSBuZXcgdGhpcy5ib3goKVxuXHRcdHBvaW50ZXIubCA9IGhlYWQubFxuXHRcdHBvaW50ZXIudCA9IGhlYWQudFxuXHRcdHBvaW50ZXIudyA9IGhlYWQudyArIChkaXJlY3Rpb24gPT0gJ3gnPyB2YWx1ZTogMClcblx0XHRwb2ludGVyLmggPSBoZWFkLmggKyAoZGlyZWN0aW9uID09ICd5Jz8gdmFsdWU6IDApXG5cdFx0cmV0dXJuIHBvaW50ZXJcblx0fSxcblxuXHRjb2xsaWRlIChsaXN0LCBib3gpIHtcblx0XHR2YXIgbGlzdExlbmd0aCA9IF9saXN0Lmxlbmd0aFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdExlbmd0aDsgaSArKykgXG5cdFx0XHRpZiAoZndHZW9tZXRyeS5ib3hDb2xsaXNpb24oX2xpc3RbaV0sIF9ib3gpKSByZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXHR9LFxuXG5cdHRlc3QgKGJveCkge1xuXHRcdC8vIERlbGV0ZSBPbGQgQm94ZXNcdFx0XG5cdFx0dmFyIG9sZEJveGVzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2xsaWRlcicpXG5cdFx0d2hpbGUgKG9sZEJveGVzLmxlbmd0aCA+IDApIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob2xkQm94ZXNbMF0pXG5cdFx0Ly8gQ3JlYXRlIE5ld1xuXHRcdHZhciBzaGlmdCA9ICgpID0+IHsgcmV0dXJuIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGdsLmdyaWQuZ3V0dGVyIC8gMiB9XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBib3gubGVuZ3RoOyBpICsrKSB7XG5cdFx0XHR2YXIgdGVzdFx0PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdFx0XHR0ZXN0LmNsYXNzTmFtZSA9ICdjb2xsaWRlcidcblx0XHRcdHRlc3Quc3R5bGUuYmFja2dyb3VuZENvbG9yIFx0PSBmd0NvbG9yLnJhbmQoKVxuXHRcdFx0dGVzdC5zdHlsZS5wb3NpdGlvbiBcdFx0PSBcImFic29sdXRlXCJcblx0XHRcdHRlc3Quc3R5bGUubGVmdFx0XHQ9IHNoaWZ0KCkgKyBnbC5ncmlkLlBUdG9QWChib3hbaV0ubCArIDEsIHRydWUpXG5cdFx0XHR0ZXN0LnN0eWxlLnRvcCBcdFx0PSBzaGlmdCgpICsgZ2wuZ3JpZC5QVHRvUFgoYm94W2ldLnQgKyAxLCB0cnVlKVxuXHRcdFx0dGVzdC5zdHlsZS53aWR0aCBcdD0gc2hpZnQoKSArIGdsLmdyaWQuUFR0b1BYKGJveFtpXS53LCBmYWxzZSlcblx0XHRcdHRlc3Quc3R5bGUuaGVpZ2h0IFx0PSBzaGlmdCgpICsgZ2wuZ3JpZC5QVHRvUFgoYm94W2ldLmgsIGZhbHNlKVxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXN0KVxuXHRcdH1cblx0fVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYnMvZnJlZXNwYWNlLmpzIiwiXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG5cdG1hcCAodmFsdWUsIGFNaW4sIGFNYXgsIGJNaW4sIGJNYXgsIGNsYW1wKSB7XG5cdFx0dmFyIHggPSBjbGFtcCA9PSB0cnVlPyAoXG5cdFx0XHR2YWx1ZSA8IGFNaW4/IGFNaW46XG5cdFx0XHR2YWx1ZSA+IGFNYXg/IGFNYXg6IHZhbHVlXG5cdFx0KTogIHZhbHVlXG5cdFx0cmV0dXJuIChcblx0XHRcdCh4IC0gYU1pbikgLyBcblx0XHRcdChhTWF4IC0gYU1pbikgKiBcblx0XHRcdChiTWF4IC0gYk1pbikgKyBiTWluXG5cdFx0KVxuXHR9LFxuXG5cdC8vIEJpbmFyeSBTZWFyY2hcblx0YmluYXJ5U2VhcmNoIChtYXgsIG1pbiwgY2hlY2ssIHNldCkge1xuXHRcdHZhciB0YXJnZXQgPSBsZW5ndGggPSBtYXhcblx0XHR3aGlsZSAobGVuZ3RoID49IG1pbikge1xuXHRcdFx0bGVuZ3RoICo9IDAuNVxuXHRcdFx0dGFyZ2V0ICs9IGxlbmd0aCAqIChjaGVjaygpPyAxOiAtMSlcblx0XHRcdHNldCh0YXJnZXQpXG5cdFx0fVxuXHR9LFxuXHRcblx0bGluZWFySW50ZXJwb2xhdGlvbiAodCwgcG9pbnRzKSB7XG5cdFx0Ly8gSW5pdFxuXHRcdHZhciBwYXJhbXMgXHQ9IFtdXG5cdFx0dmFyIHggXHRcdD0gMFxuXHRcdC8vIEZpbmQgU2VjdG9yXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSArKykgXG5cdFx0XHRpZiAodCA+PSBwb2ludHNbaV1bMF0pIHggPSBpOyBlbHNlIGJyZWFrXG5cdFx0Ly8gRmluZCBMZWZ0IGFuZCBSaWdodCBTaWRlXG5cdFx0dmFyIGxWYWx1ZSA9IHBvaW50c1t4XVxuXHRcdHZhciByVmFsdWUgPSBwb2ludHNbeCsxXVxuXHRcdC8vIEludGVycG9sYXRlIFBhcmFtZXRlcnNcblx0XHRmb3IgKHZhciBpID0gMTsgaSA8IGxWYWx1ZS5sZW5ndGg7IGkgKyspXG5cdFx0XHRwYXJhbXMucHVzaCh0aGlzLm1hcCh0LCBsVmFsdWVbMF0sIHJWYWx1ZVswXSwgbFZhbHVlW2ldLCByVmFsdWVbaV0pKVxuXHRcdC8vIFJldHVyblxuXHRcdHJldHVybiBwYXJhbXNcblx0fSxcblxuXHRnZXRWYWx1ZUJ5U2l6ZSAodmFsdWUsIHNpemVzKSB7XG5cdFx0dmFyIGxpbmVDb3VudHMgID0gbnVsbFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZXMubGVuZ3RoOyBpICsrKVxuXHRcdFx0aWYgXHQodmFsdWUgPj0gc2l6ZXNbaV1bMF0pIGxpbmVDb3VudHMgPSBzaXplc1tpXVsxXVxuXHRcdHJldHVybiBsaW5lQ291bnRzXG5cdH0sXG5cblx0cnViYmVyRWZmZWN0ICh2YWx1ZSwgbWluLCBtYXgsIHRocmVzaG9sZCwgc3RhdGUpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuZGVzbW9zLmNvbS9jYWxjdWxhdG9yXG4gICAgICAgIC8vIEJhc2VkIG9uIDEtcG93KDEreCwtMSlcblx0XHR2YXIgZmFjdG9yIFx0PSAxLjNcblx0XHR2YXIgbWF4VHJ1ZSA9IHR5cGVvZiBtYXggIT09ICd1bmRlZmluZWQnXG5cdFx0dmFyIG1pblRydWUgPSB0eXBlb2YgbWluICE9PSAndW5kZWZpbmVkJ1xuXHRcdGlmIChtYXhUcnVlIHx8IG1pblRydWUpIHtcblx0XHRcdHZhciBkaXJlY3Rpb24gXHQ9IHZhbHVlIDwgbWF4XG5cdFx0XHR2YXIgdGhyZXNob2xkIFx0PSAoZGlyZWN0aW9uPyAxOiAtMSkgKiB0aHJlc2hvbGRcblx0XHRcdHZhciByYW5nZVx0XHQ9IGRpcmVjdGlvbj8gbWF4OiBtaW5cblx0XHRcdHZhciB4ID0gKHJhbmdlIC0gdmFsdWUpIC8gdGhyZXNob2xkXG5cdFx0XHR2YXIgeSA9IHJhbmdlIC0gdGhyZXNob2xkICogKDEgLSBNYXRoLnBvdygxICsgeCwgLWZhY3RvcikpXG5cdFx0fVxuXHRcdHZhciBtYXhTdGF0ZSA9IG1heFRydWUgJiYgdmFsdWUgPCBtYXhcblx0XHR2YXIgbWluU3RhdGUgPSBtaW5UcnVlICYmIHZhbHVlID4gbWluXG5cdFx0aWYgKHN0YXRlKSBzdGF0ZShtYXhTdGF0ZT8gJ21heCc6IG1pblN0YXRlPyAnbWluJzogbnVsbClcblx0XHRyZXR1cm4gKG1heFN0YXRlIHx8IG1pblN0YXRlPyB5OiB2YWx1ZSlcblx0fSxcbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWJzL21hdGguanMiLCJcblxuXG5pbXBvcnQge2RlZmF1bHQgYXMgZndTdHlsZX0gZnJvbSAnLi9zdHlsZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFxuXHRlbGxpcHNpcyAoZG9tLCB0ZXh0LCBlbGxwc2lzLCBjaGVjaykge1xuXHRcdGRvbS5pbm5lckhUTUwgPSB0ZXh0XG5cdFx0aWYgKCFjaGVjaygpKSB7XG5cdFx0XHR2YXIgd29yZHMgXHQ9IHRleHQuc3BsaXQoJyAnKVxuXHRcdFx0dmFyIGxlbmd0aCBcdD0gd29yZHMubGVuZ3RoXG5cdFx0XHR2YXIgc2V0IFx0PSBmdW5jdGlvbiAoX2kpIHsgXG5cdFx0XHRcdGRvbS5pbm5lckhUTUwgPSB3b3Jkc1xuXHRcdFx0XHRcdC5zbGljZSgwLCBfaSlcblx0XHRcdFx0XHQuam9pbignICcpXG5cdFx0XHRcdFx0KyBlbGxwc2lzXG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArKykge1xuXHRcdFx0XHRzZXQoaSlcblx0XHRcdFx0aWYgXHQoIWNoZWNrKCkpIHsgXG5cdFx0XHRcdFx0c2V0KGktMSlcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGxpbmVDb3VudCAoZG9tKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdGRvbS5vZmZzZXRIZWlnaHQgLyBcblx0XHRcdHBhcnNlSW50KGZ3U3R5bGUuY29tcHV0ZWQoZG9tLCAnbGluZS1oZWlnaHQnKSlcblx0XHQpXG5cdH0sXG5cblx0Y2FwaXRhbGl6ZSAoc3RyaW5nKSB7XG4gICAgXHRyZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpXG5cdH0sXG5cblx0aGFzaCAoc3RyaW5nKSB7XG5cdCAgICB2YXIgaGFzaCA9IDBcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpICsrKSBcblx0ICAgIFx0aGFzaCArPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXHQgICAgcmV0dXJuIGhhc2hcblx0fVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYnMvdGV4dC5qcyIsIlxuXG5cbmltcG9ydCB7ZGVmYXVsdCBhcyBmd1N0eWxlfSBmcm9tICcuL3N0eWxlJ1xuXG5leHBvcnQgZGVmYXVsdCBlbGVtZW50ID0+IHtcblxuXHQvLyBNZXRob2RzXG5cdHZhciBzZXRUcmFuc2Zvcm1hdGlvbiA9IGRvbSA9PiB7XG5cdFx0dmFyIHRyYW5zbGF0ZSBcdD0gJ3RyYW5zbGF0ZSgnKyBkb20udmFsdWUudHJhbnNsYXRpb24ueCArJ3B4LCAnKyBkb20udmFsdWUudHJhbnNsYXRpb24ueSArJ3B4KSdcblx0XHR2YXIgc2NhbGUgXHRcdD0gXHQgICdzY2FsZSgnKyBkb20udmFsdWUuc2NhbGUueCBcdCAgICArJywgICAnKyBkb20udmFsdWUuc2NhbGUueSArJyknXG5cdFx0ZG9tLnN0eWxlW2Z3U3R5bGUudmVuZG9yUHJlZml4ICsnVHJhbnNmb3JtJ10gPSB0cmFuc2xhdGUgKycgJysgc2NhbGVcblx0fVxuXG5cdHZhciBzZXRPcmlnaW4gPSBkb20gPT4ge1xuXHRcdGRvbS5zdHlsZVtmd1N0eWxlLnZlbmRvclByZWZpeCArJ1RyYW5zZm9ybU9yaWdpbiddID1cblx0XHRcdGRvbS52YWx1ZS5vcmlnaW4ueCArJyAnKyBcblx0XHRcdGRvbS52YWx1ZS5vcmlnaW4ueVxuXHR9XG5cblx0Ly8gU3RvcmUgVmFsdWVzXG5cdGVsZW1lbnQudmFsdWUgPSB7XG5cdFx0ICAgICBvcmlnaW46IHt4OiAwLCB5OiAwfSxcblx0XHR0cmFuc2xhdGlvbjoge3g6IDAsIHk6IDB9LFxuXHRcdCAgICAgIHNjYWxlOiB7eDogMSwgeTogMX0sXG5cdFx0ICAgcm90YXRpb246IHt6OiAwfVxuXHR9XG5cblx0Ly8gT3JpZ2luXG5cdGVsZW1lbnQub3JpZ2luWFkgPSBmdW5jdGlvbiAoeCwgeSkge1xuXHRcdHRoaXMudmFsdWUub3JpZ2luLnggPSB4XG5cdFx0dGhpcy52YWx1ZS5vcmlnaW4ueSA9IHlcblx0XHRzZXRPcmlnaW4odGhpcylcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRlbGVtZW50Lm9yaWdpblggPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLnZhbHVlLm9yaWdpbi54ID0gdmFsdWVcblx0XHRzZXRPcmlnaW4odGhpcylcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0ZWxlbWVudC5vcmlnaW5ZID0gZnVuY3Rpb24gKHZhbHVlKSB7XHRcdFxuXHRcdHRoaXMudmFsdWUub3JpZ2luLnkgPSB2YWx1ZVxuXHRcdHNldE9yaWdpbih0aGlzKVxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHQvLyBUcmFuc2xhdGVcblx0ZWxlbWVudC50cmFuc2xhdGVYWSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdFx0dGhpcy52YWx1ZS50cmFuc2xhdGlvbi54ID0geFxuXHRcdHRoaXMudmFsdWUudHJhbnNsYXRpb24ueSA9IHlcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKVxuXHRcdHJldHVybiB0aGlzXG5cdH1cblx0XG5cdGVsZW1lbnQudHJhbnNsYXRlWCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMudmFsdWUudHJhbnNsYXRpb24ueCA9IHZhbHVlXG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcylcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0ZWxlbWVudC50cmFuc2xhdGVZID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS50cmFuc2xhdGlvbi55ID0gdmFsdWVcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKVxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHQvLyBTY2FsZVxuXHRlbGVtZW50LnNjYWxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS5zY2FsZS54ID1cblx0XHR0aGlzLnZhbHVlLnNjYWxlLnkgPSB2YWx1ZVxuXHRcdHNldFRyYW5zZm9ybWF0aW9uKHRoaXMpXG5cdFx0cmV0dXJuIHRoaXNcblx0fVxuXHRcblx0ZWxlbWVudC5zY2FsZVhZID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0XHR0aGlzLnZhbHVlLnNjYWxlLnggPSB4XG5cdFx0dGhpcy52YWx1ZS5zY2FsZS55ID0geVxuXHRcdHNldFRyYW5zZm9ybWF0aW9uKHRoaXMpXG5cdFx0cmV0dXJuIHRoaXNcblx0fVxuXG5cdGVsZW1lbnQuc2NhbGVYID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS5zY2FsZS54ID0gdmFsdWVcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKVxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHRlbGVtZW50LnNjYWxlWSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMudmFsdWUuc2NhbGUueSA9IHZhbHVlXG5cdFx0c2V0VHJhbnNmb3JtYXRpb24odGhpcylcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0Ly8gUm90YXRlXG5cdGVsZW1lbnQucm90YXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZS5yb3RhdGlvbi56ID0gdmFsdWVcblx0XHRzZXRUcmFuc2Zvcm1hdGlvbih0aGlzKVxuXHRcdHJldHVybiB0aGlzXG5cdH1cbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWJzL3RyYW5zZm9ybWF0aW9uLmpzIiwiXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjIHtcblxuICAgIGNvbnN0cnVjdG9yICh4ID0gMCwgeSA9IDAsIHogPSAwKSB7XG4gICAgICAgIHRoaXMueCA9IHhcbiAgICAgICAgdGhpcy55ID0geVxuICAgICAgICB0aGlzLnogPSB6XG5cdFx0Y29uc29sZS5sb2coJ3ZlY3RvciBub3QgY3V0dGVkJylcbiAgICB9XG5cbiAgICBjb3B5ICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWModGhpcy54LCB0aGlzLnksIHRoaXMueilcbiAgICB9XG5cbiAgICBhZGQgKHZlYywgc2V0KSB7XG5cdCAgICBpZiAoc2V0KSB7XG5cdCAgICAgICAgdGhpcy54ICs9IHZlYy54XG5cdCAgICAgICAgdGhpcy55ICs9IHZlYy55XG5cdCAgICAgICAgdGhpcy56ICs9IHZlYy56XG5cdCAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfSBlbHNlIHJldHVybiBuZXcgVmVjKFxuICAgICAgICAgICAgdGhpcy54ICsgdmVjLngsXG4gICAgICAgICAgICB0aGlzLnkgKyB2ZWMueSxcbiAgICAgICAgICAgIHRoaXMueiArIHZlYy56XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBzdWIgKHZlYywgc2V0KSB7XG5cdFx0aWYgKHNldCnCoHsgICBcblx0ICAgICAgICB0aGlzLnggLT0gdmVjLnhcblx0ICAgICAgICB0aGlzLnkgLT0gdmVjLnlcblx0ICAgICAgICB0aGlzLnogLT0gdmVjLnpcblx0ICAgICAgICByZXR1cm4gdGhpc1xuXHRcdH0gZWxzZSByZXR1cm4gbmV3IFZlYyhcbiAgICAgICAgICAgIHRoaXMueCAtIHZlYy54LFxuICAgICAgICAgICAgdGhpcy55IC0gdmVjLnksXG4gICAgICAgICAgICB0aGlzLnogLSB2ZWMuelxuICAgICAgICApXG4gICAgfVxuICAgIFxuICAgIGRpdiAodmVjLCBhcHBseSkge1xuXHQgICAgaWYgKGFwcGx5KSB7XG5cdCAgICAgICAgdGhpcy54IC89IHZlYy54XG5cdCAgICAgICAgdGhpcy55IC89IHZlYy55XG5cdCAgICAgICAgdGhpcy56IC89IHZlYy56XG5cdCAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfSBlbHNlIHJldHVybiBuZXcgVmVjKFxuICAgICAgICAgICAgdGhpcy54IC8gdmVjLngsXG4gICAgICAgICAgICB0aGlzLnkgLyB2ZWMueSxcbiAgICAgICAgICAgIHRoaXMueiAvIHZlYy56XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBsZW4gKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3codGhpcy54LCAyKSArXG4gICAgICAgICAgICBNYXRoLnBvdyh0aGlzLnksIDIpICtcbiAgICAgICAgICAgIE1hdGgucG93KHRoaXMueiwgMilcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHNjYWxlIChsZW4sIHNldCkge1xuXHQgICAgaWYgKHNldCkge1x0XG5cdFx0XHR0aGlzLnggKj0gbGVuXG5cdFx0XHR0aGlzLnkgKj0gbGVuXG5cdFx0XHR0aGlzLnogKj0gbGVuXG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdH0gZWxzZSByZXR1cm4gbmV3IFZlYyhcbiAgICAgICAgICAgIHRoaXMueCAqIGxlbixcbiAgICAgICAgICAgIHRoaXMueSAqIGxlbixcbiAgICAgICAgICAgIHRoaXMueiAqIGxlblxuICAgICAgICApXG4gICAgfVxuXG4gICAgbm9ybSAoc2V0KSB7XG5cdCAgICBpZiAoc2V0KSB7XG5cdFx0ICAgIHZhciBsZW4gPSAxIC8gdGhpcy5sZW4oKVxuXHQgICAgICAgIHRoaXMueCAqPSBsZW5cblx0ICAgICAgICB0aGlzLnkgKj0gbGVuXG5cdCAgICAgICAgdGhpcy56ICo9IGxlblxuXHQgICAgICAgIHJldHVybiB0aGlzXG5cdCAgICB9IGVsc2Uge1xuXHRcdCAgICB2YXIgbGVuID0gMSAvIHRoaXMubGVuKClcblx0ICAgICAgICByZXR1cm4gbmV3IFZlYyhcblx0ICAgICAgICAgICAgdGhpcy54ICogbGVuLFxuXHQgICAgICAgICAgICB0aGlzLnkgKiBsZW4sXG5cdCAgICAgICAgICAgIHRoaXMueiAqIGxlblxuXHQgICAgICAgIClcbiAgICAgICAgfVxuICAgIH1cbiBcbiAgICByZXNpemUgKGxlbikge1xuICAgICAgICB2YXIgbm9ybSA9IHRoaXMuZ2V0Tm9ybSgpXG4gICAgICAgIHJldHVybiBuZXcgVmVjKFxuICAgICAgICAgICAgbm9ybS54ICogbGVuLFxuICAgICAgICAgICAgbm9ybS55ICogbGVuLFxuICAgICAgICAgICAgbm9ybS56ICogbGVuXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBnZXRUd2VlbiAodmVjLCBpKSB7XG4gICAgXHRyZXR1cm4gbmV3IFZlYyhcblx0ICAgIFx0aSAqICh2ZWMueCAtIHRoaXMueCkgKyB0aGlzLngsXG5cdCAgICBcdGkgKiAodmVjLnkgLSB0aGlzLnkpICsgdGhpcy55LFxuXHQgICAgXHRpICogKHZlYy56IC0gdGhpcy56KSArIHRoaXMuelxuICAgIFx0KVxuICAgIH1cblxuICAgIGdldEFuZ2xlMkQgKCkge1xuXHQgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy54LCB0aGlzLnkpICogMTgwIC8gTWF0aC5QSVxuICAgIH1cbn07XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGlicy92ZWN0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9